(window.webpackJsonp=window.webpackJsonp||[]).push([["threadview-utv"],{"+a0K":function(e,t){function n(e,t){return e===t||e!=e&&t!=t}e.exports=n},"/Dz0":function(e,t,n){"use strict";n.d(t,"a",function(){return i});n.d(t,"b",function(){return o});var r=n("Ut5p"),a=n("wwi/"),i=Object(r.b)(a.g);function o(){return function(e){e(i())}}},"/EZN":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=["video/*","audio/*","application/json","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/msword","application/pdf","application/zip","application/x-zip","application/x-zip-compressed","application/x-7z-compressed","application/gzip","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","image/gif","image/jpeg","image/jpg","image/png","image/tiff","text/calendar","text/css","text/csv","text/plain"]},"/Maw":function(e,t,n){"use strict";var r=n("fFSu"),a=n("QgEn"),i=n("VfuR"),o=n.n(i),s=n("9f1P"),c=n.n(s),u=n("NrIs"),l="default",d="on-dark",p=n("yN1k"),h=n("0wDu"),f=n("PrNr"),b=h.a,m=h.b,g=h.g,j=h.h,v=function(){return f.l},O=function(e){var t=e.theme;switch(e.use){case d:return Object(s.css)(["background-color:",";"],v(t));case l:default:return null}},x=function(e){var t=e.theme;return Object(s.css)(["cursor:not-allowed;background-color:",";"],b(t))},y=function(e){var t=e.theme;return Object(s.css)(["color:",";cursor:not-allowed;&::after{color:",";}"],m(t),m(t))},C=c.a.input.withConfig({displayName:"VizExInput__StyledTextInput",componentId:"sc-6njq4o-0"})(["",";height:100%;width:100%;line-height:22px;font-size:16px;padding-left:10px;padding-right:10px;border:none;border-radius:3px;background:transparent;",";:focus{outline:none;}::placeholder{color:",";}"],p.a,function(e){return e.disabled&&y(e)},function(e){var t=e.theme;return g(t)}),w=c.a.div.withConfig({displayName:"VizExInput__InputContainer",componentId:"sc-6njq4o-1"})(["height:42px;line-height:22px;font-size:16px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;border:1px solid;border-color:",";background-color:",";:focus-within{border-color:",";}border-radius:3px;"," ",";"],function(e){var t=e.theme;return e.focus?j(t):Object(h.f)(t)},function(e){var t=e.theme;return Object(h.e)(t)},function(e){var t=e.theme;return j(t)},O,function(e){return e.disabled&&x(e)}),A=function(e){var t=e.suffix,n=e.prefix,i=e.disabled,o=e.placeholder,s=e.value,c=e.onChange,u=e.containerStyles,l=e.theme,d=e.use,p=e.focus,h=Object(r.a)(e,["suffix","prefix","disabled","placeholder","value","onChange","containerStyles","theme","use","focus"]);return Object(a.jsxs)(w,{disabled:i,style:u,theme:l,use:d,focus:p,"data-testid":"VizExInput-Container",children:[n,Object(a.jsx)(C,Object.assign({"aria-disabled":i,disabled:i,placeholder:o,value:s,onChange:c,theme:l,use:d,"data-testid":"VizExInput-Input"},h)),t]})};A.displayName="VizExInput";A.defaultProps={placeholder:""};A.propTypes={containerStyles:o.a.object,disabled:o.a.bool,focus:o.a.bool,onChange:o.a.func,onInput:o.a.func,placeholder:o.a.string,prefix:o.a.node,suffix:o.a.node,theme:u.a,use:o.a.oneOfType([l,d]),value:o.a.string};t.a=A},"/TWJ":function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},"/rM/":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("/OK6"),a=n("mQyI"),i=function(e){return Object(a.isTypingMessage)(e)&&Object(r.isFromVisitor)(e)}},"0IL2":function(e,t,n){"use strict";var r=n("fzi9"),a=n("QgEn"),i=n("VfuR"),o=n.n(i),s=n("Ktcs"),c=n("9f1P"),u=n.n(c),l=n("Umjh"),d=n("VdXU"),p=n("sl/w"),h=n("eP/i"),f=n("qCVG"),b=n("gFbD"),m=n("fzij"),g=u.a.div.withConfig({displayName:"ConsentPrompt__Container",componentId:"sc-6jrzo6-0"})(["border-top:2px solid ",";display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:12px 24px;"],h.f),j=u()(m.a).withConfig({displayName:"ConsentPrompt__SmallNoParagraphPadding",componentId:"sc-6jrzo6-1"})(["display:block;word-break:break-word;word-wrap:break-word;-ms-word-break:break-all;p{margin-bottom:0;}"]),v=u()(d.a).withConfig({displayName:"ConsentPrompt__FullWidthButton",componentId:"sc-6jrzo6-2"})(["flex:0 1 100%;"]),O=u.a.div.withConfig({displayName:"ConsentPrompt__FlexWrapper",componentId:"sc-6jrzo6-3"})(["display:flex;flex-direction:row;width:100%;margin:12px 0 8px 0;"]),x=function(e){var t=e.message,n=e.onClick,i=e.showButton,o=Object(s.useState)(!1),c=Object(r.a)(o,2),u=c[0],d=c[1],h=function(){n();d(!0)};return Object(a.jsxs)(g,{"data-test-id":"gdpr-consent-prompt",children:[Object(a.jsx)(j,{use:"help","data-test-id":"gdpr-consent-text",dangerouslySetInnerHTML:{__html:Object(f.a)(t)}}),Object(a.jsx)(O,{children:i&&Object(a.jsx)(l.a,{currentState:u?"submitting":"ready",Button:v,"data-test-id":"gdpr-consent-agree-button",onClick:h,children:Object(a.jsx)(b.a,{children:function(e){return Object(a.jsx)(p.a,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})}})})})]})};x.propTypes={message:o.a.string.isRequired,onClick:o.a.func.isRequired,showButton:o.a.bool.isRequired};x.displayName="ConsentPrompt";t.a=x},"1HZx":function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("UMxk"),c=n("pGTB"),u=n("QgEn"),l=n("OwpT"),d=n.n(l),p=n("A3yT"),h=n("xYYH"),f=n("mKxs"),b=n("nEWr"),m=n("E7sj"),g=n.n(m),j=n("QYOI"),v=n("VfuR"),O=n.n(v),x=n("Ktcs"),y=n("r1tY"),C=n.n(y),w=n("9f1P"),A=n.n(w),k=n("SYgn"),T=n.n(k),I=A.a.div.withConfig({displayName:"MessageComposer__FullWidth",componentId:"cvo94y-0"})(["width:100%;"]),E=A.a.div.withConfig({displayName:"MessageComposer__InputWrapper",componentId:"cvo94y-1"})(["display:flex;width:100%;align-items:center;justify-content:space-between;flex-wrap:nowrap;"]),R=function(e){Object(c.a)(t,e);function t(){Object(r.a)(this,t);return Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}Object(a.a)(t,[{key:"render",value:function(){var e="input-container m-bottom-2"+(this.props.showingHsBranding?"":" no-branding");return Object(u.jsxs)("div",{className:e,children:[this.props.fileUploads&&Object(u.jsx)(I,{children:this.props.fileUploads()}),Object(u.jsxs)(E,{children:[this.props.inputToRender(),this.props.children&&Object(u.jsx)("div",{className:"display-flex flex-row m-left-1 no-shrink",children:this.props.children})]})]})}}]);return t}(x.Component);R.propTypes={children:O.a.node,fileUploads:O.a.func,inputToRender:O.a.func.isRequired,showingHsBranding:O.a.bool};R.defaultProps={fileUploads:null,showingHsBranding:!1};R.displayName="MessageComposer";var S=R,F=n("iu1j"),M=Object(x.createContext)(void 0),P=M.Consumer,B=(M.Provider,n("fzi9")),D=n("fFSu"),N=function(e){Object(x.useEffect)(function(){var t=function(t){if(e(t)){t.stopPropagation();t.preventDefault()}};document.addEventListener("touchmove",t,{passive:!1});return function(){document.removeEventListener("touchmove",t)}},[e])},_=function(){},q=function(e){var t=Object(x.forwardRef)(function(t,n){var r=t.onBlur,a=t.onFocus,i=Object(D.a)(t,["onBlur","onFocus"]),o=n||Object(x.useRef)(),s=Object(x.useState)(null),c=Object(B.a)(s,2),l=c[0],d=c[1];N(function(e){if(l&&e.target!==l){o.current&&o.current.blur();d(null);return!1}return Boolean(l)});var p=function(e){d(null);r(e)},h=function(e){e.target&&d(e.target);a(e)};return Object(u.jsx)(e,Object.assign({},i,{ref:o,onFocus:h,onBlur:p}))});t.propTypes={onBlur:O.a.func,onFocus:O.a.func};t.defaultProps={onBlur:_,onFocus:_};t.displayName="Component";return t};q.propTypes={innerRef:O.a.func.isRequired,onBlur:O.a.func.isRequired,onFocus:O.a.func.isRequired};var L=q,z=n("NrIs"),U=n("fzij"),H=A.a.div.withConfig({displayName:"VizExFormControl__FormControlWrapper",componentId:"sc-1lfgzws-0"})(["width:100%;flex-basis:100%;"]),V=function(e){Object(c.a)(t,e);function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).getChildProps=function(e){var t=e.ariaLabel,n=e.newError,r=e.newRequired,a=e.validationMessage,i=e.fallbackId,o={"aria-label":t,required:r,"aria-invalid":n,"aria-required":r,ref:e.ref};i&&(o.id=i);n&&(o.error=a);return o};return n}Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],n=e.error,r=e.validationMessage,a=e.required,i=e.theme,o=e.children,s=Object(D.a)(e,["aria-label","error","validationMessage","required","theme","children"]),c=o(Object.assign({},this.getChildProps({ariaLabel:t,newError:n,newRequired:a,validationMessage:r})));return Object(u.jsxs)(H,Object.assign({},s,{children:[c,r?Object(u.jsx)(U.a,{use:n?"error":"default",theme:i,children:r}):null]}))}}]);return t}(x.Component);V.displayName="VizExFormControl";V.propTypes={"aria-label":O.a.string,children:O.a.func.isRequired,error:O.a.bool,required:O.a.bool.isRequired,theme:z.a,validationMessage:O.a.node};V.defaultProps={error:!1,required:!1};var W=V,Q=n("L0DB"),G=n("0wDu"),Y=G.f,J=G.e,K=G.c,Z=G.a,X=G.b,$=G.g,ee="unstyled",te="default",ne=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""},re=window.navigator?navigator.userAgent.toLowerCase():"",ae=function(){return re.includes("trident/")},ie=function(e){return""===e.trim()||"<br />"===e.trim()||"<br>"===e.trim()||"<br/>"===e.trim()},oe=function(){return Object(w.css)(["outline:none;"])},se=function(e){var t=e.use,n=e.theme;switch(t){case ee:return Object(w.css)(["border:none;background-color:transparent;"]);case te:default:return Object(w.css)(["border:2px solid;border-color:",";background-color:",";"],Y(n),J(n))}},ce=function(e){var t=e.theme;return Object(w.css)(["cursor:not-allowed;background-color:",";color:",";&[contenteditable][placeholder]:empty::after{color:",";cursor:not-allowed;}"],Z(t),X(t),X(t))},ue=function(e){var t=e.theme;return Object(w.css)(["border:2px solid;border-color:",";"],K(t))},le=A.a.div.withConfig({displayName:"VizExExpandingInput__StyledInput",componentId:"crpje3-0"})(["border-radius:3px;font-size:16px;line-height:22px;min-height:40px;max-height:",";overflow-x:hidden;overflow-y:auto;padding:8px;position:relative;width:100%;flex-basis:100%;word-break:break-word;cursor:text;",";",";@supports (-webkit-touch-callout:none){cursor:pointer;}&[contenteditable][placeholder]:empty{overflow-y:hidden;}&[contenteditable][placeholder]:empty::after{display:block;content:attr(placeholder);position:relative;color:",";background-color:transparent;cursor:text;user-select:none;font-size:16px;line-height:22px;height:22px;}@media all and (-ms-high-contrast:none){&[contenteditable][placeholder]:empty::after{position:absolute;top:50%;transform:translateY(-50%);}}:focus{",";}",";",";"],function(e){var t=e.maxHeight;return"number"==typeof t?t+"px":t||"150px"},function(e){return e.focus&&oe()},se,function(e){var t=e.theme;return $(t)},oe,function(e){return e.disabled&&ce(e)},function(e){return e.error&&ue(e)}),de=Object(x.forwardRef)(function(e,t){var n=t||Object(x.useRef)(),r=e.onInput,a=e.placeholder,i=e.onChange,o=e.value,s=e.maxHeight,c=e.disabled,l=e.shouldAutofocus,d=e.onPaste,p=Object(D.a)(e,["onInput","placeholder","onChange","value","maxHeight","disabled","shouldAutofocus","onPaste"]),h=function(e){e.persist();if(n.current.innerHTML&&ie(n.current.innerHTML)){n.current.innerHTML="";e.target.innerText=""}e.target.value=e.target.innerText;for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];Q.a.apply(void 0,[i,e].concat(a));Q.a.apply(void 0,[r,e].concat(a))},f=function(e){e.preventDefault();Object(Q.a)(d,e);if(!e.clipboardData.files||!e.clipboardData.files[0]){var t;try{t=e.clipboardData.getData("text/plain")}catch(n){t=ne(e.clipboardData.getData("text"))}document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,t):document.execCommand("paste",!1,t)}};Object(x.useLayoutEffect)(function(){null!==o&&void 0!==o&&o!==n.current.innerText&&(n.current.innerText=o)},[n,o]);Object(x.useEffect)(function(){l&&n&&n.current&&n.current.focus()},[]);var b=ae()?{onKeyUp:h}:{onInput:h};return Object(u.jsx)(le,Object.assign({},p,{ref:n,placeholder:a},b,{onPaste:f,contentEditable:!c,maxHeight:s,disabled:c,"aria-disabled":c}))});de.displayName="VizExExpandingInput";de.propTypes={disabled:O.a.bool,error:O.a.bool,maxHeight:O.a.number,onChange:O.a.func,onInput:O.a.func,onPaste:O.a.func,placeholder:O.a.string,shouldAutofocus:O.a.bool,theme:z.a,use:O.a.oneOf([ee,te]),value:O.a.string};var pe=de,he=n("ng7A"),fe=L(pe);function be(e){var t=e.disabled,n=e.error,r=e.messageText,a=e.onChange,i=e.onInputBlur,o=e.onInputFocus,s=e.onKeyDown,c=e.setEditorRef,l=e.validationMessage,d=e.showQuickReplyPlaceholder,p=e.onPaste;return Object(u.jsx)(P,{children:function(e){return Object(u.jsx)(W,{"aria-label":g.a.text(d?"conversations-visitor-ui.chatTextArea.forceQuickReplyPlaceholder":"conversations-visitor-ui.chatTextArea.placeholder",{locale:e}),validationMessage:l,error:n,required:!0,children:function(l){return Object(u.jsx)(fe,Object.assign({},l,{use:"unstyled",error:n,className:"widget-textarea message-box","data-test-id":"widget-textarea",tabIndex:"0",innerRef:c,maxHeight:100,placeholder:g.a.text(d?"conversations-visitor-ui.chatTextArea.forceQuickReplyPlaceholder":"conversations-visitor-ui.chatTextArea.placeholder",{locale:e}),disabled:t,onChange:a,onKeyDown:s,value:r,onFocus:o,onBlur:i,onPaste:p,shouldAutofocus:!Object(he.isIOSDevice)()}))}})}})}be.propTypes={disabled:O.a.bool.isRequired,error:O.a.bool.isRequired,messageText:O.a.string.isRequired,onChange:O.a.func.isRequired,onInputBlur:O.a.func,onInputFocus:O.a.func,onKeyDown:O.a.func.isRequired,onPaste:O.a.func,setEditorRef:O.a.func.isRequired,showQuickReplyPlaceholder:O.a.bool.isRequired,validationMessage:O.a.string.isRequired};be.displayName="TextInput";var me=be,ge=n("KziI"),je=n("Fjoq"),ve=n("/EZN"),Oe=n("A5YI"),xe=n("nzPM"),ye=n("7LhL"),Ce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},we="(?:"+Object.keys(Ce).join("|")+")",Ae=RegExp(we),ke=RegExp(we,"g");function Te(e){e=null==e?"":""+e;return Ae.test(e)?e.replace(ke,function(e){return Ce[e]}):e}var Ie=13,Ee=A.a.div.withConfig({displayName:"MessageEditor__FileUploadWrapper",componentId:"sc-142mntr-0"})(["display:flex;overflow:auto;& > *:not(:last-child){margin-right:8px;}"]),Re=!1,Se=function(e){Object(c.a)(t,e);function t(e){var n;Object(r.a)(this,t);(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handlePaste=function(e){var t=n.props,r=t.canUploadAttachments,a=t.onSelectAttachmentFiles;e&&e.clipboardData&&e.clipboardData.files&&r&&a({files:e.clipboardData.files})};n.state={messageText:e.stagedMessageEditorText||""};n.handleChange=n.handleChange.bind(Object(s.a)(n));n.handlePublish=n.handlePublish.bind(Object(s.a)(n));n.handleKeyDown=n.handleKeyDown.bind(Object(s.a)(n));n.setEditorRef=n.setEditorRef.bind(Object(s.a)(n));n.focusEditor=n.focusEditor.bind(Object(s.a)(n));n.renderTextInput=n.renderTextInput.bind(Object(s.a)(n));n.renderFileUploads=n.renderFileUploads.bind(Object(s.a)(n));n.handleSelectAttachmentFiles=n.handleSelectAttachmentFiles.bind(Object(s.a)(n));n.editorRef=null;n.onInputFocus=n.onInputFocus.bind(Object(s.a)(n));n.onInputBlur=n.onInputBlur.bind(Object(s.a)(n));return n}Object(a.a)(t,[{key:"componentDidMount",value:function(){this.focusEditor()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.disabled&&this.props.disabled&&this.focusEditor()}},{key:"focusEditor",value:function(){var e=this.editorRef;e&&setTimeout(function(){e.focus()})}},{key:"getMessageText",value:function(){return this.state.messageText}},{key:"messageTextIsWithinLimit",value:function(){return this.getMessageText().length<b.a}},{key:"hasAttachments",value:function(){return this.props.stagedAttachments&&this.props.stagedAttachments.size}},{key:"attachmentsAreValid",value:function(){return!this.props.stagedAttachments||this.props.stagedAttachments.every(h.isUploadCompleted)}},{key:"messageContentsAreValid",value:function(){var e=this.getMessageText()&&""!==this.getMessageText().trim();return this.messageTextIsWithinLimit()&&this.attachmentsAreValid()&&(e||this.hasAttachments())}},{key:"canPublish",value:function(){var e=this.props,t=e.disabled,n=e.networkOffline,r=e.disablePublish;return this.messageContentsAreValid()&&!n&&!t&&!r}},{key:"handleChange",value:function(e){var t=this.props,n=t.chatInputChanged,r=t.shouldSendInputStagingEvent,a=t.inputStaging,i=t.disabled,o=t.disablePublish,s=e.target.value;this.setState({messageText:s});r&&!s&&a(s,!0);n(s);if((i||o)&&!Re){T.a.captureMessage("VISITOR_CAN_TYPE_WHILE_PUBLISH_DISABLED");Re=!0}}},{key:"handleKeyDown",value:function(e){if(e.keyCode===Ie&&!1===e.shiftKey){this.handlePublish();e.preventDefault();e.stopPropagation();return!1}return!0}},{key:"handlePublish",value:function(){var e=this.props.inputStaging;if(this.canPublish()){var t=this.getMessageText();this.props.publishMessage({text:t,richText:"<div>"+d.a.link(Te(t),{stripPrefix:!1})+"</div>"});this.setState({messageText:""});e("",!0);var n=this.props,r=n.mobile,a=n.isOnFocus;if(r&&Object(he.isIOSDevice)()&&!a)return;this.focusEditor()}}},{key:"getValidationMessage",value:function(){return this.messageTextIsWithinLimit()?"":g.a.text("conversations-visitor-ui.chatTextArea.validationMessage")}},{key:"setEditorRef",value:function(e){var t=C.a.findDOMNode(e);this.editorRef=t}},{key:"handleSelectAttachmentFiles",value:function(e){var t=e.files;this.props.onSelectAttachmentFiles({files:t});this.focusEditor()}},{key:"onInputFocus",value:function(){var e=this.props,t=e.toggleOnAndOffInputFocus;e.disabled||t(!0)}},{key:"onInputBlur",value:function(){(0,this.props.toggleOnAndOffInputFocus)(!1)}},{key:"renderTextInput",value:function(){return Object(u.jsx)(me,{disabled:this.props.disabled||this.props.networkOffline||this.props.disablePublish,error:!this.messageTextIsWithinLimit(),messageText:this.state.messageText,onChange:this.handleChange,onKeyDown:this.handleKeyDown,showQuickReplyPlaceholder:this.props.showQuickReplyPlaceholder,setEditorRef:this.setEditorRef,showingHsBranding:this.props.showingHsBranding,validationMessage:this.getValidationMessage(),onInputFocus:this.onInputFocus,onInputBlur:this.onInputBlur,onPaste:this.handlePaste})}},{key:"renderFileUploads",value:function(){var e=this;return this.props.stagedAttachments&&this.props.stagedAttachments.size?Object(u.jsx)(Ee,{className:"m-bottom-2"+(this.props.showingHsBranding?" m-top-2":""),children:this.props.stagedAttachments.map(function(t){return Object(u.jsx)(F.a,{attachment:t,onRemove:function(){e.props.onRemoveAttachment({attachment:t})}},Object(p.getLocalId)(t))})}):null}},{key:"render",value:function(){var e=Object(je.c)(this.props.coloring)?null:Object(je.a)(this.props.coloring),t=!this.canPublish();return Object(u.jsx)(S,{inputToRender:this.renderTextInput,fileUploads:this.renderFileUploads,showingHsBranding:this.props.showingHsBranding,children:Object(u.jsxs)(x.Fragment,{children:[this.props.supportsAttachments&&!this.props.shouldHideAttachmentButton?Object(u.jsx)("div",{className:this.props.mobile?"m-right-3":"",children:Object(u.jsx)(ge.a,{accept:this.props.fileTypes,color:e,disabled:!this.props.canUploadAttachments,mobile:this.props.mobile,onClick:this.props.onAttachmentButtonClick,onSelectFiles:this.handleSelectAttachmentFiles,maxAttachmentFileSize:this.props.maxAttachmentFileSize})}):null,Object(u.jsx)(Oe.a,{className:"chat-send-button","data-test-id":"chat-send-button",disabled:t,shape:"circle",onClick:this.handlePublish,use:"transparent-on-background","aria-label":g.a.text("conversations-visitor-ui.visitorExperienceAriaLabels.send"),children:Object(u.jsx)(ye.a,{icon:Object(u.jsx)(xe.a,{})})})]})})}}]);return t}(x.Component);Se.propTypes={canUploadAttachments:O.a.bool.isRequired,chatInputChanged:O.a.func.isRequired,coloring:Object(f.a)("ColoringRecord"),disablePublish:O.a.bool.isRequired,disabled:O.a.bool.isRequired,fileTypes:O.a.arrayOf(O.a.string).isRequired,inputStaging:O.a.func.isRequired,isOnFocus:O.a.bool,maxAttachmentFileSize:O.a.number.isRequired,mobile:O.a.bool,networkOffline:O.a.bool.isRequired,onAttachmentButtonClick:O.a.func,onRemoveAttachment:O.a.func.isRequired,onSelectAttachmentFiles:O.a.func.isRequired,publishMessage:O.a.func.isRequired,shouldHideAttachmentButton:O.a.bool,shouldSendInputStagingEvent:O.a.bool.isRequired,showQuickReplyPlaceholder:O.a.bool.isRequired,showingHsBranding:O.a.bool,stagedAttachments:O.a.instanceOf(j.List),stagedMessageEditorText:O.a.string,supportsAttachments:O.a.bool.isRequired,toggleOnAndOffInputFocus:O.a.func};Se.displayName="MessageEditor";Se.defaultProps={hasUnansweredQuickReplyMessage:!1,isThreadStarted:!0,disablePublish:!1,onRemoveAttachment:function(){},onSelectAttachmentFiles:function(){},createNewThread:function(){},supportsAttachments:!1,fileTypes:ve.a};t.a=Se},"2+Io":function(e,t,n){var r=n("pDio")(n("8i16"),"Map");e.exports=r},"2YOq":function(e,t,n){"use strict";var r=n("QgEn"),a=function(e){return Object(r.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24"},e,{children:[Object(r.jsx)("defs",{children:Object(r.jsx)("path",{d:"M16.233 8.738c.564-.502.564-1.317 0-1.818-.564-.503-1.477-.503-2.04 0l-7.128 6.35c-1.374 1.223-1.374 3.213 0 4.436.686.612 1.587.918 2.49.918.9 0 1.802-.306 2.489-.918l10.318-9.193h.001c2.183-1.946 2.183-5.11 0-7.055-2.181-1.944-5.733-1.944-7.918 0l-12.2 10.87c-2.993 2.667-2.993 7.006 0 9.673C3.742 23.334 5.707 24 7.673 24c1.965 0 3.93-.666 5.427-2l9.01-8.027c.563-.501.563-1.316 0-1.818-.564-.503-1.478-.503-2.042 0l-9.009 8.027c-1.867 1.664-4.906 1.663-6.773 0-1.867-1.664-1.867-4.37 0-6.035l12.2-10.869c1.058-.944 2.779-.943 3.836-.001s1.057 2.475 0 3.417h-.002l-10.317 9.194c-.249.22-.651.22-.897 0-.248-.22-.248-.58 0-.8l7.127-6.35z",id:"attach__a"})}),Object(r.jsx)("use",{xlinkHref:"#attach__a",fillRule:"evenodd"})]}))};a.displayName="SVGAttach";t.a=a},"2o22":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r="_blank",a=function(e){var t=e.node;if("a"===e.node_name&&t&&t.attributes&&t.getAttribute("target")!==r){t.setAttribute("target",r);return{node:t}}return null}},"2rNL":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="data-cv-message-history-id"},"31tl":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="WEB"},"3Egs":function(e,t,n){"use strict";n.d(t,"a",function(){return r});n.d(t,"b",function(){return a});n.d(t,"d",function(){return i});n.d(t,"c",function(){return o});var r="FIRST",a="FIRST_IN_GROUP",i="LAST_IN_GROUP",o="LAST"},"3FHW":function(e,t,n){var r=n("8X3F"),a=n("kmmH"),i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";function u(e){if(!a(e))return!1;var t=r(e);return t==o||t==s||t==i||t==c}e.exports=u},"3OTY":function(e,t,n){"use strict";n.d(t,"a",function(){return l});n.d(t,"c",function(){return d});n.d(t,"b",function(){return p});n.d(t,"d",function(){return h});var r=n("Ut5p"),a=n("wwi/"),i=n("tlSg"),o=n("k3iI"),s=n("E6wg"),c=n("NpZo"),u=n("081M"),l=Object(r.b)(a.a),d=Object(r.b)(a.c),p=Object(r.b)(a.b,function(e){return{error:e}});function h(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?function(e,t){var n=Object(s.getSessionId)(t()),r=Object(c.getSelectedThreadId)(t()),a=Object(u.getHubspotUtk)();e(l());var h=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sessionId;e(Object(o.updateSessionId)(t));e(d())},f=function(t){e(p(t))};Object(i.sendConsentToCommunicate)({sessionId:n,hubspotUtk:a,threadId:r}).then(h,f).done()}:null}},"3gKe":function(e,t,n){"use strict";var r=n("MBJP"),a=n("JGJA"),i=Object(a.a)("gdpr"),o=Object(r.a)([i],Object(a.a)("consentToProcessStatus")),s=n("3z2x");n.d(t,"a",function(){return c});var c=Object(r.a)([o],function(e){switch(e){case s.a:return!1;case s.b:return!0;case s.c:default:try{return localStorage.getItem("userHasGivenConsentToProcess")}catch(e){return!1}}})},"3oj9":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("KXN9"),a=n("MBJP"),i=n("ZSXR"),o=n("eEyY"),s=n("Ryja"),c=n("Xcjc"),u=Object(a.a)([o.getCurrentThreadId,i.a,s.getStagedThreadHistory],function(e,t,n){return e===c.a?n:Object(r.a)(t)||null})},"4nf7":function(e,t,n){"use strict";var r=n("021p"),a=n("bOW6"),i=n("BnUr"),o=n("QYOI"),s=n("MBJP"),c=n("qjq5"),u=n("3Yas");u.a.implement(Array,function(e,t){return o.Iterable.isIterable(e)?t.concat(e.toJS()):t.concat(e)});u.a.implementInherited(o.Seq.Indexed,function(e,t){return t.concat(e)});u.a.implementInherited(o.Collection.Indexed,function(e,t){return t.concat(e)});u.a.implement(String,function(e,t){return t.concat(e)});var l,d=u.a,p=Object(c.a)(d),h=n("SGjM"),f=n("DdHT"),b=n("6aYC"),m=n("k09d"),g=n("Z6IV"),j=n("3oj9"),v=n("5oUx");n.d(t,"a",function(){return O});var O=Object(s.a)([m.a,j.a,b.a,v.a],function(e,t,n,s){var c=Object(i.getChannelName)(e),u=Object(i.getThreadId)(e),d=Object(r.b)(t)||Object(o.List)(),b=Object(f.a)(p(d),p(n),Object(h.a)(Object(a.wrapFailedMessage)({threadId:u,channel:c})),p(s))(Object(o.List)()),m=b.size?b.filter(g.isSupportedMessageType):Object(o.List)();Object(o.is)(l,m)||(l=m);return l})},"5N3d":function(e,t,n){"use strict";n.r(t);n.d(t,"validateAttachmentFile",function(){return o});var r=n("Zn4N"),a=n("eg+O"),i=n("b+5w"),o=function(e){var t=Object(i.a)();Object(a.fileExceedsSizeLimit)(e)?t.reject(r.b):t.resolve();return t.promise}},"5SRO":function(e,t,n){"use strict";var r,a=n("OwGx"),i=n("GzqH"),o=n("vTCD"),s=n("k8Et"),c=n("mNyx"),u=n("txVw"),l=n("pGTB"),d=n("QgEn"),p=n("UMxk"),h=n("mKxs"),f=n("VfuR"),b=n.n(f),m=n("9f1P"),g=n.n(m),j=n("eP/i"),v="default",O="blank",x="on-shade",y="on-dark",C=(r={},Object(a.a)(r,v,{primary:j.j,secondary:j.l}),Object(a.a)(r,x,{primary:j.l,secondary:j.j}),Object(a.a)(r,y,{primary:j.k,secondary:j.r}),r),w="\n  background: "+j.q+";\n",A=function(e){var t=e.primary;return"\n  background: "+t+";\n  background: linear-gradient(to right, "+t+", "+e.secondary+" 20%, "+t+" 40%);\n  background-size: 1200px;\n"},k=function(e){return C[e]},T=function(e){var t=e.use;return t===O?w:A(k(t))},I=function(e){return"number"==typeof e},E=function(e){return I(e)?e+"px":e},R="1s",S="linear",F="0s",M="infinite",P="forwards",B=700,D=Object(m.keyframes)(["0%{background-position:-","px 0}100%{background-position:","px 0}"],B,B),N=Object(m.css)(["animation:"," "," "," "," "," ",";"],D,R,S,F,M,P),_=g.a.div.withConfig({displayName:"SkeletonBase",componentId:"sc-15hjcyi-0"})(["margin:",";padding:",";",";",";"],function(e){var t=e.margin;return t?E(t):void 0},function(e){var t=e.padding;return t?E(t):void 0},function(e){var t=e.use;return T({use:t})},function(e){return e.use!==O&&N});_.defaultProps={use:v};_.propTypes={margin:b.a.oneOfType([b.a.number,b.a.string]),padding:b.a.oneOfType([b.a.number,b.a.string]),use:b.a.oneOf([v,x,y,O])};var q=_,L=32,z=g()(q).withConfig({displayName:"SkeletonCircle",componentId:"su9dm-0"})(["border-radius:50%;width:",";height:",";min-width:",";"],function(e){var t=e.size;return E(t)},function(e){var t=e.size;return E(t)},function(e){var t=e.size;return E(t)});z.defaultProps={size:L};z.propTypes={size:b.a.number};var U=z,H=n("Ktcs"),V=n("aFIE"),W=n("0IK8"),Q=n("ksA9"),G=n("NUfg"),Y=n.n(G),J=n("wxG8"),K=function(){},Z=function(e){Object(l.a)(t,e);function t(e){var n;Object(o.a)(this,t);(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(p.a)(n));return n}Object(s.a)(t,[{key:"handleClick",value:function(){var e=this.props;(0,e.onClick)(e.sender)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.sender,r=e.size;if(t)return Object(d.jsx)(U,{size:32});if(!n)return Object(d.jsx)(V.a,{size:r});switch(Object(W.getSenderTypeForCMF)(n)){case J.b:case J.e:return Object(d.jsx)(V.a,{size:r,src:Object(Q.a)(n)||Y.a});default:return Object(d.jsx)("span",{onClick:this.handleClick,children:Object(d.jsx)(V.a,{size:r,src:Object(Q.a)(n)})})}}}]);return t}(H.PureComponent);Z.displayName="SenderAvatar";Z.propTypes={isLoading:b.a.bool,onClick:b.a.func.isRequired,sender:Object(h.a)("Sender"),size:V.a.propTypes.size};Z.defaultProps={onClick:K,size:"sm"};var X=n("6s0Z"),$=n("i2Vg"),ee=n("qXlW"),te=n("rCfO"),ne=n("WdXK"),re=Object(te.a)(function(e,t,n){return t?n.get(Object(ne.buildSenderLocator)(t,e)):null}),ae="STARTED",ie=Object(te.a)(function(e){return!Object(Q.b)(e)&&Object(Q.h)(e)===ae}),oe="#cbd6e2",se="#00a4bd",ce=window.navigator?navigator.userAgent.toLowerCase():"",ue=function(){return ce.includes("trident/")>=0},le=n("JGJA"),de=Object(le.a)("alignItems"),pe=Object(le.a)("avatarWidth"),he=Object(le.a)("backgroundColor"),fe=Object(le.a)("borderColor"),be=Object(le.a)("borderRadius"),me=Object(le.a)("borderWidth"),ge=(Object(le.a)("messageSpacing"),Object(le.a)("textColor")),je=Object(le.a)("fileAttachmentTheme"),ve=(Object(le.a)("quickReplyTheme"),Object(le.a)("widgetAccent")),Oe=n("iDVC"),xe=Object(H.createContext)(Object(Oe.a)()),ye=Object(m.keyframes)(["25%{background-color:",";}75%{background-color:",";}"],oe,oe),Ce=Object(m.keyframes)(["0%,100%{transform:translateY(0);}25%{transform:translateY(.25em);}50%{transform:translateY(0);}75%{transform:translateY(-.25em);}"]);ue()&&(Ce=Object(m.keyframes)(["0%,100%{top:0;}25%{top:.25em;}50%{top:0}75%{top:-.25em;}"]));var we=g.a.div.withConfig({displayName:"TypingDots__Dot",componentId:"sc-183gwqv-0"})(["position:relative;background-color:currentColor;color:",";border-radius:50%;height:1em;width:1em;animation:",",",";animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;&:not(:last-child){margin-right:0.75em;}&:nth-child(2){animation-delay:-0.66s;}&:nth-child(3){animation-delay:-0.33s;}"],function(e){return e.color?e.color:se},Ce,ye),Ae=g.a.div.withConfig({displayName:"TypingDots__TypingDotsWrapper",componentId:"sc-183gwqv-1"})(["display:flex;align-items:center;justify-content:center;height:24px;font-size:8px;width:4.5em;"]),ke=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=ve(this.context);return Object(d.jsxs)(Ae,{children:[Object(d.jsx)(we,{color:e,className:"dot-1"}),Object(d.jsx)(we,{color:e,className:"dot-2"}),Object(d.jsx)(we,{color:e,className:"dot-3"})]})}}]);return t}(H.Component);ke.contextType=xe;ke.displayName="TypingDots";var Te=ke,Ie=g.a.div.withConfig({displayName:"SpacingWrapper",componentId:"sc-7fglir-0"})(["padding-top:4px;padding-bottom:4px;padding-left:10px;padding-right:10px;width:100%;"]),Ee=b.a.oneOf([X.b,X.a,X.c]),Re=n("CnAB"),Se=n("Gc2C"),Fe=function(e){Object(Se.a)(void 0===e||"object"==typeof e,"Invalid config type given");e&&Object.values(e).forEach(function(e){Object(Se.a)(e instanceof Oe.a,"All themes in the configuration must be a `Theme` record. Found %s",typeof e)})},Me=Object(H.memo)(function(e){var t=e.themeConfig,n=e.use,r=e.children;Fe(t);t=Object.assign({},Re.b,t);var a=n?t[n]:t[X.b]||Object(Oe.a)();return Object(d.jsx)(xe.Provider,{value:a,children:r})});Me.displayName="ThemeProvider";Me.propTypes={children:b.a.node.isRequired,themeConfig:b.a.objectOf(Object(h.a)("Theme")),use:Ee};var Pe=Me,Be=g.a.div.withConfig({displayName:"PrimaryMessageAvatar__PrimaryMessageAvatarWrapper",componentId:"srzmxo-0"})(["align-items:center;display:flex;flex-shrink:0;justify-items:center;margin-top:35px;"]),De=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return Object(d.jsx)(Be,{className:n,children:t})}}]);return t}(H.PureComponent);De.displayName="PrimaryMessageAvatar";De.propTypes={children:b.a.node.isRequired,className:b.a.string};var Ne=g.a.div.withConfig({displayName:"PrimaryMessageContentSection__PaddedArea",componentId:"sc-1w8ykkt-0"})(["padding:8px 16px;"]),_e=g.a.div.withConfig({displayName:"PrimaryMessageContentSection__PrimaryMessageContentSectionWrapper",componentId:"sc-1w8ykkt-1"})(["width:100%;button{width:auto;}"]),qe=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"renderContent",value:function(){var e=this.props.children;return Object(d.jsx)(Ne,{children:e})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return H.Children.count(t)>0?Object(d.jsx)(_e,{className:n,children:Object(d.jsx)("div",{className:"width-100 padding-x-4 padding-y-2",children:this.renderContent()})}):null}}]);return t}(H.PureComponent);qe.contextType=xe;qe.displayName="PrimaryMessageContentSection";qe.propTypes={children:b.a.node,className:b.a.string};var Le=g.a.div.withConfig({displayName:"PrimaryMessageContent__PrimaryMessageContentWrapper",componentId:"ae1lci-0"})(["position:relative;min-height:32px;word-break:break-word;box-sizing:border-box;border-style:solid;border-width:",";border-color:",";background-color:",";color:",";display:inline-flex;align-items:center;flex-direction:column;border-radius:",";","{border-top-style:solid;border-top-width:1px;border-top-color:",";&:first-child{border-top:none;}}max-width:284px;"],function(e){return e.borderWidth},function(e){return e.borderColor},function(e){return e.backgroundColor},function(e){return e.textColor},function(e){return e.borderRadius},_e,function(e){return e.borderColor}),ze=function(e){Object(l.a)(t,e);function t(e){var n;Object(o.a)(this,t);(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={expanded:!!e.isLastMessage};n.onCollapseButtonClick=n.onCollapseButtonClick.bind(Object(p.a)(n));n.expandMessage=n.expandMessage.bind(Object(p.a)(n));return n}Object(s.a)(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return Object(d.jsx)(Le,{className:n,backgroundColor:he(this.context),borderColor:fe(this.context),borderRadius:be(this.context),borderWidth:me(this.context),textColor:ge(this.context),children:t})}}]);return t}(H.PureComponent);ze.contextType=xe;ze.displayName="PrimaryMessageContent";ze.propTypes={children:b.a.node,className:b.a.string,isLastMessage:b.a.bool};var Ue=g.a.div.withConfig({displayName:"PrimaryMessageFooter__PrimaryMessageFooterWrapper",componentId:"jandt1-0"})(["display:flex;margin-top:4px;max-width:284px;"]),He=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return Object(d.jsx)(Ue,{className:n,children:t})}}]);return t}(H.PureComponent);He.displayName="PrimaryMessageFooter";He.propTypes={children:b.a.node.isRequired,className:b.a.string};var Ve=g.a.div.withConfig({displayName:"PrimaryMessageHeader__PrimaryMessageHeaderWrapper",componentId:"n7n7zl-0"})(["display:flex;height:16px;align-items:center;margin-top:4px;margin-bottom:4px;width:100%;"]),We=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return Object(d.jsx)(Ve,{className:n,children:t})}}]);return t}(H.PureComponent);We.displayName="PrimaryMessageHeader";We.propTypes={children:b.a.node.isRequired,className:b.a.string};var Qe=g.a.div.withConfig({displayName:"PrimaryMessageHeaderContent__PrimaryMessageHeaderContentWrapper",componentId:"exi0ed-0"})(["margin-left:1px;min-width:0;"]),Ge=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return Object(d.jsx)(Qe,{className:n,children:t})}}]);return t}(H.PureComponent);Ge.displayName="PrimaryMessageHeaderContent";Ge.propTypes={children:b.a.node.isRequired,className:b.a.string};var Ye="8px",Je=g.a.div.withConfig({displayName:"PrimaryMessage__PrimaryMessageWrapper",componentId:"sc-1vc7vmj-0"})(["display:flex;flex-direction:column;align-items:",";padding-left:",";","{","{width:",";margin-left:-",";margin-right:",";}>:first-child{&","{margin-left:",";}}}","{margin-left:",";}","{margin-left:",";}"],function(e){return e.alignment||"flex-start"},Ye,Ve,Be,function(e){return e.avatarWidth},Ye,Ye,Qe,function(e){return e.avatarWidth},Le,function(e){return e.avatarWidth},Ue,function(e){return e.avatarWidth}),Ke=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,a=t.positionDescriptors,i=t.use;return n?Object(d.jsx)(Pe,{themeConfig:this.context,use:i,children:Object(d.jsx)(Ie,{positionDescriptors:a,className:r,children:Object(d.jsx)(xe.Consumer,{children:function(t){return Object(d.jsx)(Je,{"data-test-id":e.props["data-test-id"],"data-test-use":i,alignment:de(t),avatarWidth:pe(t),children:n})}})})}):null}}]);return t}(H.PureComponent);Ke.contextType=Re.a;Ke.displayName="PrimaryMessage";Ke.propTypes={children:b.a.node,className:b.a.string,"data-test-id":b.a.string,positionDescriptors:$.a,use:Ee};var Ze=n("fFSu"),Xe=g.a.div.withConfig({displayName:"SkeletonText__SkeletonTextWrapper",componentId:"c91cn1-0"})(["position:relative;width:",";"],function(e){var t=e.width;return E(t)}),$e=g()(q).withConfig({displayName:"SkeletonText__SkeletonTextInner",componentId:"c91cn1-1"})(["height:0.75em;left:0;position:absolute;top:50%;transform:translateY(-50%);width:100%;"]),et=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=Object(Ze.a)(e,["width"]);return Object(d.jsxs)(Xe,{width:t,children:["Â ",Object(d.jsx)($e,Object.assign({},n))]})}}]);return t}(H.PureComponent);et.defaultProps={width:"100%"};et.propTypes={width:b.a.oneOfType([b.a.number,b.a.string])};var tt=et,nt=n("fzij"),rt=n("sl/w"),at=n("9dO3"),it=n("dPcB"),ot=["de","ja"],st=function(e,t){var n=e.givenName,r=e.familyName,a=e.email,i=t&&t.locale||Object(at.a)();return ot.indexOf(i)>=0||!n?Object(it.a)({firstName:n,lastName:r,email:a},t):n},ct=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"getUnknownSenderText",value:function(){switch(Object(Q.g)(this.props.sender)){case J.b:return Object(d.jsx)(rt.a,{message:"conversations-message-history.responder.bot"});case J.a:return Object(d.jsx)(rt.a,{message:"conversations-message-history.responder.unknownResponder"});case J.f:return Object(d.jsx)(rt.a,{message:"conversations-message-history.responder.unknownVisitor"});case J.e:return Object(d.jsx)(rt.a,{message:"conversations-message-history.responder.automatic"});default:return Object(d.jsx)(rt.a,{message:"conversations-message-history.responder.unknownSender"})}}},{key:"render",value:function(){var e=this.props,t=e.sender;return e.isLoading?Object(d.jsx)(tt,{width:100}):t&&st({givenName:Object(Q.d)(t),familyName:Object(Q.f)(t),email:Object(Q.c)(t)})||this.getUnknownSenderText()}}]);return t}(H.PureComponent);ct.displayName="SenderName";ct.propTypes={isLoading:b.a.bool,sender:Object(h.a)("Sender")};var ut=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,n=e.sender;return t?Object(d.jsx)(tt,{width:150}):Object(d.jsx)(nt.a,{use:"help",children:Object(d.jsx)("strong",{children:Object(d.jsx)(ct,{sender:n})})})}}]);return t}(H.PureComponent);ut.displayName="SenderHeaderContent";ut.propTypes={isSenderLoading:b.a.bool,sender:Object(h.a)("Sender")};var lt=ut,dt=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,n=e.sender;return Object(d.jsx)(lt,{sender:n,isSenderLoading:t})}}]);return t}(H.PureComponent);dt.displayName="TypingHeaderContent";dt.propTypes={isSenderLoading:b.a.bool,sender:Object(h.a)("Sender")};var pt=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.positionDescriptors,r=e.senders,a=Object(W.getSenderId)(t),i=Object(W.getSenderType)(t),o=Object(W.getSenderType)(t)===J.f,s=re(a,i,r),c=Object(Q.b)(s),u=ie(s),l=o?X.c:X.a;return Object(d.jsxs)(Ke,{positionDescriptors:n,use:l,children:[Object(d.jsxs)(We,{children:[Object(d.jsx)(De,{children:Object(d.jsx)(Z,{sender:c,isLoading:u})}),Object(d.jsx)(Ge,{children:Object(d.jsx)(dt,{message:t,sender:c,isSenderLoading:u})})]}),Object(d.jsx)(ze,{children:Object(d.jsx)(qe,{children:Object(d.jsx)(Te,{})})})]})}}]);return t}(H.PureComponent);pt.displayName="TypingIndicatorMessage";pt.propTypes={message:Object(h.a)("TypingIndicatorMessage").isRequired,positionDescriptors:$.a.isRequired,senders:ee.a.isRequired};var ht,ft=pt,bt=n("0GyJ"),mt=n("7hVK"),gt=n("z352"),jt=n("awVq"),vt=n("3xeV"),Ot=n("3CaS"),xt=n("GPok"),yt=n("t6nY"),Ct=n.n(yt),wt=g.a.div.withConfig({displayName:"DashedLabel__StyledBorder",componentId:"sc-1b366mn-0"})(["display:flex;flex-grow:1;border:solid 1px ",";"],j.i);function At(e){var t=e.children,n=e.transparent,r=e["data-test-id"],a=e.labelPadding;return Object(d.jsxs)("div",{className:Ct()("display-flex align-end",a,n&&"justify-center",!a&&"m-y-6"),"data-test-id":r||"dashed-label",children:[!n&&Object(d.jsx)(wt,{className:"m-bottom-3"}),Object(d.jsx)("div",{className:"max-100 p-x-4",children:Object(d.jsx)(nt.a,{use:"help",className:"m-bottom-1 align-center text-center word-break-break-word flex-column",children:t})}),!n&&Object(d.jsx)(wt,{className:"m-bottom-3"})]})}At.displayName="DashedLabel";At.propTypes=(ht={children:b.a.node.isRequired},Object(a.a)(ht,"data-test-id",b.a.string),Object(a.a)(ht,"transparent",b.a.bool),ht);var kt=At,Tt=n("E7sj"),It=n.n(Tt),Et=n("sA91"),Rt=n("Pz4q"),St=n("rIrL"),Ft=n("24N/"),Mt=["gmail_extra","gmail_quote","hs_reply","x_hs_reply_wrap"],Pt="divRplyFwdMsg",Bt=function(e,t){return t===Pt||e&&e.contains&&Mt.some(function(t){return e.contains(t)})},Dt=function(e){var t=e.node,n=t.classList,r=t.id,a=t.attributes,i=void 0===a?[]:a;if(Bt(n,r)){var o=Vt.createElement("span");Object.keys(i).forEach(function(e){var t=i[e];o.setAttribute(t.nodeName,t.nodeValue)});o.innerHTML="";o.setAttribute("data-email-reply","");return{node:o}}return null},Nt=["hs_signature"],_t=function(e){return e&&e.contains&&Nt.some(function(t){return e.contains(t)})},qt=function(e){var t=e.node,n=t.classList,r=t.attributes,a=void 0===r?[]:r;if(_t(n)){var i=Vt.createElement("span");Object.keys(a).forEach(function(e){var t=a[e];i.setAttribute(t.nodeName,t.nodeValue)});i.innerHTML="";i.setAttribute("data-email-signature","");return{node:i}}return null},Lt=["position","top","bottom","left","right","z-index","clear","float","background-image","white-space"],zt=function(e){var t=e.node;if(t&&t.style&&t.style.length>0&&t.style.removeProperty){Lt.forEach(function(e){return t.style.removeProperty(e)});return{node:t}}return null},Ut=function(e){var t=e.node,n=e.node_name;if(t&&"img"===n&&t.attributes){t.attributes["data-original-height"]&&t.setAttribute("height",t.attributes["data-original-height"].value);t.attributes["data-original-width"]&&t.setAttribute("width",t.attributes["data-original-width"].value);t.attributes["data-full-size-src"]&&t.setAttribute("src",t.attributes["data-full-size-src"].value);return{node:t}}return null},Ht=function(e){var t=e.node;if("div"===e.node_name&&t&&t.classList&&t.classList.contains("gmail_default")){var n=Vt.createElement("span");Object.keys(t.attributes).forEach(function(e){var r=t.attributes[e];n.setAttribute(r.nodeName,r.nodeValue)});n.innerHTML=t.innerHTML.trim();return{node:n}}return null},Vt=document.implementation.createHTMLDocument(""),Wt={transformers:[Kt,Dt,qt,zt,Ht,Ut],dom:Vt,elements:["b","blockquote","br","caption","cite","code","col","colgroup","dd","dl","dt","em","figure","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","q","small","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","u","ul","font","div","span","a"],attributes:{__ALL__:["style","align","valign","width","height"],blockquote:["cite"],col:["span"],colgroup:["span"],figure:["style"],ol:["start","type"],q:["cite"],img:["title","alt","src"],table:["summary","bgcolor"],td:["abbr","axis","colspan","rowspan","bgcolor"],th:["abbr","axis","colspan","rowspan","scope","bgcolor"],ul:["type"],font:["size"],a:["href","title"],span:["data-at-mention","data-owner-id","contenteditable","data-email-reply"]},add_attributes:{a:{target:"_blank"}},remove_contents:["script"],protocols:{a:{href:["http","https"]}}},Qt=function(e,t){return"p"===t&&e&&e.classList&&e.classList.contains("MsoNormal")&&e.children&&e.children.length},Gt=function(e){return e&&!e.children.legnth&&"o:p"===e.tagName.toLowerCase()&&e.innerHTML.includes("&nbsp;")},Yt=function(e){return e&&"span"===e.tagName.toLowerCase()&&Gt(e.firstElementChild)},Jt=function(e){return!!e.getElementsByTagName("img").length},Kt=function e(t){var n=t.node,r=t.node_name;if(Qt(n,r)){var a=n.firstElementChild;if(Gt(a)||Yt(a)){if(Jt(n)){n.removeChild(a);return e({node:n,node_name:"p"})}return{node:Vt.createElement("br")}}var i=Vt.createElement("div");Object.keys(n.attributes).forEach(function(e){var t=n.attributes[e];i.setAttribute(t.nodeName,t.nodeValue)});i.innerHTML=n.innerHTML.trim().replace(/&nbsp;/g,"");return{node:i}}return null},Zt=n("kkqp"),Xt=n.n(Zt),$t=function(e){return new Xt.a(e)},en=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[new Error].concat(n,[{message:e}]))},tn=function(e){setTimeout(function(){throw e},0)},nn=function(e){Array.from(e.querySelectorAll("br + [data-email-reply]")).forEach(function(e){var t=e.previousElementSibling;t&&t.nodeName&&"br"===t.nodeName.toLowerCase()&&t.classList&&t.classList.add("display-none")})},rn=Vt.body,an=Object(te.a)(function(e,t){var n=Vt.createElement("div");try{rn.innerHTML=e;var r=Object.assign({},Wt);r.transformers=t;var a=$t(r).clean_node(rn).cloneNode(!0);n.appendChild(a);nn(n)}catch(e){var i=en("Error sanitizing email message: "+e.message,e);tn(i)}return n.innerHTML}),on=Object(te.a)(function(e){return an(e,[Kt,Ht,zt,Ut])}),sn=Object(te.a)(function(e){if(!e)return null;var t=document.createElement("div");t.innerHTML=on(e);document.body.appendChild(t);var n=t.innerText;document.body.removeChild(t);return n}),cn=n("qkre"),un=[Rt.a,St.a,Ft.a],ln=Object(te.a)(function(e){setTimeout(function(){Object(Se.a)(un.some(function(t){return e instanceof t}),"hasTextContent: Unsupported message record type %s supplied",Object(Et.a)(e))},0);var t=Object(cn.f)(e),n=Object(W.getRichText)(e)||Object(W.getPlainText)(e);return t||Boolean(n&&n.length&&sn(n))}),dn=n("qCVG"),pn=g.a.div.withConfig({displayName:"ContentText__ContentTextWrapper",componentId:"u4b90i-0"})(["word-wrap:break-word;box-sizing:border-box;width:100%;white-space:pre-wrap;a{font-weight:inherit;text-decoration:underline;}img{max-width:100%;height:auto;}"]),hn=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],n=e.contentText,r=e.onClickAction;return Object(d.jsx)(pn,{children:Object(d.jsx)("div",{"aria-label":t,"data-test-id":"primary-message-content",dangerouslySetInnerHTML:{__html:Object(dn.a)(n,{shouldPreserveNewlines:!0,allowedDomainsForIframe:[/^\/?\/?play\.vidyard\.com\/[a-zA-Z0-9]*\.html$/gm]})},onClick:r})})}}]);return t}(H.PureComponent);hn.displayName="ContentText";hn.propTypes={"aria-label":b.a.string,contentText:b.a.string.isRequired,onClickAction:b.a.func};hn.defaultProps={onClickAction:function(){}};var fn=n("MJM1"),bn=function(e){return Object(fn.a)(["metadata","officeHoursStartTime"],e)},mn=function(e){return Object(fn.a)(["officeHoursStartTime"],e)},gn=function(e){return e["@type"]===jt.a?mn(e)&&mn(e)-(new Date).getTime()<0:bn(e)&&bn(e)-(new Date).getTime()<0},jn=function(e){var t=e.message;return t["@type"]===jt.a||ln(t)?gn(t)?null:Object(d.jsx)(kt,{transparent:!0,labelPadding:"m-y-1",children:Object(d.jsx)(hn,{"aria-label":It.a.text("conversations-visitor-message-history.systemMessage"),contentText:Object(W.getRichText)(t)||Object(W.getPlainText)(t)})}):null};jn.displayName="AvailabilityMessage";jn.propTypes={message:b.a.oneOfType([Object(h.a)("TypicalResponseTimeMessage"),Object(h.a)("OfficeHoursMessage")]).isRequired};var vn=jn,On=n("3Egs"),xn=n("5N4t"),yn=n("oxA8"),Cn=n("QYOI"),wn=function(){return Object(d.jsx)("i",{children:Object(d.jsx)(rt.a,{message:"conversations-message-history.noContent"})})};wn.displayName="NoContentLabel";var An=wn,kn=n("r1tY"),Tn=["fileId"],In=["fileMetadata"],En=["thumbnailMetadata"],Rn=(Object(fn.a)(Tn),Object(fn.a)(In)),Sn=(Object(fn.a)(En),["expiresAt"]),Fn=["url"],Mn=["name"],Pn=["extension"],Bn=["type"],Dn=["fileSize"],Nn=["width"],_n=["height"],qn=(Object(fn.a)(Sn),Object(fn.a)(Fn)),Ln=Object(fn.a)(Mn),zn=Object(fn.a)(Pn),Un=Object(fn.a)(Bn),Hn=Object(fn.a)(Dn),Vn=Object(fn.a)(Nn),Wn=Object(fn.a)(_n),Qn=function(e){var t=Ln(e),n=zn(e);return n?t+"."+n:t},Gn=n("n8e+"),Yn=n("LRQi"),Jn=g.a.div.withConfig({displayName:"InlineImageAttachment__InlineImageAttachmentWrapper",componentId:"p380ot-0"})(["display:block;max-width:100%;"]),Kn=function(e){Object(l.a)(t,e);function t(e){var n;Object(o.a)(this,t);(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).hasLoadedImage=function(){n.setState({hasLoaded:!0})};n.state={hasLoaded:!1};return n}Object(s.a)(t,[{key:"getDimensions",value:function(){var e=this.props,t=e.maxWidth,n=e.width,r=e.height;return!this.state.hasLoaded&&t&&n&&r?n<=t?{width:n,height:r}:{width:t,height:r*(t/n)}:{}}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.url,r=this.getDimensions(),a=r.width,i=r.height;return Object(d.jsx)(Jn,{children:Object(d.jsx)(Yn.a,{href:n,target:"_blank","data-test-id":"inline-image-attachment",children:Object(d.jsx)(Gn.a,{alt:t,src:n,width:a,height:i,style:{minHeight:i},onLoad:this.hasLoadedImage})})})}}]);return t}(H.PureComponent);Kn.displayName="InlineImageAttachment";Kn.propTypes={height:b.a.number,maxWidth:b.a.number,name:b.a.string.isRequired,url:b.a.string.isRequired,width:b.a.number};var Zn=Kn,Xn="IMG",$n=function(e){return e.filter(function(e){var t=Rn(e),n=Un(t),r=zn(t);return Boolean(n===Xn&&"svg"!==r)})},er=function(e){return e.filter(function(e){var t=Rn(e),n=Un(t),r=zn(t);return Boolean(n!==Xn||"svg"===r)})},tr=function(e){return e.some(function(e){var t=Rn(e),n=Un(t),r=zn(t);return Boolean(n===Xn&&"svg"!==r)})},nr=300,rr=g.a.div.withConfig({displayName:"InlineImageAttachments__FileAttachmentsWrapper",componentId:"sc-1rrfyg3-0"})(["cursor:pointer;box-sizing:border-box;width:100%;max-width:","px;display:block;margin-bottom:16px;margin-top:8px;"],nr),ar=function(e){Object(l.a)(t,e);function t(e){var n;Object(o.a)(this,t);(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={maxWidth:nr};n.wrapperRef=Object(H.createRef)();return n}Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(kn.findDOMNode)(this.wrapperRef.current);e&&e.offsetWidth&&e.offsetWidth!==this.state.maxWidth&&this.setState({maxWidth:e.offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return Object(d.jsx)(rr,{ref:this.wrapperRef,children:$n(t).map(function(t,n){var r=Rn(t),a=Qn(r),i=qn(r),o=Vn(r),s=Wn(r);return Object(d.jsx)(Zn,{name:a,url:i,width:o,height:s,maxWidth:e.state.maxWidth},"image-"+n)})})}}]);return t}(H.PureComponent);ar.displayName="InlineImageAttachments";ar.propTypes={fileAttachments:b.a.instanceOf(Cn.List)};var ir=ar,or=n("C3IS"),sr=n("OI0Z"),cr=n("6xAP"),ur=Object(H.createContext)(Object(cr.a)()),lr=n("dz5W"),dr=n("7LhL"),pr=function(e){return Object(d.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 20 24"},e,{children:[Object(d.jsx)("defs",{children:Object(d.jsx)("path",{d:"M14.466 0c.076 0 .153.008.233.023.1.02.196.059.288.104.023.011.046.023.068.037.09.052.177.111.252.187l6.345 6.4c.075.076.135.163.186.255.013.023.025.045.036.068.045.093.083.19.103.295.015.075.023.153.023.231v13.2c0 1.884-1.468 3.2-3.569 3.2H6.534c-2.1 0-3.568-1.316-3.568-3.2V3.6c0-1.985 1.6-3.6 3.568-3.6zm-1.133 2H6.25C5.56 2 5 2.56 5 3.25v17.917c0 .689.68.833 1.25.833h12.5c.57 0 1.25-.144 1.25-.833v-12.5h-4.583c-1.149 0-2.084-.935-2.084-2.084V2z",id:"file__a"})}),Object(d.jsx)("use",{xlinkHref:"#file__a"})]}))};pr.displayName="SVGFile";var hr=pr,fr=g.a.div.withConfig({displayName:"FileAttachmentTile__FileAttachmentTileWrapper",componentId:"sc-1gwld52-0"})(["max-width:300px;"]),br=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props.fileMetadata,t=Qn(e),n=qn(e),r=Hn(e);return Object(d.jsx)(fr,{children:Object(d.jsx)(lr.a,{onClick:function(){return window.open(n)},fileName:t,fileInfo:Object(d.jsx)(sr.a,{value:r}),preview:Object(d.jsx)(dr.a,{icon:Object(d.jsx)(hr,{}),size:"sm"})})})}}]);return t}(H.PureComponent);br.contextType=ur;br.displayName="FileAttachmentTile";br.propTypes={fileMetadata:Object(h.a)("FileMetadataRecord").isRequired};var mr=br,gr=Object(le.a)("tileBackgroundColor"),jr=g.a.div.withConfig({displayName:"AttachmentsFooter__AttachmentsFooterWrapper",componentId:"sc-1ydelgf-0"})(["cursor:pointer;box-sizing:border-box;display:block;background-color:",";"],function(e){return e.backgroundColor}),vr=g()(mr).withConfig({displayName:"AttachmentsFooter__StyledFileAttachmentTile",componentId:"sc-1ydelgf-1"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"}),Or=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return Object(d.jsx)(jr,{backgroundColor:he(this.context),children:t.map(function(t,n){return Object(d.jsx)(vr,{fileMetadata:Rn(t),backgroundColor:gr(je(e.context))},n)})})}}]);return t}(H.PureComponent);Or.contextType=xe;Or.displayName="AttachmentsFooter";Or.propTypes={fileAttachments:b.a.instanceOf(Cn.List).isRequired};var xr=Or,yr=/^rgb/i,Cr=function(e){var t,n,r;try{if(yr.test(e)){var a=e.match(/(\d+)\D+(\d+)\D+(\d+)/);t=parseInt(a[1],10);n=parseInt(a[2],10);r=parseInt(a[3],10)}else{var i=e.toLowerCase().replace(/^#/,"");3===i.length&&(i=i.replace(/([0-9a-f])/g,"$1$1"));t=parseInt(i.substring(0,2),16);n=parseInt(i.substring(2,4),16);r=parseInt(i.substring(4,6),16)}if([t,n,r].some(isNaN))return{}}catch(e){return{}}return{r:t,g:n,b:r}},wr=function(e){var t=Cr(e),n=t.r,r=t.g,a=t.b;if([n,r,a].some(isNaN))return{hue:0,saturation:0,lightness:0};var i,o=n/255,s=r/255,c=a/255,u=Math.max(o,s,c),l=Math.min(o,s,c),d=(u+l)/2,p=u-l;if(0===p)return{hue:0,saturation:0,lightness:d};var h=d>.5?p/(2-u-l):p/(u+l);switch(u){case o:i=(s-c)/p+(s<c?6:0);break;case s:i=(c-o)/p+2;break;default:i=(o-s)/p+4}i*=60;return{hue:i=Math.round(i),saturation:h,lightness:d}},Ar=function(e){var t=e<0?0:e>1?1:e;return Math.round(100*t)+"%"},kr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=wr(e),r=n.hue,a=n.saturation,i=n.lightness;return"hsl("+[r,Ar(a),Ar(i+t)].join(", ")+")"},Tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return kr(e,-t)},Ir=n("OwpT"),Er=n.n(Ir),Rr=g.a.div.withConfig({displayName:"CommonMessageContent__HyperlinkStyleWrapper",componentId:"sc-1z0owff-0"})([""," a{color:",";&:hover{color:",";}&:active{color:",";}}"],Le,function(e){return e.hyperlinkColor},function(e){var t=e.hyperlinkColor;return t&&Tr(t)},function(e){var t=e.hyperlinkColor;return t&&Tr(t,.2)}),Sr=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"isSentFromVisitor",value:function(){return Object(W.getSenderType)(this.props.message)===J.f}},{key:"isClickableLink",value:function(e){return new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?").test(e)}},{key:"handleOnClickEvent",value:function(e){e.persist();"A"===e.target.tagName&&this.props.toggleOpen({isOpened:!1})}},{key:"renderContentText",value:function(){var e=this.props,t=e.message,n=e.mobile,r=Object(W.getRichText)(t)||Object(W.getPlainText)(t),a=n&&this.isClickableLink(r);if(!r)return null;var i=Object(W.getRichText)(t)&&Er.a.link(r,{stripPrefix:!1});return Object(d.jsx)(hn,{contentText:i||r,"aria-label":this.isSentFromVisitor()?It.a.text("conversations-visitor-message-history.myMessage"):It.a.text("conversations-visitor-message-history.agentMessage"),onClickAction:a?this.handleOnClickEvent.bind(this):null})}},{key:"renderMessageSection",value:function(){var e=this.props,t=e.fileAttachments,n=e.isLastMessage,r=e.message,a=!Object(or.c)(r)&&t&&tr(t),i=ln(r);return a||i?Object(d.jsxs)(qe,{isLastMessage:n,children:[this.renderContentText(),a&&Object(d.jsx)(ir,{fileAttachments:t})]}):null}},{key:"renderAttachmentsSection",value:function(){var e=this.props,t=e.fileAttachments,n=e.message,r=Object(or.c)(n)?t:er(t);return r&&r.size?Object(d.jsx)(qe,{children:Object(d.jsx)(xr,{fileAttachments:r})}):null}},{key:"render",value:function(){var e=this.renderMessageSection(),t=this.renderAttachmentsSection(),n=this.isSentFromVisitor();return Object(d.jsx)(Rr,{hyperlinkColor:n&&ge(this.context),children:Object(d.jsxs)(ze,{children:[e,t,!e&&!t&&Object(d.jsx)(qe,{children:Object(d.jsx)(An,{})}),this.props.quickReplySelect&&this.props.quickReplySelect()]})})}}]);return t}(H.PureComponent);Sr.contextType=xe;Sr.displayName="CommonMessageContent";Sr.propTypes={fileAttachments:b.a.instanceOf(Cn.List),isLastMessage:b.a.bool,message:Object(h.a)("CommonMessage").isRequired,mobile:b.a.bool,quickReplySelect:b.a.oneOfType([b.a.bool,b.a.func]),toggleOpen:b.a.func};var Fr=Sr,Mr=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,n=e.message,r=e.positionDescriptors,a=Object(xn.a)(n),i=r.includes(On.c);return Object(d.jsxs)(Ke,{positionDescriptors:r,use:X.c,children:[Object(d.jsx)(Fr,{fileAttachments:t,isLastMessage:i,message:a}),i&&Object(d.jsx)(He,{children:Object(d.jsx)(nt.a,{use:"help",children:Object(d.jsx)(yn.a,{message:"conversations-visitor-message-history.status.publishing.UNPUBLISHED"})})})]})}}]);return t}(H.PureComponent);Mr.displayName="ActivelyPublishingMessage";Mr.propTypes={fileAttachments:b.a.instanceOf(Cn.List),message:Object(h.a)("ActivelyPublishing").isRequired,positionDescriptors:$.a.isRequired};var Pr=Mr,Br=n("LdnN"),Dr=n("VdXU"),Nr=n("Umjh"),_r=n("nzPM"),qr=n("/Maw"),Lr=g()(Dr.a).withConfig({displayName:"EmailCaptureInput__StyledVizExButton",componentId:"jtdise-0"})(["padding:0;width:100% !important;height:100%;"]),zr=g.a.div.withConfig({displayName:"EmailCaptureInput__LoadingButtonContainer",componentId:"jtdise-1"})(["width:38px;height:32px;margin:4px 4px 4px 0;"]),Ur={disabled:b.a.bool,locale:b.a.string,onChange:b.a.func.isRequired,onKeyPress:b.a.func.isRequired,onSubmit:b.a.func,submissionState:b.a.oneOf(["ready","submitting","done"]),value:b.a.string},Hr=function(e){var t=e.disabled,n=e.value,r=e.onChange,a=e.onKeyPress,i=e.onSubmit,o=e.locale,s=e.submissionState;return Object(d.jsx)(qr.a,{"aria-label":It.a.text("conversations-visitor-message-history.email-capture.placeholderText",{locale:o}),value:n,placeholder:It.a.text("conversations-visitor-message-history.email-capture.placeholderText",{locale:o}),"data-test-id":"email-capture-input",onChange:r,onKeyPress:a,suffix:Object(d.jsx)(zr,{children:Object(d.jsx)(Nr.a,{currentState:s,onClick:i,disabled:t,"aria-label":It.a.text("conversations-visitor-message-history.email-capture.sendEmail",{locale:o}),"data-test-id":"email-capture-submit-button",Button:Lr,children:Object(d.jsx)(dr.a,{icon:Object(d.jsx)(_r.a,{color:j.q})})})})})};Hr.displayName="EmailCaptureInput";Hr.propTypes=Ur;var Vr=Hr,Wr=g.a.span.withConfig({displayName:"CaptureSection__ErrorMessage",componentId:"sc-1br4epl-0"})(["color:",";font-size:12px;line-height:18px;text-align:left;margin-top:9px;display:flex;"],j.e),Qr=function(e){var t=e.message,n=e.email,r=e.errorMessage,a=e.onChange,i=e.onKeyPress,o=e.onSubmit,s=e.submissionState;return Object(d.jsxs)(qe,{children:[Object(d.jsx)(hn,{"aria-label":It.a.text("conversations-visitor-message-history.agentMessage"),contentText:Object(W.getPlainText)(t)}),Object(d.jsx)(Vr,{disabled:!n,value:n,onChange:a,onKeyPress:i,onSubmit:o,submissionState:s}),Object(d.jsx)(Wr,{"aria-live":"assertive",children:r})]},"email-prompt-capture-section")};Qr.displayName="CaptureSection";Qr.propTypes={email:b.a.string,errorMessage:b.a.string,message:Object(h.a)("EmailCapturePromptMessage").isRequired,onChange:b.a.func.isRequired,onKeyPress:b.a.func.isRequired,onSubmit:b.a.func.isRequired,submissionState:b.a.string.isRequired};var Gr=n("NrIs"),Yr=n("0wDu"),Jr=Yr.a,Kr=Yr.f,Zr=Yr.h,Xr=n("8u6N"),$r=function(e){var t=e.theme;return Object(m.css)(["box-shadow:0 0 0 1px ",";"],Object(Xr.a)(Zr(t),40))},ea=function(e){var t=e.checked,n=e.theme;return Object(m.css)(["background-color:",";color:",";"],Jr(n),!t&&Object(Xr.a)(Zr(n),40))},ta=g.a.div.withConfig({displayName:"VizExCheckbox__CheckboxBox",componentId:"sc-177jav4-0"})(["flex-shrink:0;height:16px;width:16px;transition:color 0.15s ease-out,background-color 0.15s ease-out;color:",";border-color:currentColor;border:2px solid;border-radius:3px;position:relative;",";",";"],function(e){var t=e.checked,n=e.theme;return t?Zr(n):Kr(n)},function(e){var t=e.hover,n=e.theme,r=e.checked;return t&&ea({theme:n,checked:r})},function(e){var t=e.focus,n=e.theme;return t&&$r({theme:n})}),na=g.a.label.withConfig({displayName:"VizExCheckbox__CheckboxWrapper",componentId:"sc-177jav4-1"})(["position:relative;display:inline-flex;flex-direction:row;align-items:center;font-size:16px;cursor:pointer;:hover ","{","}input:focus + ","{","}"],ta,ea,ta,$r),ra=g.a.input.withConfig({displayName:"VizExCheckbox__CheckboxInput",componentId:"sc-177jav4-2"})(["position:absolute;top:0;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0;"]),aa=g.a.svg.withConfig({displayName:"VizExCheckbox__Indicator",componentId:"sc-177jav4-3"})(["height:100%;width:100%;top:0;left:0;position:absolute;pointer-events:none;"]),ia=g.a.div.withConfig({displayName:"VizExCheckbox__ContentWrapper",componentId:"sc-177jav4-4"})(["padding-left:8px;user-select:none;cursor:pointer;"]),oa=function(e){var t=e.onChange,n=e.theme,r=e.children,a=e.checked,i=e.focus,o=e.hover,s=Object(Ze.a)(e,["onChange","theme","children","checked","focus","hover"]),c=Object(H.useRef)(null);return Object(d.jsxs)(na,Object.assign({},s,{onClick:function(){c.current.focus()},"data-testid":"VizExCheckbox",checked:a,theme:n,children:[Object(d.jsx)(ra,{ref:c,"data-testid":"VizExCheckbox-input",type:"checkbox",onChange:t}),Object(d.jsx)(ta,{theme:n,checked:a,focus:i,hover:o,children:a&&Object(d.jsx)(aa,{viewBox:"0 0 15 15.343",children:Object(d.jsx)("path",{d:"M1.013 8.11c0-.223.078-.412.234-.568l1.14-1.14c.155-.155.345-.233.568-.233s.413.077.57.233l2.46 2.47 5.492-5.5c.156-.156.346-.234.568-.234.224 0 .413.077.57.233l1.138 1.14c.156.155.234.345.234.568 0 .224-.078.414-.234.57l-6.06 6.06-1.14 1.14c-.155.155-.345.233-.568.233s-.413-.078-.57-.234l-1.138-1.14-3.03-3.03c-.156-.156-.234-.346-.234-.57z",fill:"currentColor"})})}),r&&Object(d.jsx)(ia,{children:r})]}))};oa.displayName="VizExCheckbox";oa.propTypes={checked:b.a.bool,children:b.a.node,focus:b.a.bool,hover:b.a.bool,onChange:b.a.func,theme:Gr.a};var sa=oa,ca=g.a.div.withConfig({displayName:"ConsentToCommunicate__BreakString",componentId:"sc-1w0pikn-0"})(["-ms-word-break:break-all;display:block;word-break:break-word;word-wrap:break-word;"]),ua=g()(nt.a).withConfig({displayName:"ConsentToCommunicate__SmallNoParagraphPadding",componentId:"sc-1w0pikn-1"})(["p{margin-bottom:0;}"]),la=function(e){var t=e.message,n=e.companyName,r=e.consentToCommunicate,a=e.onChange,i=Object(dn.a)(t)||It.a.text("conversations-visitor-message-history.email-capture.consentToCommunicate",{accountName:n});return Object(d.jsx)(sa,{checked:r,onChange:a,children:Object(d.jsx)(ua,{use:"help",children:Object(d.jsx)(ca,{children:Object(d.jsx)("span",{dangerouslySetInnerHTML:{__html:i}})})})})};la.displayName="ConsentToCommunicate";la.propTypes={companyName:b.a.string,consentToCommunicate:b.a.bool.isRequired,message:b.a.string.isRequired,onChange:b.a.func.isRequired};var da=la,pa=/\s|@.{0,}@/,ha=function(e){Object(l.a)(t,e);function t(e){var n;Object(o.a)(this,t);(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onConsentChange=function(){n.setState({hasConsentedToCommunicate:!n.state.hasConsentedToCommunicate})};n.state={email:"",emailError:!1,hasConsentedToCommunicate:!1,submitFailure:!1,submissionState:"ready"};n.handleChange=n.handleChange.bind(Object(p.a)(n));n.handleKeyPress=n.handleKeyPress.bind(Object(p.a)(n));n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n));return n}Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState({email:e.target.value,emailError:!1,submitFailure:!1,submissionState:"ready"})}},{key:"handleKeyPress",value:function(e){var t=13;e.which===t&&this.handleSubmit()}},{key:"handleSubmit",value:function(){var e=this,t=this.props,n=t.sendVisitorEmailAddress,r=t.threadId,a=this.state,i=a.email,o=a.hasConsentedToCommunicate,s=i.trim();Br.a.test(s)&&!s.match(pa)?this.setState({submissionState:"submitting"},function(){n({email:s,consentToCommunicate:o,threadId:r}).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error;e.setState({submitFailure:Boolean(t),submissionState:"done"})}).done()}):this.setState({emailError:!0,submissionState:"ready"})}},{key:"getValidationMessage",value:function(){switch(!0){case this.state.emailError:return Object(d.jsx)(yn.a,{message:"conversations-visitor-message-history.email-capture.invalid"});case this.state.submitFailure:return Object(d.jsx)(yn.a,{message:"conversations-visitor-message-history.email-capture.failed"});default:return null}}},{key:"render",value:function(){var e=this.props,t=e.companyName,n=e.consentToCommunicateMessage,r=e.hasVisitorEmail,a=e.message,i=e.positionDescriptors,o=e.requiresConsentToCommunicate,s=this.state,c=s.email,u=s.hasConsentedToCommunicate,l=this.getValidationMessage();return Object(d.jsx)(Ke,{positionDescriptors:i,use:X.a,children:Object(d.jsx)(ze,{children:r?Object(d.jsx)(qe,{children:Object(d.jsx)(yn.a,{"data-test-id":"email-capture-success",message:"conversations-visitor-message-history.email-capture.thanks"})}):Object(d.jsxs)(H.Fragment,{children:[Object(d.jsx)(Qr,{message:a,email:c,errorMessage:l,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onSubmit:this.handleSubmit,submissionState:this.state.submissionState}),o&&Object(d.jsx)(qe,{children:Object(d.jsx)(da,{message:n,companyName:t,consentToCommunicate:u,onChange:this.onConsentChange})},"email-prompt-content-section")]})})})}}]);return t}(H.PureComponent);ha.displayName="EmailCapturePromptMessage";ha.propTypes={companyName:b.a.string,consentToCommunicateMessage:b.a.string,hasVisitorEmail:b.a.bool.isRequired,message:Object(h.a)("EmailCapturePromptMessage").isRequired,positionDescriptors:$.a.isRequired,requiresConsentToCommunicate:b.a.bool,sendVisitorEmailAddress:b.a.func.isRequired,threadId:b.a.number.isRequired};var fa=ha,ba=n("19qb"),ma=n("AQmo"),ga=n("le4V"),ja=n("MBJP"),va=n("ZqFO"),Oa=n("647q"),xa=Object(ja.a)(Oa.getLatestWidgetData,function(e){return Object(va.c)(e)}),ya=Object(ja.a)(Oa.getLatestWidgetData,Object(le.a)("companyName")),Ca=n("Wtdz"),wa=n("AEyM"),Aa=n("eEyY"),ka=function(e){return{coloring:Object(ma.a)(e),companyName:ya(e),consentToCommunicateMessage:xa(e),hasVisitorEmail:Object(Ca.a)(e),requiresConsentToCommunicate:Object(ga.a)(e),threadId:Object(Aa.getCurrentThreadId)(e)}},Ta={sendVisitorEmailAddress:wa.sendVisitorEmailAddress},Ia=Object(ba.connect)(ka,Ta)(fa),Ea=function(e){return Object(d.jsx)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 28 25"},e,{children:Object(d.jsx)("path",{d:"M12 7.663c-.042-.286.044-.577.234-.796.192-.218.469-.344.76-.344h2.011c.292 0 .57.126.76.344.192.22.277.51.236.796l-1.006 6.992c-.07.492-.494.857-.995.857-.5 0-.925-.365-.995-.857l-1.006-6.992zm2 13.841c-1.11 0-2.01-.894-2.01-1.997 0-1.103.9-1.998 2.01-1.998 1.111 0 2.01.895 2.01 1.998s-.899 1.997-2.01 1.997zm3.001-19.783C16.375.643 15.253 0 14 0s-2.374.643-3 1.72L.47 19.838c-.627 1.078-.627 2.365 0 3.442C1.096 24.357 2.217 25 3.47 25H24.53c1.253 0 2.374-.643 3-1.72.627-1.078.627-2.365 0-3.443L17.001 1.721z",fillRule:"evenodd"})}))};Ea.displayName="SVGWarning";var Ra=Ea,Sa=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,n=e.message,r=e.onRepublish,a=e.positionDescriptors,i=Object(xn.a)(n);return Object(d.jsxs)(Ke,{positionDescriptors:a,use:X.c,children:[Object(d.jsx)(Fr,{fileAttachments:t,isLastMessage:!0,message:i}),Object(d.jsx)(He,{children:Object(d.jsxs)(nt.a,{use:"error",children:[Object(d.jsx)(dr.a,{icon:Object(d.jsx)(Ra,{}),className:"m-right-1"}),Object(d.jsx)(Yn.a,{onClick:function(){return r(i)},use:"error",children:Object(d.jsx)(yn.a,{message:"conversations-visitor-message-history.status.publishing.PUBLISH_FAILED"})})]})})]})}}]);return t}(H.PureComponent);Sa.displayName="FailedToPublishMessage";Sa.propTypes={fileAttachments:b.a.instanceOf(Cn.List),message:Object(h.a)("FailedToPublish").isRequired,onRepublish:b.a.func.isRequired,positionDescriptors:$.a.isRequired};var Fa=Sa,Ma={onRepublish:n("N4ZN").a},Pa=Object(ba.connect)(null,Ma)(Fa),Ba=n("gGDi");function Da(e){return"string"==typeof e}function Na(e){return Da(e)?e:e.has("label")?e.get("label"):e.get("value")}function _a(e){return Da(e)?e:e.get("value")}var qa=n("k8Ub"),La=n("YM6t"),za=n("A5YI"),Ua=function(e){return Object(d.jsx)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e,{children:Object(d.jsx)("path",{d:"M29.92 2.58L11.33 21.17l-9.25-9.25c-.362-.362-.862-.586-1.415-.586-1.105 0-2.001.896-2.001 2.001 0 .553.224 1.053.586 1.415L9.92 25.41c.362.362.862.587 1.415.587s1.053-.224 1.415-.587l20-20c.362-.362.586-.862.586-1.415 0-1.105-.896-2.001-2.001-2.001-.553 0-1.053.224-1.415.586z"})}))};Ua.displayName="SVGSuccess";var Ha=Ua,Va=g.a.div.withConfig({displayName:"QuickReplyGroup__ButtonWrapper",componentId:"sc-18yyrs6-0"})(["margin-bottom:12px;> *{margin-right:8px;margin-bottom:8px;}> *:last-child{margin-right:0;}padding:8px;display:inline-block;"]),Wa=g()(Dr.a).withConfig({displayName:"QuickReplyGroup__LeftAlignButton",componentId:"sc-18yyrs6-1"})(["text-align:left;"]),Qa=function(e){Object(l.a)(t,e);function t(e){var n;Object(o.a)(this,t);(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSendMulti=n.handleSendMulti.bind(Object(p.a)(n));n.handleQuickReplySend=n.handleQuickReplySend.bind(Object(p.a)(n));n.handleSendIndividual=n.handleSendIndividual.bind(Object(p.a)(n));n.handleSelect=n.handleSelect.bind(Object(p.a)(n));n.state={selected:Object(Cn.Set)()};return n}Object(s.a)(t,[{key:"hasSelected",value:function(){return this.state.selected.size>0}},{key:"handleSelect",value:function(e){this.setState(function(t){var n=t.selected;return{selected:n.includes(e)?n.delete(e):n.add(e)}})}},{key:"handleSendMulti",value:function(){var e=this.state.selected;if(this.hasSelected()){var t=e.map(Na).join(", ");this.handleQuickReplySend(t,e)}}},{key:"handleSendIndividual",value:function(e){var t=Object(Cn.List)([e]),n=Na(e);this.handleQuickReplySend(n,t)}},{key:"handleQuickReplySend",value:function(e,t){var n=this.props,r=n.message;(0,n.publishMessage)({text:e,quickReply:Object(qa.a)(r).set("quickReplies",t.toJS())})}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,n=e.multiSelect,r=e.disabled,a=this.state.selected,i=n?this.handleSelect:this.handleSendIndividual;return t.map(function(e){var t=function(){return i(e)},o=a.includes(e),s=_a(e),c=Na(e);if(!s||!c)return null;var u=n&&Object(d.jsx)(sa,{className:"m-right-2",checked:o,onChange:t,children:c});return Object(d.jsx)(Wa,{onClick:t,disabled:r,size:"sm",children:u||c},"quickreply."+s)})}},{key:"renderSendButton",value:function(){var e=this.props,t=e.disabled;if(!e.multiSelect)return null;var n=!this.hasSelected()||t;return Object(d.jsx)(za.a,{disabled:n,onClick:this.handleSendMulti,size:"sm",children:Object(d.jsx)(dr.a,{icon:Object(d.jsx)(Ha,{}),size:"sm"})},"send-button")}},{key:"render",value:function(){return Object(d.jsx)(Va,{"data-test-id":"quick-reply-group",children:[].concat(Object(La.a)(this.renderOptions()),[this.renderSendButton()])})}}]);return t}(H.Component);Qa.contextType=xe;Qa.defaultProps={multiSelect:!1,hasSentReply:!1};Qa.displayName="QuickReplyGroup";Qa.propTypes={disabled:b.a.bool.isRequired,message:b.a.oneOfType([Object(h.a)("CommonMessage"),Object(h.a)("InitialMessage")]).isRequired,multiSelect:b.a.bool.isRequired,options:b.a.instanceOf(Cn.Set).isRequired,publishMessage:b.a.func};var Ga=Qa,Ya=7,Ja=(n("PrNr"),Yr.f),Ka=Yr.e,Za=(Yr.a,Yr.b,Yr.g,Yr.f,Yr.h,Yr.h),Xa=(Yr.h,"__PLACEHOLDER_VALUE__"),$a=g.a.select.withConfig({displayName:"VizExMobileSelect__StyledSelect",componentId:"sc-67u6t-0"})(["appearance:none;background:none;border-radius:3px;border:1px solid transparent;color:inherit;cursor:inherit;font-size:16px;margin:0;outline:none;padding:8px 32px 10px 10px;width:100%;height:40px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&::-ms-expand{display:none;}:focus::-ms-value{color:",";background:transparent;}"],function(e){var t=e.theme;return Object(Yr.i)(t)}),ei=g.a.div.withConfig({displayName:"VizExMobileSelect__SelectContainer",componentId:"sc-67u6t-1"})(["background-color:",";border-radius:3px;border:1px solid ",";cursor:pointer;display:block;font-size:16px;height:40px;line-height:22px;padding:0;position:relative;text-align:left;transition:all 0.15s ease-out;width:100%;&::after{border-color:transparent;border-style:solid;border-width:0.375em;display:inline-block;vertical-align:middle;border-top-color:",";margin-top:0.375em;margin-top:-3px;content:' ';position:absolute;top:50%;right:1em;z-index:2;pointer-events:none;}"],function(e){var t=e.theme;return Ka(t)},function(e){var t=e.theme;return Ja(t)},function(e){var t=e.theme;return Za(t)}),ti=function(e){var t=e.options,n=e.disabled,r=e.value,a=e.onChange,i=e.placeholder,o=e.theme,s=Object(Ze.a)(e,["options","disabled","value","onChange","placeholder","theme"]),c=t.map(function(e){var t=e.value,n=e.text;return Object(d.jsx)("option",{value:t,children:n},t)});return Object(d.jsx)(ei,{theme:o,children:Object(d.jsxs)($a,Object.assign({},s,{"data-testid":"VizExSelect",disabled:n,defaultValue:Xa,value:r,onChange:a,theme:o,children:[i&&Object(d.jsx)("option",{disabled:!0,value:Xa,children:i}),c]}))})};ti.displayName="VizExMobileSelect";ti.propTypes={disabled:b.a.bool,onChange:b.a.func.isRequired,options:b.a.arrayOf(b.a.shape({text:b.a.string,value:b.a.string})).isRequired,placeholder:b.a.string,theme:Gr.a,value:b.a.string};var ni=ti,ri="__PLACEHOLDER_VALUE__",ai=function(e){var t=e.quickReplyOptions,n=e.onChange,r=e.disabled,a=e.value,i=e.placeholder,o=Object(H.useMemo)(function(){return t.map(function(e){var t=_a(e);return{text:Na(e),value:t}}).toJS()},[t]);return Object(d.jsx)(ni,{options:o,onChange:n,disabled:r,defaultValue:ri,value:a,placeholder:i})};ai.displayName="QuickReplySelect";ai.propTypes={disabled:b.a.bool,onChange:b.a.func.isRequired,placeholder:b.a.string,quickReplyOptions:b.a.instanceOf(Cn.OrderedSet).isRequired,value:b.a.string};var ii=ai,oi=n("VADA"),si=n("pHbL"),ci=n("/OK6"),ui=n("SGjM"),li=n("8HiZ"),di=Object(te.a)(function(e){var t=e.companyLogo,n=e.customChatName;return new li.a({avatar:t,firstName:n,senderType:J.a})}),pi=n("Ebn+"),hi=n("G6fO"),fi=Object(te.a)(function(e,t,n){var r=Object(pi.agentTypeToSenderType)(Object(hi.getAgentType)(e)||n);return new li.a({id:Object(hi.getUserId)(e)||t,avatar:Object(hi.getAvatar)(e),firstName:Object(hi.getFirstName)(e),email:Object(hi.getEmail)(e),lastName:Object(hi.getLastName)(e),senderType:r})}),bi=g.a.div.withConfig({displayName:"InitialMessageAvatar__MultiAvatarWrapper",componentId:"sc-1rm04o9-0"})(["width:100%;height:100%;display:flex;justify-content:center;flex-wrap:wrap;margin-right:4px;margin-left:-4px;& > *{flex:1;line-height:1;position:relative;& > *{position:absolute;left:0;bottom:-8px;}div{background-color:white;}}"]),mi=function(e){Object(l.a)(t,e);function t(){Object(o.a)(this,t);return Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}Object(s.a)(t,[{key:"getSenderAvatars",value:function(){var e=this.props,t=e.chatHeadingConfig,n=e.sender,r=e.sendFromResponders;if(Object(ci.isFromBot)(n))return Object(Cn.List)([n]);if(r.size)return Object(ui.a)(fi,r);var a=Object(oi.a)(t);return a?Object(Cn.List)([di({companyLogo:a,customChatName:Object(si.a)(t)})]):Object(Cn.List)()}},{key:"renderAvatars",value:function(){var e=this.getSenderAvatars();if(!e.size)return Object(d.jsx)(Z,{});if(1===e.size){var t=e.get(0);return Object(d.jsx)(Z,{sender:t})}var n=2===e.size;return Object(d.jsx)(bi,{children:e.map(function(e,t){return Object(d.jsx)(Z,{sender:e,size:n?"xs":"xxs"},t)})})}},{key:"render",value:function(){return Object(d.jsx)(De,{children:this.renderAvatars()})}}]);return t}(H.PureComponent);mi.displayName="InitialMessageAvatar";mi.propTypes={chatHeadingConfig:b.a.oneOfType([Object(h.a)("CompanyChatHeadingConfig"),Object(h.a)("OwnerChatHeadingConfig"),Object(h.a)("UsersAndTeamsChatHeadingConfig")]),sendFromResponders:b.a.instanceOf(Cn.List).isRequired,sender:Object(h.a)("Sender")};var gi=mi,ji=function(e){Object(l.a)(t,e);function t(e){var n;Object(o.a)(this,t);(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleQuickReplySend=function(){var e=n.props,t=e.message,r=e.publishMessage,a=n.state.selectedQuickReply;r({text:Na(a),quickReply:Object(qa.a)(t).set("quickReplies",[a])})};n.handleQuickReplySelect=function(e){var t=e.target.value,r=n.props.message,a=Object(qa.d)(r).filter(function(e){return _a(e)===t}).first();n.setState({selectedQuickReply:a})};n.showQuickReplySelection=function(){var e=n.props.message,t=Object(qa.d)(e),r=Object(qa.b)(e);return n.showQuickReplies()&&t.count()>Ya&&!r};n.renderQuickReplySelect=function(){var e=n.props,t=e.message,r=e.isThreadStarted,a=e.requiresExplicitConsentToProcess,i=n.state.selectedQuickReply,o=Object(qa.d)(t);return Object(d.jsx)("div",{className:"m-y-2",children:Object(d.jsx)(ii,{quickReplyOptions:o,disabled:a||!r,onChange:n.handleQuickReplySelect,value:_a(i),placeholder:It.a.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")})})};n.renderQuickReplySendButton=function(){var e=n.props.isThreadStarted,t=n.state.selectedQuickReply;return Object(d.jsx)(He,{children:Object(d.jsx)(Dr.a,{disabled:!e||!_a(t),onClick:n.handleQuickReplySend,size:"sm",use:"primary",children:Object(d.jsx)(rt.a,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})})})};n.state={selectedQuickReply:Object(Cn.Map)()};return n}Object(s.a)(t,[{key:"hasQuickReplyOptions",value:function(){var e=this.props.message,t=Object(W.getSenderType)(e);return Object(qa.a)(e)&&t===J.b}},{key:"showQuickReplies",value:function(){var e=this.props,t=e.hasUnansweredQuickReplyMessage,n=e.positionDescriptors,r=t&&n.get(On.c);return this.hasQuickReplyOptions()&&r}},{key:"renderAvatar",value:function(){var e=this.props,t=e.chatHeadingConfig,n=e.message,r=e.senders,a=e.sendFromResponders,i=Object(W.getSenderId)(n),o=Object(W.getSenderType)(n),s=re(i,o,r),c=Object(Q.b)(s);return Object(d.jsx)(gi,{chatHeadingConfig:t,sender:c,sendFromResponders:a})}},{key:"renderQuickReplyGroup",value:function(){var e=this.props,t=e.isThreadStarted,n=e.message,r=e.publishMessage,a=e.requiresExplicitConsentToProcess,i=Object(qa.d)(n),o=Object(qa.b)(n);return Object(d.jsx)(He,{children:Object(d.jsx)(Ga,{disabled:a||!t,options:i,message:n,multiSelect:o,publishMessage:r,onSend:this.handleQuickReplySend})})}},{key:"renderContentSection",value:function(){var e,t,n=Object(fn.a)(["metadata","@type"]),r=this.props.message;if(Boolean(n(r))){e=Object(W.getPlainText)(r);t=Object(W.getRichText)(r)}else{e=Object(Ba.b)(r);t=Object(Ba.a)(r)}var a=Er.a.link(t,{stripPrefix:!1});return Object(d.jsxs)(qe,{children:[Object(d.jsx)(hn,{"aria-label":It.a.text("conversations-visitor-message-history.agentMessage"),contentText:a||e}),this.showQuickReplySelection()&&this.renderQuickReplySelect()]})}},{key:"renderMessageFooter",value:function(){var e=this.props.message,t=Object(qa.d)(e),n=Object(qa.b)(e);return this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(t.count()<=Ya||n)?this.renderQuickReplyGroup():null}},{key:"render",value:function(){var e=this.props.positionDescriptors,t=e.get(On.a);return Object(d.jsxs)(Ke,{positionDescriptors:e,use:X.a,children:[t&&Object(d.jsx)(We,{children:this.renderAvatar()}),Object(d.jsx)(ze,{children:this.renderContentSection()}),this.renderMessageFooter()]})}}]);return t}(H.PureComponent);ji.displayName="InitialMessage";ji.propTypes={chatHeadingConfig:b.a.oneOfType([Object(h.a)("CompanyChatHeadingConfig"),Object(h.a)("OwnerChatHeadingConfig"),Object(h.a)("UsersAndTeamsChatHeadingConfig")]),hasUnansweredQuickReplyMessage:b.a.bool,isThreadStarted:b.a.bool.isRequired,message:Object(h.a)("InitialMessage").isRequired,positionDescriptors:$.a.isRequired,publishMessage:b.a.func,requiresExplicitConsentToProcess:b.a.bool.isRequired,sendFromResponders:b.a.instanceOf(Cn.List).isRequired,senders:ee.a.isRequired};var vi=ji,Oi=n("p9k8"),xi=n("WUj5"),yi=n("hTKa"),Ci=n("PYok"),wi=n("byjC"),Ai=n("k09d"),ki=n("wD2U"),Ti=function(e){var t=Object(Ai.a)(e);return{chatHeadingConfig:Object(xi.a)(e),sendFromResponders:Object(yi.a)(e),hasUnansweredQuickReplyMessage:Object(wi.a)(e,{thread:t}),isThreadStarted:Object(Oi.a)(t),mobile:Object(ki.getIsMobile)(e)}},Ii={publishMessage:Ci.a},Ei=Object(ba.connect)(Ti,Ii)(vi),Ri=function(e){var t=Object(W.getSenderType)(e);return Object(qa.a)(e)&&t===J.b},Si=function(e){Object(l.a)(t,e);function t(e){var n;Object(o.a)(this,t);(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleQuickReplySend=function(){var e=n.props,t=e.message,r=e.publishMessage,a=n.state.selectedQuickReply;r({text:Na(a),quickReply:Object(qa.a)(t).set("quickReplies",[a])})};n.handleQuickReplySelect=function(e){var t=e.target.value,r=n.props.message,a=Object(qa.d)(r).filter(function(e){return _a(e)===t}).first();n.setState({selectedQuickReply:a})};n.showQuickReplies=function(){var e=n.props,t=e.hasUnansweredQuickReplyMessage,r=e.message,a=e.positionDescriptors,i=t&&a.get(On.c);return Ri(r)&&i};n.showQuickReplySelection=function(){var e=n.props.message,t=Object(qa.d)(e),r=Object(qa.b)(e);return n.showQuickReplies()&&t.count()>Ya&&!r};n.renderQuickReplyGroup=function(){var e=n.props,t=e.isThreadStarted,r=e.message,a=e.publishMessage,i=e.requiresExplicitConsentToProcess,o=Object(qa.d)(r),s=Object(qa.b)(r);return Object(d.jsx)(He,{children:Object(d.jsx)(Ga,{options:o,disabled:i||!t,message:r,multiSelect:s,publishMessage:a,onChange:n.handleQuickReplyUpdate})})};n.renderQuickReplySendButton=function(){var e=n.props.isThreadStarted,t=n.state.selectedQuickReply;return Object(d.jsx)(He,{children:Object(d.jsx)(Dr.a,{disabled:!e||!_a(t),onClick:n.handleQuickReplySend,size:"sm",use:"primary",children:Object(d.jsx)(rt.a,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})})})};n.renderQuickReplySelect=function(){var e=n.props,t=e.message,r=e.isThreadStarted,a=e.requiresExplicitConsentToProcess,i=n.state.selectedQuickReply,o=Object(qa.d)(t);return Object(d.jsx)("div",{className:"m-bottom-3 m-x-3",children:Object(d.jsx)(ii,{quickReplyOptions:o,disabled:a||!r,onChange:n.handleQuickReplySelect,value:_a(i),placeholder:It.a.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")})})};n.state={selectedQuickReply:Object(Cn.Map)()};return n}Object(s.a)(t,[{key:"isSentFromVisitor",value:function(){return Object(W.getSenderType)(this.props.message)===J.f}},{key:"renderMessageHeader",value:function(){var e=this.props,t=e.message,n=e.positionDescriptors,r=e.senders;if(!n.includes(On.b)||this.isSentFromVisitor())return null;var a=Object(W.getSenderId)(t),i=Object(W.getSenderType)(t),o=re(a,i,r),s=Object(Q.b)(o);s||(s=Object(li.a)({senderType:i,firstName:Object(W.getFromName)(t),email:Object(W.getFromAddress)(t)||null}));var c=ie(o);return Object(d.jsxs)(We,{children:[Object(d.jsx)(De,{children:Object(d.jsx)(Z,{sender:s,isLoading:c})}),Object(d.jsx)(Ge,{children:Object(d.jsx)(lt,{isSenderLoading:c,sender:s})})]})}},{key:"renderTimeStamp",value:function(){var e=this.props,t=e.message,n=e.positionDescriptors,r=e.locale,a=n.includes(On.d),i=Object(W.getTimestamp)(t);return a&&i?Object(d.jsx)(He,{children:Object(d.jsx)(nt.a,{use:"help",children:new Date(i).toLocaleTimeString(r,{hour:"2-digit",minute:"2-digit"})})}):null}},{key:"renderMessageFooter",value:function(){var e=this.props.message,t=Object(qa.d)(e),n=Object(qa.b)(e);return this.showQuickReplies()&&this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(t.count()<=Ya||n)?this.renderQuickReplyGroup():this.renderTimeStamp()}},{key:"render",value:function(){var e=this.props,t=e.fileAttachments,n=e.message,r=e.positionDescriptors,a=e.toggleOpen,i=e.mobile,o=this.isSentFromVisitor()?X.c:X.a;return Object(d.jsxs)(Ke,{positionDescriptors:r,use:o,children:[this.renderMessageHeader(),Object(d.jsx)(Fr,{fileAttachments:t,isLastMessage:r.includes(On.c),message:n,quickReplySelect:this.showQuickReplySelection()&&this.renderQuickReplySelect,mobile:i,toggleOpen:a}),this.renderMessageFooter()]})}}]);return t}(H.PureComponent);Si.displayName="CommonMessage";Si.propTypes={fileAttachments:b.a.instanceOf(Cn.List),hasUnansweredQuickReplyMessage:b.a.bool,isThreadStarted:b.a.bool.isRequired,locale:b.a.string.isRequired,message:Object(h.a)("CommonMessage").isRequired,mobile:b.a.bool,positionDescriptors:$.a.isRequired,publishMessage:b.a.func,requiresExplicitConsentToProcess:b.a.bool.isRequired,senders:ee.a,toggleOpen:b.a.func};var Fi=Si,Mi=n("jxkM"),Pi=n("u8Gm"),Bi=function(e){var t=Object(Ai.a)(e);return{hasUnansweredQuickReplyMessage:Object(wi.a)(e,{thread:t}),isThreadStarted:Object(Oi.a)(t),mobile:Object(ki.getIsMobile)(e),locale:Object(Pi.a)(e)}},Di={publishMessage:Ci.a,toggleOpen:Mi.toggleOpen},Ni=Object(ba.connect)(Bi,Di)(Fi),_i=n("lOT2"),qi=function(e){return{requiresExplicitConsentToProcess:Object(_i.a)(e)}},Li={},zi=Object(ba.connect)(qi,Li),Ui=["id"],Hi=["timestamp"],Vi=(Object(fn.a)(Ui),Object(fn.a)(Hi)),Wi=Object(H.memo)(function(e){var t=e.message,n=e.labelPadding,r=e.locale,a=Vi(t),i=new Date(a).toLocaleDateString(r,{year:"numeric",month:"long",day:"numeric"});return Object(d.jsx)(kt,{labelPadding:n,children:Object(d.jsx)(nt.a,{use:"help",children:i})})});Wi.displayName="DateLabelMessage";Wi.propTypes={labelPadding:b.a.string,locale:b.a.string.isRequired,message:Object(h.a)("DateMessage").isRequired};var Qi=Wi,Gi=g.a.div.withConfig({displayName:"DateLabel__StyleWrapper",componentId:"sc-13b30i8-0"})(["","{border-color:",";}"],wt,j.f),Yi=function(e){return Object(d.jsx)(Gi,{children:Object(d.jsx)(Qi,Object.assign({},e,{labelPadding:"m-y-3"}))})};Yi.displayName="DateLabel";Yi.propTypes=Qi.propTypes;var Ji,Ki=Yi,Zi=function(e){return{locale:Object(Pi.a)(e)}},Xi=Object(ba.connect)(Zi,null)(Ki);n.d(t,"a",function(){return $i});var $i=(Ji={},Object(a.a)(Ji,xt.a,Pr),Object(a.a)(Ji,bt.a,zi(Ni)),Object(a.a)(Ji,i.a,Xi),Object(a.a)(Ji,mt.a,Ia),Object(a.a)(Ji,xt.b,Pa),Object(a.a)(Ji,gt.a,zi(Ei)),Object(a.a)(Ji,jt.a,vn),Object(a.a)(Ji,vt.a,vn),Object(a.a)(Ji,Ot.a,ft),Ji)},"5ZnG":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e.node,n=e.config;if(!t||!t.href||"A"!==t.tagName)return null;var r=t.href.match("(tel|mms|sms|mailto):[0-9]+");"_self"!==t.getAttribute("target")||r||t.setAttribute("target","_top");var a=r?"_self":t.getAttribute("target");a&&t.setAttribute("target",a);return{node:t,config:n}}},"5els":function(e,t,n){var r=n("uIOU"),a=n("EzJv"),i=n("2+Io");function o(){this.size=0;this.__data__={hash:new r,map:new(i||a),string:new r}}e.exports=o},"5oUx":function(e,t,n){"use strict";var r=n("OwGx"),a=n("Ebn+"),i=n("G6fO"),o=n("MBJP"),s=n("k09d"),c=n("Q2fA"),u=Object(o.a)([function(e){return e},s.a],function(e,t){return Object(c.a)(e,{thread:t})}),l=n("eEyY"),d=n("QYOI"),p=n("0sif"),h=n("IhEF"),f=n("B/8b");n.d(t,"a",function(){return b});var b=Object(o.a)([u,l.getCurrentThreadId],function(e,t){if(!e||!t)return Object(d.List)();var n=Object(a.agentTypeToCMFSenderType)(Object(i.getAgentType)(e),!0),o=Object(f.a)(n);return Object(d.List)([new p.a({id:Object(h.generateUuid)(),typingState:null,sender:Object(r.a)({"@type":n},o,Object(i.getUserId)(e))})])})},"5rZi":function(e,t,n){"use strict";n.r(t);n.d(t,"createNewThread",function(){return R});var r=n("+LtA"),a=n("Ut5p"),i=n("QYOI"),o=n("JGJA"),s=n("4dq7"),c=n("dIvY"),u=n("sWFM"),l=n("V0XL"),d=n("E6wg"),p=n("lJFu"),h=n("Ryja"),f=n("Ux+X"),b=n("081M"),m=n("k3iI"),g=n("qwm9"),j=n("D1SC"),v=n("PY3R"),O=n("q1tZ"),x=n("647q"),y=n("2BFa"),C=n("xM+F"),w=n("CdQ/"),A=n("dZ2B"),k=n("R4/u"),T=Object(a.b)(j.a.STARTED),I=Object(a.b)(j.a.SUCCEEDED,function(e){return{channel:e.channel,threadId:e.threadId,conversation:e.conversation,threadHistory:e.threadHistory,shouldAskForEmail:e.shouldAskForEmail}}),E=Object(a.b)(j.a.FAILED,function(e){return{status:e.status,message:e.message,error:e.error}});function R(){return function(e,t){var n=Object(d.getSessionId)(t()),a=Object(u.getMessageId)(t()),j=Object(l.getMessagesPageUri)(t()),R=Object(b.getHubspotUtk)(),S=Object(x.getLatestWidgetData)(t());e(T());return Object(g.createVisitorThread)({sessionId:n,hubspotUtk:R,messageId:a,messagesPageUri:j,visitorThreadInitialHistory:Object(h.getVisitorInitialThreadHistory)(t()),widgetData:S,zoneId:Object(A.getUserTimezone)()}).then(function(n){var a=n.channelDetails,u=n.sessionId,l=n.id,d=n.history,h=n.shouldAskForEmail,b=new r.a(Object.assign({},d,{attachments:Object(i.Map)(Object(o.a)("attachments",d))})),g=Object(p.buildCreatedThread)({channelDetails:a,messagesPageUri:j,threadId:l,threadHistory:b});e(Object(m.updateSessionId)(u));e(Object(f.trackInteraction)("start-conversation",{action:"new conversation started",threadId:l}));e(Object(k.b)());e(I({channel:Object(O.a)(a),threadId:l,conversation:g,threadHistory:b,shouldAskForEmail:h}));e(Object(s.addAvailabilityMessage)({channel:Object(O.a)(a),threadId:l}));Object(v.a)({thread:g});Object(y.gdprCookieConsentOnExitIntentEnabled)(t(),S)||Object(C.getIsPrivateLoad)(S)||Object(c.handleStoreMessagesCookie)(Object(w.getMessagesUtk)())}).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(E({status:t.status,message:t.message,error:t}))})}}},"6PLn":function(e,t,n){"use strict";n.r(t);n.d(t,"applyGdprConsent",function(){return i});var r=n("Qf6G"),a=n("FPMu"),i=function(){return function(e,t){Object(a.shouldRecordImplicitConsentToProcess)(t())&&e(Object(r.consentToProcess)());return Promise.resolve()}}},"6aYC":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("KXN9"),a=n("x1JE"),i=n("MBJP"),o=n("eEyY"),s=n("goEE"),c=n("a/jS"),u=Object(i.a)([c.a,o.getCurrentThreadId],function(e,t){var n=Object(a.getEntries)(e).map(r.a);return Object(s.getSortedMessagesByThreadId)(n,t)})},"6s0Z":function(e,t,n){"use strict";n.d(t,"a",function(){return r});n.d(t,"b",function(){return a});n.d(t,"c",function(){return i});var r="agent",a="default",i="visitor"},"6upE":function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}e.exports=n},"6xAP":function(e,t,n){"use strict";var r=n("eP/i"),a=n("QYOI"),i=n("rkqN"),o=Object(a.Record)({width:"auto",minHeight:36,borderColor:r.h,whiteSpace:"normal",lineHeight:"1rem",color:r.h},"QuickReplyTheme"),s=Object(a.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:r.l,borderColor:r.a,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:r.p,fileAttachmentTheme:Object(i.a)(),quickReplyTheme:o(),headerBackgroundColor:r.q,headerTextColor:r.p,avatarBackgroundColor:r.a,avatarBorderColor:r.a,avatarTextColor:r.p},"Theme");t.a=s},"7A+m":function(e,t,n){"use strict";var r=n("19qb"),a=n("8g7g"),i=n("V2EP"),o=n("jM00"),s=n("PYok"),c=n("7yF8"),u=n("MBJP"),l=n("Pda3"),d=n("M/2P"),p=Object(u.a)([d.getAsyncPubSubClient],l.isFailed),h=n("k09d"),f=n("AQmo"),b=n("V0XL"),m=n("JoPj"),g=n("byjC"),j=n("ZAuv"),v=n("w1Zi"),O=n("84LK"),x=n("piVz"),y=n("80AS"),C=n("jRRu"),w=n("wD2U"),A=n("vwA6"),k=n("gALC"),T=n("DY0p"),I=n("NpZo"),E=n("JGJA"),R=function(e){return Object(E.a)("messageEditorStaging",e)},S=n("MJM1"),F=n("w1qe"),M=function(e,t){return Object(S.a)([e,F.a],t)},P=Object(u.a)(I.getSelectedThreadId,R,function(e,t){return M(e,t)}),B=n("Ut5p"),D=n("NID/"),N=Object(B.b)(D.E,function(e){return e}),_=Object(B.b)(D.x,function(e){return e}),q=function(e){return function(t,n){t(N({stagingText:e,threadId:Object(I.getSelectedThreadId)(n())}))}},L=function(){return function(e,t){e(_(Object(I.getSelectedThreadId)(t())))}},z=n("/gEt"),U=n("2gT5"),H=n("A+sO"),V=n("JWgK"),W=function(e){var t=Object(h.a)(e),n=!Object(y.a)(e,{thread:t})&&Object(g.a)(e,{thread:t}),r=Object(C.getIsBot)(e)&&Object(H.getIsWidgetInAwayMode)(e)&&!Object(U.isPersistedThread)(t);return{coloring:Object(f.a)(e),currentConversation:t,disablePublish:!Object(c.a)(e),disableTextInput:n||r,showQuickReplyPlaceholder:n,isOnFocus:Object(k.a)(e),stagedMessage:P(e),messagesPageUri:Object(b.getMessagesPageUri)(e),networkOffline:p(e),showingHsBranding:Object(m.a)(e),showInitialMessageBubble:Object(x.a)(e),stagedAttachments:Object(o.a)(e),mobile:Object(w.getIsMobile)(e),shouldHideAttachmentButton:Object(T.a)(e),shouldSendInputStagingEvent:Object(z.a)(),canUploadAttachments:Object(V.a)(e)}},Q={closeInitialMessageBubble:O.a,onRemoveAttachment:a.a,onSelectAttachmentFile:i.a,publishMessage:s.a,publishTypingMessage:j.a,toggleOnAndOffInputFocus:A.a,setMessageEditorStagingText:q,removeMessageEditorStagingText:L};t.a=Object(r.connect)(W,Q)(v.a)},"7j4v":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=3e3},"7yF8":function(e,t,n){"use strict";var r=n("MBJP"),a=n("Pda3"),i=n("kV9q"),o=n("M/2P"),s=n("JGJA"),c=n("KXN9"),u=n("x1JE"),l=n("7bjg"),d=Object(s.a)("subscriptions"),p=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientKey;return void 0===t?l.a:t},h=Object(r.a)([p,d],u.getEntry),f=(Object(r.a)([h],c.a),n("rjAk")),b=n("Ryja"),m=n("dHfq"),g=n("ZSXR");n.d(t,"a",function(){return j});var j=Object(r.a)([b.getAsyncStagedThread,o.getAsyncPubSubClient,f.hasPersistedThreads,h,m.a,g.a],function(e,t,n,r,o,s){return!Object(a.isStarted)(e)&&(!(!Object(a.isUninitialized)(e)||n)||!(!Object(a.isSucceeded)(o)&&!Object(a.isUninitialized)(o)||!Object(a.isSucceeded)(s)&&!Object(a.isUninitialized)(s))&&(!!(n&&Object(i.isClientReady)(t)&&Object(a.isSucceeded)(r))||!!(Object(a.isSucceeded)(e)&&Object(i.isClientReady)(t)&&Object(a.isSucceeded)(r))))})},"80AS":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("MBJP"),a=n("J4oD"),i=n("C3IS"),o=n("V+nC"),s=n("iPDb"),c=n("k8Ub"),u=n("kWFB"),l=Object(r.a)([a.historyDataForThread],function(e){if(!e||!Object(u.hasMessages)(e))return!0;var t=Object(s.a)(e).filter(function(e){return Object(i.b)(e)&&!Object(i.c)(e)||Object(o.a)(e)}).last();return Object(c.c)(t)})},"84zR":function(e,t,n){"use strict";n.r(t);n.d(t,"uploadAttachment",function(){return g});var r=n("fzi9"),a=n("A3yT"),i=n("Ux+X"),o=n("E6wg"),s=n("9P7L"),c=n("xAl4"),u=n("JIa2"),l=n("VXRw"),d=n("lnDz"),p=n("Zn4N"),h=n("gygH"),f=n("Wnz4"),b=n("kSDi"),m=n("R4/u"),g=function(e){var t=e.attachment,n=e.threadId;return function(e,g){var j=Date.now();e(Object(l.attachmentUploadStart)({attachment:t,threadId:n}));var v=Object(o.getSessionId)(g()),O=Object(a.getLocalId)(t),x=Object(a.getFile)(t),y=Object(u.createFormDataForAttachment)({file:x});return Object(s.fetchAttachmentUploadUrlClient)({sessionId:v,threadId:n}).then(function(t){var r=t.uploadUrl;return Object(c.uploadAttachmentClient)({formData:y,onProgress:function(t){var r=t.loaded,a=t.total;e(Object(h.handleAttachmentUploadProgress)({localId:O,threadId:n,loaded:r,total:a}))},uploadUrl:b.a+"/"+r})}).then(function(t){var a=Object(r.a)(t.objects,1)[0],o=Date.now();e(Object(d.attachmentUploadComplete)({localId:O,threadId:n,fileId:a.id,uploadedFile:a}));e(Object(m.a)());e(Object(i.trackInteraction)("attached-file",{action:"attached file","attachment-type":a.extension,"attachment-size-bytes":x.size,"upload-time-ms":o-j}))}).catch(function(t){if(t&&t.responseJSON&&t.responseJSON.message.includes("not allowed")){e(Object(f.attachmentError)(p.a,n));e(Object(i.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":"invalid file type"}))}else{e(Object(f.attachmentError)(p.c,n));e(Object(i.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":"upload error"}))}})}}},"8FuJ":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("Ebn+"),a=n("8HiZ"),i=n("G6fO"),o=n("MBJP"),s=Object(o.b)(function(e,t,n){var o=Object(r.agentTypeToSenderType)(Object(i.getAgentType)(e)||n);return new a.a({id:Object(i.getUserId)(e)||t,avatar:Object(i.getAvatar)(e),firstName:Object(i.getFirstName)(e),email:Object(i.getEmail)(e),lastName:Object(i.getLastName)(e),senderType:o})})},"8HiZ":function(e,t,n){"use strict";var r=n("QYOI"),a=Object(r.Record)({avatar:null,email:null,firstName:null,id:null,lastName:null,senderType:null},"Sender");t.a=a},"8M+t":function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("pGTB"),c=n("QgEn"),u=n("VfuR"),l=n.n(u),d=n("Ktcs"),p=n("9f1P"),h=n.n(p),f=n("eP/i"),b=n("0IL2"),m=n("mKxs"),g=n("evgc"),j=n("sl/w"),v=h.a.div.withConfig({displayName:"ProcessConsentPrompt__ConsentPromptWrapper",componentId:"s2qyig-0"})(["border-top:2px solid ",";"],f.f),O=h.a.div.withConfig({displayName:"ProcessConsentPrompt__AlertWrapper",componentId:"s2qyig-1"})(["margin:10px;"]),x=function(e){Object(s.a)(t,e);function t(){Object(r.a)(this,t);return Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}Object(a.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to process"})}},{key:"render",value:function(){var e=this.props,t=e.coloring,n=e.consentToProcess,r=e.consentToProcessError,a=e.consentToProcessMessage,i=e.dismissConsentToProcessError,o=e.showGdprConsentToProcessButton;return Object(c.jsx)(v,{children:r?Object(c.jsx)(O,{children:Object(c.jsx)(g.a,{title:Object(c.jsx)(j.a,{message:"conversations-visitor-ui.network.offline.title"}),onClose:i})}):Object(c.jsx)(b.a,{showButton:o,message:a,onClick:n,coloring:t})})}}]);return t}(d.Component);x.displayName="ProcessConsentPrompt";x.propTypes={coloring:Object(m.a)("ColoringRecord"),consentToProcess:l.a.func,consentToProcessError:l.a.bool,consentToProcessMessage:l.a.string,dismissConsentToProcessError:l.a.func,showGdprConsentToProcessButton:l.a.bool,trackInteraction:l.a.func};t.a=x},"8cLO":function(e,t,n){"use strict";n.r(t);n.d(t,"gdprExplicitConsentRequired",function(){return o});var r=n("DdHT"),a=n("ZqFO"),i=n("VvTX"),o=Object(r.a)(a.f,i.getGdprExplicitConsentRequired)},"8f3s":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("A3yT"),a=n("xYYH"),i=n("p3n+"),o=function(e){if(!e)return null;var t=e.filter(a.isUploadCompleted).map(r.getFileId);return t.size?Object(i.a)({fileIds:t}):null}},"8g7g":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("A3yT"),a=n("Ux+X"),i=n("BnUr"),o=n("jVj2"),s=function(e){var t=e.attachment,n=e.thread;return function(e){var s=Object(i.getThreadId)(n),c=Object(r.getLocalId)(t);e(Object(o.removeAttachment)({localId:c,threadId:s}));e(Object(a.trackInteraction)("remove-staged-attachment",{action:"remove staged attachment"}))}}},"90r9":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("dIvY"),a=n("CdQ/"),i=n("Ux+X");function o(){return function(e){Object(r.handleStoreMessagesCookie)(Object(a.getMessagesUtk)());e(Object(i.trackInteraction)("widget-interaction",{action:"clicked consent to cookies button"}))}}},"9C7g":function(e,t,n){"use strict";var r=n("QYOI"),a="<<anonymous>>",i={listOf:d,mapOf:h,orderedMapOf:f,setOf:b,orderedSetOf:m,stackOf:g,iterableOf:j,recordOf:v,shape:x,contains:x,mapContains:y,list:c("List",r.List.isList),map:c("Map",r.Map.isMap),orderedMap:c("OrderedMap",r.OrderedMap.isOrderedMap),set:c("Set",r.Set.isSet),orderedSet:c("OrderedSet",r.OrderedSet.isOrderedSet),stack:c("Stack",r.Stack.isStack),seq:c("Seq",r.Seq.isSeq),record:c("Record",function(e){return e instanceof r.Record}),iterable:c("Iterable",r.Iterable.isIterable)};function o(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof r.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function s(e){function t(t,n,r,i,o,s){for(var c=arguments.length,u=Array(c>6?c-6:0),l=6;l<c;l++)u[l-6]=arguments[l];s=s||r;i=i||a;return null!=n[r]?e.apply(void 0,[n,r,i,o,s].concat(u)):t?new Error("Required "+o+" `"+s+"` was not specified in `"+i+"`."):void 0}var n=t.bind(null,!1);n.isRequired=t.bind(null,!0);return n}function c(e,t){function n(n,r,a,i,s){var c=n[r];if(!t(c)){var u=o(c);return new Error("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+a+"`, expected `"+e+"`.")}return null}return s(n)}function u(e,t,n){function r(r,a,i,s,c){for(var u=arguments.length,l=Array(u>5?u-5:0),d=5;d<u;d++)l[d-5]=arguments[d];var p=r[a];if(!n(p)){var h=s,f=o(p);return new Error("Invalid "+h+" `"+c+"` of type `"+f+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+c+"`, expected a function.");for(var b=p.toArray(),m=0,g=b.length;m<g;m++){var j=e.apply(void 0,[b,m,i,s,c+"["+m+"]"].concat(l));if(j instanceof Error)return j}}return s(r)}function l(e){function t(t,n,r,a,i){for(var o=arguments.length,s=Array(o>5?o-5:0),c=5;c<o;c++)s[c-5]=arguments[c];var u=t[n];if("function"!=typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+r+"` for propType `"+i+"`, expected a function.");for(var l=u.keySeq().toArray(),d=0,p=l.length;d<p;d++){var h=e.apply(void 0,[l,d,r,a,i+" -> key("+l[d]+")"].concat(s));if(h instanceof Error)return h}}return s(t)}function d(e){return u(e,"List",r.List.isList)}function p(e,t,n,r){function a(){for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return u(e,n,r).apply(void 0,i)||t&&l(t).apply(void 0,i)}return s(a)}function h(e,t){return p(e,t,"Map",r.Map.isMap)}function f(e,t){return p(e,t,"OrderedMap",r.OrderedMap.isOrderedMap)}function b(e){return u(e,"Set",r.Set.isSet)}function m(e){return u(e,"OrderedSet",r.OrderedSet.isOrderedSet)}function g(e){return u(e,"Stack",r.Stack.isStack)}function j(e){return u(e,"Iterable",r.Iterable.isIterable)}function v(e){function t(t,n,a,i,s){for(var c=arguments.length,u=Array(c>5?c-5:0),l=5;l<c;l++)u[l-5]=arguments[l];var d=t[n];if(!(d instanceof r.Record)){var p=o(d);return new Error("Invalid "+i+" `"+s+"` of type `"+p+"` supplied to `"+a+"`, expected an Immutable.js Record.")}for(var h in e){var f=e[h];if(f){var b=d.toObject(),m=f.apply(void 0,[b,h,a,i,s+"."+h].concat(u));if(m)return m}}}return s(t)}function O(e){var t=void 0===arguments[1]?"Iterable":arguments[1],n=void 0===arguments[2]?r.Iterable.isIterable:arguments[2];function a(r,a,i,s,c){for(var u=arguments.length,l=Array(u>5?u-5:0),d=5;d<u;d++)l[d-5]=arguments[d];var p=r[a];if(!n(p)){var h=o(p);return new Error("Invalid "+s+" `"+c+"` of type `"+h+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}var f=p.toObject();for(var b in e){var m=e[b];if(m){var g=m.apply(void 0,[f,b,i,s,c+"."+b].concat(l));if(g)return g}}}return s(a)}function x(e){return O(e)}function y(e){return O(e,"Map",r.Map.isMap)}e.exports=i},"9P7L":function(e,t,n){"use strict";n.r(t);n.d(t,"fetchAttachmentUploadUrlClient",function(){return i});var r=n("VYoM"),a="livechat-public/v1/attachment/upload-url",i=function(e){var t=e.sessionId,n=e.threadId;return r.a.get(a,{query:{sessionId:t,threadId:n}})}},"9n7a":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("JGJA"),a=Object(r.a)("resolvedAttachments")},"A+8x":function(e,t,n){"use strict";var r=n("MBJP"),a=n("647q"),i=n("4Brc"),o=n("TA7Z"),s=n("X9Pk"),c=n("2BFa"),u=n("JGJA"),l=Object(u.a)("cookieBannerOnExitVisible");n.d(t,"a",function(){return d});var d=Object(r.a)([a.getLatestWidgetData,i.a,s.getAPIEnableWidgetCookieBanner,l],function(e,t,n,r){var a=Object(c.gdprCookieConsentOnWidgetLoadEnabled)(e);return!(!(n||a)&&!r)&&Object(o.a)(t)})},AEyM:function(e,t,n){"use strict";n.r(t);n.d(t,"sendVisitorEmailAddressRequested",function(){return h});n.d(t,"sendVisitorEmailAddressFailed",function(){return f});n.d(t,"sendVisitorEmailAddressSucceeded",function(){return b});n.d(t,"sendVisitorEmailAddress",function(){return m});var r=n("Ut5p"),a=n("E6wg"),i=n("NID/"),o=n("sIRh"),s=n("z96q"),c=n("3OTY"),u=n("Ux+X"),l=n("c2PF"),d=n("081M"),p=n("BnUr"),h=Object(r.b)(i.y,function(e){return{email:e}}),f=Object(r.b)(i.z,function(e){return{error:e}}),b=Object(r.b)(i.A,function(e){return{email:e}});function m(e){var t=e.consentToCommunicate,n=void 0!==t&&t,r=e.email,i=e.threadId;return function(e,t){e(h(r));var m=Object(l.getThreadByThreadId)(t(),{threadId:i}),g=Object(p.getChannelName)(m),j=Object(a.getSessionId)(t()),v=Object(d.getHubspotUtk)(),O=function(){e(b(r));e(Object(o.default)({channel:g,email:r,threadId:i}));n&&e(Object(c.d)(n));e(Object(u.trackInteraction)("widget-interaction",{action:"submit email"}));return{error:null}},x=function(t){e(f(t));return{error:t}};return s.sendVisitorEmailAddress({threadId:i,email:r,sessionId:j,hubspotUtk:v}).then(O,x)}}},AgZ1:function(e,t,n){"use strict";n.d(t,"b",function(){return i});n.d(t,"a",function(){return o});n.d(t,"c",function(){return u});var r=n("PTMU"),a="gmail_quote",i=["gmail_extra",a,"hs_reply","x_hs_reply_wrap"],o="divRplyFwdMsg",s=function(e){return e.querySelector("div[dir]")},c=function(e,t){return t===o||e&&e.contains&&i.some(function(t){return e.contains(t)})},u=function(e){var t=e.node,n=t.classList,i=t.id,o=t.attributes,u=void 0===o?[]:o;if(c(n,i)){if(n.contains(a)&&!s(t))return null;var l=r.b.createElement("span");Object.keys(u).forEach(function(e){var t=u[e];l.setAttribute(t.nodeName,t.nodeValue)});l.innerHTML="";l.setAttribute("data-email-reply","");return{node:l}}return null}},Apky:function(e,t,n){"use strict";n.r(t);var r=n("p9k8"),a=n("19qb"),i=n("MBJP"),o=n("LgEy"),s=n("647q"),c=Object(i.a)([s.getLatestWidgetData],function(e){return Object(o.gdprConsentToProcessEnabled)(e)}),u=n("A+8x"),l=n("lOT2"),d=n("k09d"),p=n("JoPj"),h=n("Wzl7"),f=n("zB5l"),b=n("vwA6"),m=n("V2EP"),g=n("3gKe");n.d(t,"WEBPACK_3_FORCE_MODULE_IMPORT",function(){return O});var j=function(e){return{shouldShowMeetingsLink:Object(f.a)(e),isThreadStarted:Object(r.a)(Object(d.a)(e)),requiresExplicitConsentToProcess:Object(l.a)(e),showingGdprProcess:c(e)&&!Object(g.a)(e),renderCookieConsentPrompt:Object(u.a)(e),showingHsBranding:Object(p.a)(e)}},v={toggleOnAndOffInputFocus:b.a,selectAttachmentFile:m.a},O=(t.default=Object(a.connect)(j,v)(h.a),1)},BB3q:function(e,t,n){var r=n("QhUm");function a(e,t){var n=r(this,e),a=n.size;n.set(e,t);this.size+=n.size==a?0:1;return this}e.exports=a},BPoD:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=["background-image","bottom","clear","float","left","opacity","position","right","top","visibility","white-space","z-index"],a=function(e){var t=e.node;if(t&&t.style&&t.style.length>0&&t.style.removeProperty){"0px"===t.style.fontSize&&t.style.setProperty("font-size","14px");"0"===t.style.lineHeight&&t.style.setProperty("line-height",1);"transparent"===t.style.color&&t.style.removeProperty("color");r.forEach(function(e){return t.style.removeProperty(e)});return{node:t}}return null}},"BW+T":function(e,t,n){var r=n("d1Q1"),a="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);n.cache=i.set(a,o)||i;return o};n.cache=new(i.Cache||r);return n}i.Cache=r;e.exports=i},BYz9:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("WdXK"),a=n("MeE7"),i=function(e){return Object(r.buildSenderLocator)(Object(a.getType)(e),Object(a.getId)(e))}},CPwH:function(e,t,n){"use strict";n.r(t);n.d(t,"getFileName",function(){return i});var r=n("JGJA"),a=n("A3yT"),i=function(e){var t=Object(a.getFile)(e);return Object(r.a)("name",t)||""}},CnAB:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r,a=n("OwGx"),i=n("eP/i"),o=n("Ktcs"),s=n("6s0Z"),c=n("iDVC"),u=(r={},Object(a.a)(r,s.b,Object(c.a)()),Object(a.a)(r,s.a,Object(c.a)()),Object(a.a)(r,s.c,Object(c.a)({backgroundColor:i.c,borderColor:i.d,alignment:"flex-end"})),r),l=Object(o.createContext)(u);t.a=l},DOHQ:function(e,t,n){var r=n("8i16")["__core-js_shared__"];e.exports=r},DY0p:function(e,t,n){"use strict";var r=n("MBJP"),a=n("MJM1"),i=Object(a.a)(["isAttachmentDisabled"]),o=n("QnHA");n.d(t,"a",function(){return s});var s=Object(r.a)([o.a],function(e){return i(e)})},EzJv:function(e,t,n){var r=n("RLxx"),a=n("ccWV"),i=n("Uz5A"),o=n("mMAp"),s=n("IrnW");function c(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r;c.prototype.delete=a;c.prototype.get=i;c.prototype.has=o;c.prototype.set=s;e.exports=c},"FC+o":function(e,t,n){"use strict";n.d(t,"b",function(){return r});n.d(t,"e",function(){return a});n.d(t,"a",function(){return i});n.d(t,"d",function(){return o});n.d(t,"c",function(){return s});var r="NETWORK_OFFLINE",a="THREAD_HISTORY_FAILED",i="CREATE_NEW_THREAD_FAILED",o="SUBSCRIPTIONS_FAILED",s="PUBSUB_FAILED"},FJf1:function(e,t,n){"use strict";n.r(t);n.d(t,"trackSendMessage",function(){return a});var r=n("Ux+X"),a=function(e){var t=e.threadId;return function(e){var n={};"number"==typeof t&&(n.threadId=t);e(Object(r.trackInteraction)("send-message",n))}}},FPMu:function(e,t,n){"use strict";n.r(t);n.d(t,"shouldRecordImplicitConsentToProcess",function(){return c});var r=n("MBJP"),a=n("LgEy"),i=n("8cLO"),o=n("647q"),s=n("3gKe"),c=Object(r.a)([o.getLatestWidgetData,s.a],function(e,t){return Object(a.gdprConsentToProcessEnabled)(e)&&!Object(i.gdprExplicitConsentRequired)(e)&&!t})},GkNN:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("MBJP"),a=n("JGJA"),i=n("xePV"),o=n("BnUr"),s=n("BMD5"),c=Object(r.a)([i.a,s.a],function(e,t){var n=Object(o.getThreadId)(t);return Object(a.a)(n,e)||null})},GzqH:function(e,t,n){"use strict";n.d(t,"b",function(){return r});n.d(t,"a",function(){return a});var r="@type",a="DATE_MESSAGE"},IqZ3:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("Ut5p"),a=n("FDs6"),i=Object(r.b)(a.e,function(e){return{threadId:e}})},IrnW:function(e,t,n){var r=n("LPlp");function a(e,t){var n=this.__data__,a=r(n,e);if(a<0){++this.size;n.push([e,t])}else n[a][1]=t;return this}e.exports=a},Isoj:function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("pGTB"),c=n("QgEn"),u=n("19qb"),l=n("VfuR"),d=n.n(l),p=n("E7sj"),h=n.n(p),f=n("Ktcs"),b=n("fzi9"),m=n("9f1P"),g=n.n(m),j=n("VdXU"),v=n("sl/w"),O=n("qCVG"),x=n("gFbD"),y=n("A2+2"),C=n("Kcjm"),w=n("fzij"),A=g.a.div.withConfig({displayName:"ConsentModal__ConsentModalContainer",componentId:"m6hzja-0"})(["position:absolute;display:flex;align-items:flex-start;justify-content:center;height:calc(100% - ","px);top:","px;width:100%;background-color:rgba(45,62,80,0.79);backdrop-filter:blur(2px);padding-top:20%;border-bottom-left-radius:","px;border-bottom-right-radius:","px;overflow-y:hidden;"],C.d,C.d,y.a,y.a),k=g.a.div.withConfig({displayName:"ConsentModal__ContentContainer",componentId:"m6hzja-1"})(["display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:12px 24px;background-color:white;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,0.75);margin:0 20px;"]),T=g()(w.a).withConfig({displayName:"ConsentModal__SmallNoParagraphPadding",componentId:"m6hzja-2"})(["display:block;word-break:break-word;word-wrap:break-word;-ms-word-break:break-all;p{margin-bottom:0;}"]),I=g()(j.a).withConfig({displayName:"ConsentModal__FullWidthButton",componentId:"m6hzja-3"})(["padding:9px 16px;flex:0 1 100%;&:not(:first-child){margin-left:8px;}"]),E=g.a.div.withConfig({displayName:"ConsentModal__ButtonsContainer",componentId:"m6hzja-4"})(["display:flex;flex-direction:row;margin:12px 0 0 0;width:100%;"]),R=g.a.p.withConfig({displayName:"ConsentModal__Header",componentId:"m6hzja-5"})(["text-transform:none;font-size:18px;font-weight:500;margin-top:18px;margin-bottom:12px;line-height:normal;"]),S=function(e){var t=e.headerMessage,n=e.message,r=e.onClick,a=e.onDeclineClick,i=Object(f.useState)({isEntering:!0,shouldRender:!0,callback:function(){}}),o=Object(b.a)(i,2),s=o[0],u=o[1],l=function(){if(!s.isEntering){s.callback();u(Object.assign({},s,{shouldRender:!1}))}},d=function(e){u(Object.assign({},s,{isEntering:!1,callback:e}))};return s.shouldRender?Object(c.jsx)(A,{style:{animation:(s.isEntering?"consent-modal-background-fadeIn":"consent-modal-background-fadeOut")+" .3s"},"data-test-id":"gdpr-consent-prompt-container",onAnimationEnd:l,children:Object(c.jsx)(x.a,{children:function(e){return Object(c.jsxs)(k,{"data-test-id":"gdpr-consent-prompt",style:{animation:(s.isEntering?"consent-modal-content-fadeIn":"consent-modal-content-fadeOut")+" .3s"},children:[t&&Object(c.jsx)(R,{children:t}),Object(c.jsx)(T,{use:"help","data-test-id":"gdpr-consent-text",dangerouslySetInnerHTML:{__html:Object(O.a)(n)}}),Object(c.jsxs)(E,{children:[Object(c.jsx)(I,{onClick:function(){d(r)},"data-test-id":"gdpr-consent-agree-button",use:"primary",children:Object(c.jsx)(v.a,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})}),Object(c.jsx)(I,{onClick:function(){d(a)},"data-test-id":"gdpr-consent-dismiss-button",children:Object(c.jsx)(v.a,{message:"conversations-visitor-experience-components.buttons.disagree",options:{locale:e}})})]})]},"consent-modal-content-container")}})},Math.random+"-consent-modal-container"):null};S.defaultProps={animationTimeMs:300,onClick:function(){},onDeclineClick:function(){}};S.propTypes={headerMessage:d.a.node,message:d.a.string.isRequired,onClick:d.a.func.isRequired,onDeclineClick:d.a.func.isRequired};S.displayName="ConsentModal";var F=S,M=n("0IL2"),P=n("Ux+X"),B=n("90r9"),D=n("iatO"),N=n("2BFa"),_=n("VTHq");function q(){return function(e,t){(Object(N.gdprCookieConsentOnExitIntentEnabled)(t())||Object(_.getAPIEnableWidgetCookieBannerOnExitIntent)(t()))&&e(Object(D.a)(!1));e(Object(P.trackInteraction)("widget-interaction",{action:"clicked decline cookies button"}))}}var L=n("AQmo"),z=n("mKxs"),U=n("647q"),H=n("X9Pk"),V=function(e){Object(s.a)(t,e);function t(){Object(r.a)(this,t);return Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}Object(a.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to cookies"})}},{key:"render",value:function(){var e=this;return Object(c.jsx)(x.a,{children:function(t){return e.props.isExitIntentPrompt?Object(c.jsx)(F,{headerMessage:Object(c.jsx)(v.a,{message:"conversations-visitor-ui.gdpr.consentToCookies.promptHeader",options:{locale:t}}),message:h.a.text("conversations-visitor-ui.gdpr.consentToCookies.exitIntentCookieConsent",{locale:t}),onDeclineClick:e.props.declineCookies,onClick:e.props.consentToCookies,coloring:e.props.coloring}):Object(c.jsx)(M.a,{message:h.a.text("conversations-visitor-ui.gdpr.consentToCookies.pageLoadCookieConsent",{locale:t}),onDeclineClick:e.props.declineCookies,onClick:e.props.consentToCookies,coloring:e.props.coloring,showButton:!0})}})}}]);return t}(f.Component);V.displayName="CookieConsentPrompt";V.propTypes={coloring:Object(z.a)("ColoringRecord"),consentToCookies:d.a.func.isRequired,declineCookies:d.a.func.isRequired,isExitIntentPrompt:d.a.bool.isRequired,trackInteraction:d.a.func.isRequired};var W={consentToCookies:B.a,declineCookies:q,trackInteraction:P.trackInteraction},Q=function(e){return{coloring:Object(L.a)(e),widgetData:Object(U.getLatestWidgetData)(e),isExitIntentPrompt:Object(N.gdprCookieConsentOnExitIntentEnabled)(e)&&!Object(H.getAPIEnableWidgetCookieBanner)(e)}};t.a=Object(u.connect)(Q,W)(V)},JIa2:function(e,t,n){"use strict";n.r(t);n.d(t,"createFormDataForAttachment",function(){return r});var r=function(e){var t=e.file,n=new FormData;n.append("file",t);return n}},JWgK:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("MBJP"),a=n("jM00"),i=n("byjC"),o=Object(r.a)([i.a,a.a],function(e,t){return!e&&(!t||!t.size)})},JoPj:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("JGJA"),a=n("MBJP"),i=n("647q"),o=Object(a.a)(i.getLatestWidgetData,Object(r.a)("showingHsBranding"))},KLi6:function(e,t,n){var r=n("uQvf"),a="__lodash_hash_undefined__";function i(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=r&&void 0===t?a:t;return this}e.exports=i},KSjU:function(e,t,n){"use strict";var r=n("MJM1");t.a=Object(r.a)(["meetingsLinkUrl"])},KziI:function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("pGTB"),c=n("QgEn"),u=n("E7sj"),l=n.n(u),d=n("sl/w"),p=n("VfuR"),h=n.n(p),f=n("Ktcs"),b=n("r1tY"),m=n.n(b),g=n("9f1P"),j=n.n(g),v=n("A5YI"),O=n("fzi9"),x=n("fFSu"),y=["left","right"],C=["top","bottom"],w=y.concat(C).concat(["left top","left bottom","right top","right bottom","top left","top right","bottom left","bottom right","top center","bottom center","left middle","right middle"]);function A(e){return e.split(" ")[0]}function k(e){return y.includes(e)}function T(e){var t=e.split(" ")[1];return t||(k(A(e))?"middle":"center")}var I=16,E=8,R=function(e){switch(A(e.placement)){case"top":return Object(g.css)(["transform:rotate(45deg);top:-","px;"],I+5);case"right":return Object(g.css)(["transform:rotate(135deg);right:-","px;"],I+5);case"bottom":return Object(g.css)(["transform:rotate(-135deg);bottom:-","px;"],I+5);case"left":return Object(g.css)(["transform:rotate(-45deg);left:-","px;"],I+5);default:return""}},S=function(e){switch(T(e.placement)){case"top":return Object(g.css)(["top:","px;"],E);case"middle":return Object(g.css)(["top:calc(50% - ","px);"],I/2);case"bottom":return Object(g.css)(["bottom:","px;"],E);case"left":return Object(g.css)(["left:","px;"],E);case"center":return Object(g.css)(["left:calc(50% - ","px);"],I/2);case"right":return Object(g.css)(["right:","px;"],E);default:return""}},F=function(e){var t=e.placement;return Object(g.css)(["",";",";"],R({placement:t}),S({placement:t}))},M=n("PrNr"),P="#425b76",B=function(){return P},D=function(){return M.l},N=j.a.div.withConfig({displayName:"VizExTooltipArrow",componentId:"sc-1bnqxrd-0"})(["position:absolute;pointer-events:none;border:none;clip-path:polygon(100% 100%,0 100%,100% 0);border-top-left-radius:100%;border-radius:3px;border-top-color:transparent !important;border-left-color:transparent !important;border-bottom-right-radius:3px;width:16px;height:16px;background-color:",";",""],function(e){var t=e.theme;return B(t)},F),_=16,q=function(e){switch(T(e.placement)){case"top":return Object(g.css)(["top:0;"]);case"bottom":return Object(g.css)(["bottom:0;"]);case"left":return Object(g.css)(["left:0;"]);case"right":return Object(g.css)(["right:0;"]);default:return""}},L=function(e){switch(A(e.placement)){case"top":return Object(g.css)(["transform:translateY(-100%);top:-","px;"],_-5);case"right":return Object(g.css)(["transform:translateX(100%);right:-","px;"],_-5);case"bottom":return Object(g.css)(["transform:translateY(100%);bottom:-","px;"],_-5);case"left":return Object(g.css)(["transform:translateX(-100%);left:-","px;"],_-5);default:return""}},z=function(e){switch(e.placement){case"top center":case"top middle":return Object(g.css)(["transform:translate(-50%,-100%);left:50%;"]);case"bottom middle":case"bottom center":return Object(g.css)(["transform:translate(-50%,100%);left:50%;"]);case"left center":case"left middle":return Object(g.css)(["transform:translate(-100%,-50%);top:50%;"]);case"right center":case"right middle":return Object(g.css)(["transform:translate(100%,-50%);top:50%;"]);default:return""}},U=function(e){var t=e.placement;return Object(g.css)(["",";",";",""],L({placement:t}),q({placement:t}),z({placement:t}))},H=j.a.div.withConfig({displayName:"VizExTooltipBody",componentId:"sc-1pso6ua-0"})(["border-radius:3px;font-size:13px;max-width:232px;display:block;position:absolute;visibility:visible;box-shadow:0 3px 8px rgba(0,0,0,0.1);line-height:1.5;padding:10px 16px;text-decoration:none;word-wrap:break-word;",";white-space:nowrap;background-color:",";color:",";pointer-events:",";"],U,function(e){var t=e.theme;return B(t)},function(e){var t=e.theme;return D(t)},function(e){return e.open?"all":"none"}),V=n("NrIs"),W=n("L0DB"),Q=j.a.div.withConfig({displayName:"VizExTooltip__Popover",componentId:"aff9hw-0"})(["transition-property:",";transition-duration:","ms;opacity:",";transform:",";position:absolute;pointer-events:none;width:100%;height:100%;"],function(e){return e.transitioning?"opacity ease-out, transform ease-out":"none"},function(e){return e.duration},function(e){return e.open?"1":"0"},function(e){var t=e.open,n=e.transitioning;return t&&!n?"none":t?"scale(1)":"scale(.75)"}),G=j.a.div.withConfig({displayName:"VizExTooltip__PopoverWrapper",componentId:"aff9hw-1"})(["display:inline-block;position:relative;"]),Y=function(e){var t=e.content,n=e.backgroundColor,r=e.textColor,a=e.placement,i=e.children,o=e.theme,s=e.onOpenChange,u=e.open,l=Object(x.a)(e,["content","backgroundColor","textColor","placement","children","theme","onOpenChange","open"]),d=Object(f.useState)(!1),p=Object(O.a)(d,2),h=p[0],b=p[1];if(!t)return i;var m="boolean"==typeof u,g=function(){if(!m){Object(W.a)(s,!0);b(!0)}},j=function(){if(!m){Object(W.a)(s,!1);b(!1)}},v=m?u:h;return Object(c.jsxs)(G,Object.assign({},l,{onMouseEnter:g,onMouseLeave:j,children:[Object(c.jsxs)(Q,{open:v,duration:250,transitioning:!0,children:[Object(c.jsx)(H,{textColor:r,backgroundColor:n,placement:a,open:v,theme:o,"data-test-open":v,children:t}),Object(c.jsx)(N,{backgroundColor:n,placement:a,theme:o})]}),i]}))};Y.propTypes={backgroundColor:h.a.string,children:h.a.node,content:h.a.node,onOpenChange:h.a.func,open:h.a.bool,placement:h.a.oneOf(w),textColor:h.a.string,theme:V.a};Y.displayName="VizExTooltip";Y.defaultProps={placement:"top right"};var J=Y,K=n("7LhL"),Z=n("2YOq"),X=j.a.input.withConfig({displayName:"AttachmentPickerButton__HiddenInput",componentId:"sc-1q5rf25-0"})(["display:none;"]),$=function(e){Object(s.a)(t,e);function t(e){var n;Object(r.a)(this,t);(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).inputRefCallback=function(e){n.inputRef=e};n.findInputNode=function(){return n.inputRef?m.a.findDOMNode(n.inputRef):null};n.clearInputNode=function(){var e=n.findInputNode();e&&(e.value="")};n.handlePickerClick=function(e){var t=n.findInputNode();t&&t.click();n.props.onClick(e)};n.onInputChange=function(e){var t=e.target.files;n.props.onSelectFiles({files:t});n.clearInputNode()};n.renderMaxFileSizeTooltip=function(){if(!n.props.mobile)return Object(c.jsx)(d.a,{message:"conversations-visitor-ui.fileSizeLimit",options:{size:l.a.formatSize(n.props.maxAttachmentFileSize)}})};n.inputRef=null;return n}Object(a.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return Object(c.jsxs)(f.Fragment,{children:[Object(c.jsx)(J,{content:this.renderMaxFileSizeTooltip(),placement:"top center",children:Object(c.jsx)(v.a,{disabled:e,onClick:this.handlePickerClick,use:"transparent-on-background","aria-label":l.a.text("conversations-visitor-ui.visitorExperienceAriaLabels.attachment"),shape:"circle",children:Object(c.jsx)(K.a,{icon:Object(c.jsx)(Z.a,{})})})}),Object(c.jsx)(X,{accept:this.props.accept.join(","),"data-selenium-test":"visitor-attachment-file-input",disabled:this.props.disabled,ref:this.inputRefCallback,type:"file",multiple:this.props.allowMultiple,onChange:this.onInputChange})]})}}]);return t}(f.PureComponent);$.displayName="AttachmentPickerButton";$.propTypes={accept:h.a.arrayOf(h.a.string).isRequired,allowMultiple:h.a.bool.isRequired,disabled:h.a.bool,maxAttachmentFileSize:h.a.number.isRequired,mobile:h.a.bool,onClick:h.a.func,onSelectFiles:h.a.func.isRequired};$.defaultProps={accept:[],allowMultiple:!1,onClick:function(){}};t.a=$},L0DB:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];"function"==typeof e&&e.apply(void 0,n)}},LPlp:function(e,t,n){var r=n("+a0K");function a(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}e.exports=a},LdnN:function(e,t,n){"use strict";var r=n("EuUD"),a="\\.",i='\\s\\?\\#\\/\\(\\)\\=\\:\\;\\@\\\\"'+a,o="(?:www"+a+")",s="(?:[%a-zA-Z0-9_-]+)",c="(?:(?:\\.[%a-zA-Z0-9-]+)[^\\.\\s])",u="\\s\\?\\#\\&",l=new RegExp("^(?:.+)@"+{www:o,domain:o+"?(?:(?:[^"+i+"]+)"+a+")+(?:[^"+i+"]+)",protocol:"(?:(?:https?:)?\\/\\/)",protocolRequired:"(?:https?:\\/\\/)",path:"(?:(?:\\/[^\\s\\/\\#\\&\\?]*)+\\/?)",wildcardPath:"(?:(/(?:[%a-zA-Z0-9_-])*?)*(?:/[\\*]))",file:""+s+c,fileName:s,fileExtension:c,search:"(?:([\\?&#][^"+u+"]*?=?([^"+u+"]*))+)",ungroupedSearch:"(?:(?:[\\?&#][^"+u+"]*?=?(?:[^"+u+"]*))+)"}.domain+"$");t.a=Object(r.a)({name:"EmailAddress",validator:function(e){return l.test(e)}})},LxXo:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("PTMU"),a=function(e){var t=e.node;if("div"===e.node_name&&t&&t.classList&&t.classList.contains("gmail_default")){var n=r.b.createElement("span");Object.keys(t.attributes).forEach(function(e){var r=t.attributes[e];n.setAttribute(r.nodeName,r.nodeValue)});n.innerHTML=t.innerHTML.trim();return{node:n}}return null}},NUfg:function(e,t){e.exports="//static.hsappstatic.net/salesImages/static-1.418/messages/bot-avatar.svg"},OI0Z:function(e,t,n){"use strict";var r=n("fFSu"),a=n("QgEn"),i=n("VfuR"),o=n.n(i),s=n("yvRk"),c=n.n(s),u=n("E7sj"),l=n.n(u);t.a=c()({displayName:"FormattedSize",propTypes:{value:o.a.number.isRequired},render:function(){var e=this.props,t=e.value,n=Object(r.a)(e,["value"]);return Object(a.jsx)("span",{children:l.a.formatSize(t,n)})}})},OhTC:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("JGJA"),a=Object(r.a)("fileUploads")},OoDT:function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("UMxk"),c=n("pGTB"),u=n("QgEn"),l=n("VfuR"),d=n.n(l),p=n("Ktcs"),h=n("YM6t"),f=n("qjq5"),b=n("scKg");function m(e){if("number"==typeof e&&e>=0)return e;throw new Error("expected `interval` to be a positive number but got `"+e+"`")}function g(e,t){m(e);Object(b.a)(t);var n,r,a=0,i=null;function o(){if(null!==i){clearTimeout(i);i=null}}function s(){a=Date.now();r=t.apply(void 0,Object(h.a)(n))}function c(){for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];n=c;o();Date.now()-a>=e?s():i=setTimeout(s,e);return r}c.cancel=o;return c}var j=Object(f.a)(g),v=100,O=function(e){Object(c.a)(t,e);function t(e){var n;Object(r.a)(this,t);(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={inTop:!0,inBottom:!0,height:0,distanceToBottom:0,shouldKeepAtBottom:!0};n.scrollContainer=Object(p.createRef)();n.onResize=j(v,n.onResize.bind(Object(s.a)(n)));n.onScroll=j(v,n.onScroll.bind(Object(s.a)(n)));return n}Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.scrollContainer.current;if(e){this.setState({height:e.clientHeight});this.scrollToBottom()}window.addEventListener("resize",this.onResize,{passive:!0})}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this.scrollContainer.current;return e?{prevScrollTop:e.scrollTop}:null}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.scrollContainer.current;if(n&&r)if(this.state.shouldKeepAtBottom)this.scrollToBottom();else if(0!==this.state.distanceToBottom){var a=n.prevScrollTop;r.scrollTop===a&&t.height>this.state.height&&this.setScrollTop(r.scrollTop+(t.height-this.state.height))}else this.setState({shouldKeepAtBottom:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onScroll",value:function(){var e=this.props,t=e.onScrollToTop,n=e.onScrollFromBottom,r=e.onScrollToBottom,a=this.inThreshold(),i=a.inTop,o=a.inBottom;!this.state.inTop&&i&&t();!this.state.inBottom&&o&&r();this.state.inBottom&&!o&&n();var s=this.getScrollDistanceFromBottom();this.setState({inTop:i,inBottom:o,distanceToBottom:s,shouldKeepAtBottom:!1})}},{key:"inThreshold",value:function(){var e=this.props,t=e.topThreshold,n=e.bottomThreshold;return{inTop:this.getScrollDistanceFromTop()<=t,inBottom:this.getScrollDistanceFromBottom()<=n}}},{key:"getScrollDistanceFromTop",value:function(){var e=this.scrollContainer.current;return e?e.scrollTop:0}},{key:"getScrollDistanceFromBottom",value:function(){var e=this.scrollContainer.current;if(!e)return 0;var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight,a=e.offsetHeight;return n-(r||a)-t}},{key:"scrollToBottom",value:function(){var e=this.scrollContainer.current;e&&this.setScrollTop(e.scrollHeight);this.setState({shouldKeepAtBottom:!0})}},{key:"setScrollTop",value:function(e){var t=this.scrollContainer.current;t&&(t.scrollTop=e||0)}},{key:"onResize",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight||0})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return Object(u.jsx)("div",{className:n,style:{flexGrow:1},ref:this.scrollContainer,onScroll:this.onScroll,children:t})}}]);return t}(p.PureComponent);O.displayName="ScrollWrapper";O.propTypes={bottomThreshold:d.a.number.isRequired,children:d.a.node,className:d.a.string,onScrollFromBottom:d.a.func.isRequired,onScrollToBottom:d.a.func.isRequired,onScrollToTop:d.a.func.isRequired,topThreshold:d.a.number.isRequired};var x=function(){};O.defaultProps={bottomThreshold:300,onScrollFromBottom:x,onScrollToBottom:x,onScrollToTop:x,topThreshold:300};var y=O,C=n("2rNL"),w=function(e){return document.querySelector("["+C.a+'="'+e+'"]')},A=n("Gc2C"),k=function(e,t){var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;Object(A.a)(!!e.prototype[s],"Component missing required function %s",s)}}catch(e){r=!0;a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}},T=function(){var e=document.querySelector("["+C.a+"]:last-child");return e&&e.getAttribute?e.getAttribute(C.a):null},I=function(e){var t=T();if(!e||!t)return null;var n=w(t);if(!n)return null;var r=e.getScrollDistanceFromTop();return{lastMessageId:t,lastMessageOffsetTop:n.offsetTop,prevScrollTop:r}},E=300,R=function(){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alignment:"start"}).alignment,n=w(e);e&&n&&n.scrollIntoView&&n.scrollIntoView("start"===t)}},S=function(e){var t=e.scrollWrapperRef;return function(){var e=t.current;e&&e.scrollToBottom()}},F=function(e){var t=e.scrollWrapperRef;return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).threshold,n=void 0===e?E:e,r=t.current;r&&r.state&&(t.current.state.distanceToBottom<=n||r.getScrollDistanceFromBottom()<=n)&&r.scrollToBottom()}},M=function(e){var t=e.current;return{lastMessageId:t.lastMessageId,lastMessageOffsetTop:t.lastMessageOffsetTop,prevScrollTop:t.prevScrollTop}},P=function(e){k(e,["getScrollDistanceFromTop","getScrollDistanceFromBottom","setScrollTop","scrollToBottom"]);var t=Object(p.forwardRef)(function(e,t){var n=Object(p.useRef)(),r=Object(p.useRef)();t.current={scrollToMessage:R(),scrollToBottom:S({scrollWrapperRef:n}),scrollToBottomIfInThreshold:F({scrollWrapperRef:n})};var a=Object(p.useRef)(!0);Object(p.useLayoutEffect)(function(){var e=n.current;if(a.current){r.current=I(e);a.current=!1}else if(r.current){var t=M(r),i=t.lastMessageId,o=t.lastMessageOffsetTop,s=t.prevScrollTop;r.current=I(e);if(e.getScrollDistanceFromTop()===s){var c=w(i);if(c&&c.offsetTop){var u=c.offsetTop-o;u&&e.setScrollTop(e.getScrollDistanceFromTop()+u)}}}});return Object(u.jsx)(y,Object.assign({ref:n},e))});t.displayName="WithScrollTo";return t},B=n("mKxs"),D=n("021p"),N=n("kWFB"),_=n("9f1P"),q=n.n(_),L=n("DgSg"),z=n("t6nY"),U=n.n(z),H=n("Xcjc"),V=n("R1eS"),W=q()(L.a).withConfig({displayName:"ThreadHistoryFetcher__LoadingSpinnerWrapper",componentId:"mpap2q-0"})(["height:0;margin-top:20px;"]),Q=q()(P(y)).withConfig({displayName:"ThreadHistoryFetcher__ScrollToWrapper",componentId:"mpap2q-1"})(["flex:1 1;display:flex;flex-direction:column;padding-bottom:12px;align-self:stretch;overflow-y:scroll;overflow-x:hidden;"]),G=function(e){Object(c.a)(t,e);function t(e){var n;Object(r.a)(this,t);(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).scrollWrapper=Object(p.createRef)();n.fetchHistory=n.fetchHistory.bind(Object(s.a)(n));return n}Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.scrollWrapper.current;e&&e.scrollToBottom();this.fetchHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.threadId,r=t.messageCount,a=t.shouldScrollToBottom,i=t.isOnFocus,o=e.threadId,s=e.messageCount,c=e.shouldScrollToBottom,u=e.isOnFocus,l=this.scrollWrapper.current;if(n===o)if(s){r!==s&&l&&l.scrollToBottomIfInThreshold();a!==c&&l&&l.scrollToBottomIfInThreshold();i!==u&&l&&l.scrollToBottomIfInThreshold()}else l&&l.scrollToBottom();else{this.fetchHistory();l&&l.scrollToBottom()}}},{key:"fetchHistory",value:function(){var e=this.props,t=e.fetchThreadHistory,n=e.threadId,r=e.threadHistory,a=e.sessionId;n!==H.a&&t({offsetOrdinal:Object(D.c)(r),offsetTimestamp:Object(D.d)(r),threadId:n,sessionId:a})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isLoadingHistory,r=e.loadingHistoryFailed,a=e.threadId,i=e.threadHistory;if(n&&!Object(N.hasMessages)(i))return Object(u.jsx)(L.a,{grow:!0});if(r&&!Object(N.hasMessages)(i))return Object(u.jsx)(V.a,{});var o=U()(this.props.className,"messages-scroll-container-utv");return Object(u.jsxs)(Q,{className:o,ref:this.scrollWrapper,onScrollToTop:this.fetchHistory,children:[n&&Object(u.jsx)(W,{grow:!0}),t]},a)}}]);return t}(p.PureComponent);G.propTypes={children:d.a.node.isRequired,className:d.a.string,fetchThreadHistory:d.a.func.isRequired,isLoadingHistory:d.a.bool,isOnFocus:d.a.bool.isRequired,loadingHistoryFailed:d.a.bool,messageCount:d.a.number.isRequired,sessionId:d.a.string.isRequired,shouldScrollToBottom:d.a.bool.isRequired,threadHistory:Object(B.a)("ThreadHistory"),threadId:d.a.number.isRequired};G.displayName="ThreadHistoryFetcher";t.a=G},OwpT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}function a(e,t,n){var r;if(e.length>t){if(null==n){n="&hellip;";r=3}else r=n.length;e=e.substring(0,t-r)+n}return e}function i(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function o(e,t){for(var n=e.length-1;n>=0;n--)!0===t(e[n])&&e.splice(n,1)}function s(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,r=[],a=0;n=t.exec(e);){r.push(e.substring(a,n.index));r.push(n[0]);a=n.index+n[0].length}r.push(e.substring(a));return r}function c(e){throw new Error("Unhandled case for value: '"+e+"'")}var u=function(){function e(e){void 0===e&&(e={});this.tagName="";this.attrs={};this.innerHTML="";this.whitespaceRegex=/\s+/;this.tagName=e.tagName||"";this.attrs=e.attrs||{};this.innerHTML=e.innerHtml||e.innerHTML||""}e.prototype.setTagName=function(e){this.tagName=e;return this};e.prototype.getTagName=function(){return this.tagName||""};e.prototype.setAttr=function(e,t){this.getAttrs()[e]=t;return this};e.prototype.getAttr=function(e){return this.getAttrs()[e]};e.prototype.setAttrs=function(e){Object.assign(this.getAttrs(),e);return this};e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})};e.prototype.setClass=function(e){return this.setAttr("class",e)};e.prototype.addClass=function(e){for(var t,n=this.getClass(),r=this.whitespaceRegex,a=n?n.split(r):[],o=e.split(r);t=o.shift();)-1===i(a,t)&&a.push(t);this.getAttrs().class=a.join(" ");return this};e.prototype.removeClass=function(e){for(var t,n=this.getClass(),r=this.whitespaceRegex,a=n?n.split(r):[],o=e.split(r);a.length&&(t=o.shift());){var s=i(a,t);-1!==s&&a.splice(s,1)}this.getAttrs().class=a.join(" ");return this};e.prototype.getClass=function(){return this.getAttrs().class||""};e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")};e.prototype.setInnerHTML=function(e){this.innerHTML=e;return this};e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)};e.prototype.getInnerHTML=function(){return this.innerHTML||""};e.prototype.getInnerHtml=function(){return this.getInnerHTML()};e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")};e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")};return e}();function l(e,t,n){var r,a;if(null==n){n="&hellip;";a=3;r=8}else{a=n.length;r=n.length}var i=function(e){var t={},n=e,r=n.match(/^([a-z]+):\/\//i);if(r){t.scheme=r[1];n=n.substr(r[0].length)}if(r=n.match(/^(.*?)(?=(\?|#|\/|$))/i)){t.host=r[1];n=n.substr(r[0].length)}if(r=n.match(/^\/(.*?)(?=(\?|#|$))/i)){t.path=r[1];n=n.substr(r[0].length)}if(r=n.match(/^\?(.*?)(?=(#|$))/i)){t.query=r[1];n=n.substr(r[0].length)}(r=n.match(/^#(.*?)$/i))&&(t.fragment=r[1]);return t},o=function(e){var t="";e.scheme&&e.host&&(t+=e.scheme+"://");e.host&&(t+=e.host);e.path&&(t+="/"+e.path);e.query&&(t+="?"+e.query);e.fragment&&(t+="#"+e.fragment);return t},s=function(e,t){var r=t/2,a=Math.ceil(r),i=-1*Math.floor(r),o="";i<0&&(o=e.substr(i));return e.substr(0,a)+n+o};if(e.length<=t)return e;var c=t-a,u=i(e);if(u.query){var l=u.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);if(l){u.query=u.query.substr(0,l[1].length);e=o(u)}}if(e.length<=t)return e;if(u.host){u.host=u.host.replace(/^www\./,"");e=o(u)}if(e.length<=t)return e;var d="";u.host&&(d+=u.host);if(d.length>=c)return u.host.length==t?(u.host.substr(0,t-a)+n).substr(0,c+r):s(d,c).substr(0,c+r);var p="";u.path&&(p+="/"+u.path);u.query&&(p+="?"+u.query);if(p)if((d+p).length>=c){return(d+p).length==t?(d+p).substr(0,t):(d+s(p,c-d.length)).substr(0,c+r)}else d+=p;if(u.fragment){var h="#"+u.fragment;if((d+h).length>=c){return(d+h).length==t?(d+h).substr(0,t):(d+s(h,c-d.length)).substr(0,c+r)}else d+=h}if(u.scheme&&u.host){var f=u.scheme+"://";if((d+f).length<c)return(f+d).substr(0,t)}if(d.length<=t)return d;var b="";c>0&&(b=d.substr(-1*Math.floor(c/2)));return(d.substr(0,Math.ceil(c/2))+n+b).substr(0,c+r)}function d(e,t,n){if(e.length<=t)return e;var r,a;if(null==n){n="&hellip;";r=8;a=3}else{r=n.length;a=n.length}var i=t-a,o="";i>0&&(o=e.substr(-1*Math.floor(i/2)));return(e.substr(0,Math.ceil(i/2))+n+o).substr(0,i+r)}function p(e,t,n){return a(e,t,n)}var h=function(){function e(e){void 0===e&&(e={});this.newWindow=!1;this.truncate={};this.className="";this.newWindow=e.newWindow||!1;this.truncate=e.truncate||{};this.className=e.className||""}e.prototype.build=function(e){return new u({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})};e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);n&&(t.class=n);if(this.newWindow){t.target="_blank";t.rel="noopener noreferrer"}this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref());return t};e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var n=[t],r=e.getCssClassSuffixes(),a=0,i=r.length;a<i;a++)n.push(t+"-"+r[a]);return n.join(" ")}return""};e.prototype.processAnchorText=function(e){return e=this.doTruncate(e)};e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var n=t.length,r=t.location;return"smart"===r?l(e,n):"middle"===r?d(e,n):p(e,n)};return e}(),f=function(){function e(e){this.__jsduckDummyDocProp=null;this.matchedText="";this.offset=0;this.tagBuilder=e.tagBuilder;this.matchedText=e.matchedText;this.offset=e.offset}e.prototype.getMatchedText=function(){return this.matchedText};e.prototype.setOffset=function(e){this.offset=e};e.prototype.getOffset=function(){return this.offset};e.prototype.getCssClassSuffixes=function(){return[this.getType()]};e.prototype.buildTag=function(){return this.tagBuilder.build(this)};return e}(),b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function m(e,t){b(e,t);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)},j=function(e){m(t,e);function t(t){var n=e.call(this,t)||this;n.email="";n.email=t.email;return n}t.prototype.getType=function(){return"email"};t.prototype.getEmail=function(){return this.email};t.prototype.getAnchorHref=function(){return"mailto:"+this.email};t.prototype.getAnchorText=function(){return this.email};return t}(f),v=function(e){m(t,e);function t(t){var n=e.call(this,t)||this;n.serviceName="";n.hashtag="";n.serviceName=t.serviceName;n.hashtag=t.hashtag;return n}t.prototype.getType=function(){return"hashtag"};t.prototype.getServiceName=function(){return this.serviceName};t.prototype.getHashtag=function(){return this.hashtag};t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: "+e)}};t.prototype.getAnchorText=function(){return"#"+this.hashtag};return t}(f),O=function(e){m(t,e);function t(t){var n=e.call(this,t)||this;n.serviceName="twitter";n.mention="";n.mention=t.mention;n.serviceName=t.serviceName;return n}t.prototype.getType=function(){return"mention"};t.prototype.getMention=function(){return this.mention};t.prototype.getServiceName=function(){return this.serviceName};t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}};t.prototype.getAnchorText=function(){return"@"+this.mention};t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();n&&t.push(n);return t};return t}(f),x=function(e){m(t,e);function t(t){var n=e.call(this,t)||this;n.number="";n.plusSign=!1;n.number=t.number;n.plusSign=t.plusSign;return n}t.prototype.getType=function(){return"phone"};t.prototype.getPhoneNumber=function(){return this.number};t.prototype.getNumber=function(){return this.getPhoneNumber()};t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number};t.prototype.getAnchorText=function(){return this.matchedText};return t}(f),y=function(e){m(t,e);function t(t){var n=e.call(this,t)||this;n.url="";n.urlMatchType="scheme";n.protocolUrlMatch=!1;n.protocolRelativeMatch=!1;n.stripPrefix={scheme:!0,www:!0};n.stripTrailingSlash=!0;n.decodePercentEncoding=!0;n.schemePrefixRegex=/^(https?:\/\/)?/i;n.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i;n.protocolRelativeRegex=/^\/\//;n.protocolPrepended=!1;n.urlMatchType=t.urlMatchType;n.url=t.url;n.protocolUrlMatch=t.protocolUrlMatch;n.protocolRelativeMatch=t.protocolRelativeMatch;n.stripPrefix=t.stripPrefix;n.stripTrailingSlash=t.stripTrailingSlash;n.decodePercentEncoding=t.decodePercentEncoding;return n}t.prototype.getType=function(){return"url"};t.prototype.getUrlMatchType=function(){return this.urlMatchType};t.prototype.getUrl=function(){var e=this.url;if(!this.protocolRelativeMatch&&!this.protocolUrlMatch&&!this.protocolPrepended){e=this.url="http://"+e;this.protocolPrepended=!0}return e};t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")};t.prototype.getAnchorText=function(){var e=this.getMatchedText();this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e));this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e));this.stripPrefix.www&&(e=this.stripWwwPrefix(e));this.stripTrailingSlash&&(e=this.removeTrailingSlash(e));this.decodePercentEncoding&&(e=this.removePercentEncoding(e));return e};t.prototype.stripSchemePrefix=function(e){return e.replace(this.schemePrefixRegex,"")};t.prototype.stripWwwPrefix=function(e){return e.replace(this.wwwPrefixRegex,"$1")};t.prototype.stripProtocolRelativePrefix=function(e){return e.replace(this.protocolRelativeRegex,"")};t.prototype.removeTrailingSlash=function(e){"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1));return e};t.prototype.removePercentEncoding=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}};return t}(f),C=function(){function e(e){this.__jsduckDummyDocProp=null;this.tagBuilder=e.tagBuilder}return e}(),w=/[A-Za-z]/,A=/[0-9]/,k=/\s/,T=/['"]/,I=/[\x00-\x1F\x7F]/,E=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,R=E+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,S=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,F=R+S,M=R+S,P="(?:["+S+"]{1,3}\\.){3}["+S+"]{1,3}",B="["+M+"](?:["+M+"\\-]{0,61}["+M+"])?",D=function(e){return"(?=("+B+"))\\"+e},N=function(e){return"(?:"+D(e)+"(?:\\."+D(e+1)+"){0,126}|"+P+")"},_=new RegExp("["+M+"]"),q=function(e){m(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.localPartCharRegex=new RegExp("["+M+"!#$%&'*+/=?^_`{|}~-]");return t}t.prototype.parseMatches=function(e){for(var t=this.tagBuilder,n=this.localPartCharRegex,r=[],a=e.length,i=new L,o=0,s=0,u=i;o<a;){var l=e.charAt(o);switch(s){case 0:d(l);break;case 1:p(l);break;case 2:h(l);break;case 3:f(l);break;case 4:b(l);break;case 5:m(l);break;case 6:v(l);break;default:c(s)}o++}y();return r;function d(e){n.test(e)&&O()}function p(e){"."===e?s=2:"@"===e?s=3:n.test(e)||x()}function h(e){"."===e?x():"@"===e?x():n.test(e)?s=1:x()}function f(e){_.test(e)?s=4:x()}function b(e){"."===e?s=6:"-"===e?s=5:_.test(e)||y()}function m(e){"-"===e||"."===e?y():_.test(e)?s=4:y()}function v(e){if("."===e||"-"===e)y();else if(_.test(e)){s=4;u=new L(g({},u,{hasDomainDot:!0}))}else y()}function O(){s=1;u=new L({idx:o})}function x(){s=0;u=i}function y(){if(u.hasDomainDot){var n=e.slice(u.idx,o);/[-.]$/.test(n)&&(n=n.slice(0,-1));r.push(new j({tagBuilder:t,matchedText:n,offset:u.idx,email:n}))}x()}};return t}(C),L=function(){function e(e){void 0===e&&(e={});this.idx=void 0!==e.idx?e.idx:-1;this.hasDomainDot=!!e.hasDomainDot}return e}(),z=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermÃ¶gensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermÃ¶gensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|à®à®¿à®à¯à®à®ªà¯à®ªà¯à®°à¯|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|etisalat|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|Ø§ÙØ³Ø¹ÙØ¯ÙØ©|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|staples|starhub|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|ÐºÐ°ÑÐ¾Ð»Ð¸Ðº|Ø§ØªØµØ§ÙØ§Øª|Ø§ÙØ¬Ø²Ø§Ø¦Ø±|Ø§ÙØ¹ÙÙØ§Ù|Ù¾Ø§Ú©Ø³ØªØ§Ù|ÙØ§Ø«ÙÙÙÙ|ÙÙØ¨Ø§ÙÙÙ|à®à®¨à¯à®¤à®¿à®¯à®¾|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|yachts|yandex|zappos|Ð¼Ð¾ÑÐºÐ²Ð°|Ð¾Ð½Ð»Ð°Ð¹Ð½|Ø§Ø¨ÙØ¸Ø¨Ù|Ø§Ø±Ø§ÙÙÙ|Ø§ÙØ§Ø±Ø¯Ù|Ø§ÙÙØºØ±Ø¨|Ø§ÙØ§Ø±Ø§Øª|ÙÙØ³Ø·ÙÙ|ÙÙÙØ³ÙØ§|à¤­à¤¾à¤°à¤¤à¤®à¥|à®à®²à®à¯à®à¯|ãã¡ãã·ã§ã³|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|Ø§ÛØ±Ø§Ù|Ø¨Ø§Ø²Ø§Ø±|Ø¨Ú¾Ø§Ø±Øª|Ø³ÙØ¯Ø§Ù|Ø³ÙØ±ÙØ©|ÙÙØ±Ø§Ù|à¤­à¤¾à¤°à¥à¤¤|à¤¸à¤à¤à¤ à¤¨|à¦¬à¦¾à¦à¦²à¦¾|à°­à°¾à°°à°¤à±|à´­à´¾à´°à´¤à´|åéå¤§éåº|aarp|able|adac|aero|aigo|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|Ð´ÐµÑÐ¸|ÑÐ°Ð¹Ñ|Ø¨Ø§Ø±Øª|Ø¨ÙØªÙ|ÚØ§Ø±Øª|ØªÙÙØ³|Ø´Ø¨ÙØ©|Ø¹Ø±Ø§Ù|Ø¹ÙØ§Ù|ÙÙÙØ¹|à¤­à¤¾à¤°à¤¤|à¦­à¦¾à¦°à¦¤|à¦­à¦¾à§°à¦¤|à¨­à¨¾à¨°à¨¤|àª­àª¾àª°àª¤|à¬­à¬¾à¬°à¬¤|à²­à²¾à²°à²¤|à¶½à¶à¶à·|ã°ã¼ã°ã«|ã¯ã©ã¦ã|ãã¤ã³ã|å¤§ä¼æ±½è½¦|ç»ç»æºæ|é»è¨çç§|é¦æ ¼éæ|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jcp|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|Ð±ÐµÐ»|ÐºÐ¾Ð¼|ÒÐ°Ð·|Ð¼ÐºÐ´|Ð¼Ð¾Ð½|Ð¾ÑÐ³|ÑÑÑ|ÑÑÐ±|ÑÐºÑ|Õ°Õ¡Õµ|×§××|Ø¹Ø±Ø¨|ÙØ·Ø±|ÙÙÙ|ÙØµØ±|à¤à¥à¤®|à¤¨à¥à¤|à¸à¸­à¸¡|à¹à¸à¸¢|ã¹ãã¢|ã»ã¼ã«|ã¿ããª|ä¸­æç½|å¤©ä¸»æ|æç±ä½ |æ°å å¡|æ·¡é©¬é¡|è¯ºåºäº|é£å©æµ¦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ÎµÎ»|Ð±Ð³|ÐµÑ|ÑÑ|áá|ë·ë·|ë·ì»´|ì¼ì±|íêµ­|ã³ã |ä¸ç|ä¸­ä¿¡|ä¸­å½|ä¸­å|ä¼ä¸|ä½å±±|ä¿¡æ¯|å¥åº·|å«å¦|å¬å¸|å¬ç|å°æ¹¾|å°ç£|åå|ååº|åæ |åé|å¨çº¿|å¤§æ¿|å¨±ä¹|å®¶é»|å·¥è¡|å¹¿ä¸|å¾®å|æå|ææº|æè¡¨|æè|æ¿å¡|æ¿åº|æ°é»|æ¶å°|æ¸ç±|æºæ|æ¸¸æ|æ¾³é|ç¹ç|ç å®|ç§»å¨|ç½å|ç½åº|ç½ç«|ç½ç»|èé|è°·æ­|è´­ç©|éè²©|éå¢|é£å|é¤å|é¦æ¸¯)/,U=function(){function e(){}e.isValid=function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))};e.isValidIpAddress=function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)};e.containsMultipleDots=function(e){var t=e;this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]);return t.split("/")[0].indexOf("..")>-1};e.isValidUriScheme=function(e){var t=e.match(this.uriSchemeRegex),n=t&&t[0].toLowerCase();return"javascript:"!==n&&"vbscript:"!==n};e.urlMatchDoesNotHaveProtocolOrDot=function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))};e.urlMatchDoesNotHaveAtLeastOneWordChar=function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)};e.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//;e.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/;e.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+E+"]");e.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/;return e}(),H=function(e){m(t,e);function t(t){var n,r,a,i=e.call(this,t)||this;i.stripPrefix={scheme:!0,www:!0};i.stripTrailingSlash=!0;i.decodePercentEncoding=!0;i.matcherRegex=(n=/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/,r=/(?:www\.)/,a=new RegExp("[/?#](?:["+M+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;â]*["+M+"\\-+&@#/%=~_()|'$*\\[\\]â])?"),new RegExp(["(?:","(",n.source,N(2),")","|","(","(//)?",r.source,N(6),")","|","(","(//)?",N(10)+"\\.",z.source,"(?![-"+F+"])",")",")","(?::[0-9]+)?","(?:"+a.source+")?"].join(""),"gi"));i.wordCharRegExp=new RegExp("["+M+"]");i.stripPrefix=t.stripPrefix;i.stripTrailingSlash=t.stripTrailingSlash;i.decodePercentEncoding=t.decodePercentEncoding;return i}t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.stripPrefix,a=this.stripTrailingSlash,i=this.decodePercentEncoding,o=this.tagBuilder,s=[];null!==(t=n.exec(e));){var c=t[0],u=t[1],l=t[4],d=t[5],p=t[9],h=t.index,f=d||p,b=e.charAt(h-1);if(U.isValid(c,u)&&!(h>0&&"@"===b||h>0&&f&&this.wordCharRegExp.test(b))){/\?$/.test(c)&&(c=c.substr(0,c.length-1));if(this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var m=this.matchHasInvalidCharAfterTld(c,u);m>-1&&(c=c.substr(0,m))}var g=u?"scheme":l?"www":"tld",j=!!u;s.push(new y({tagBuilder:o,matchedText:c,offset:h,urlMatchType:g,url:c,protocolUrlMatch:j,protocolRelativeMatch:!!f,stripPrefix:r,stripTrailingSlash:a,decodePercentEncoding:i}))}}return s};t.prototype.matchHasUnbalancedClosingParen=function(e){var t,n=e.charAt(e.length-1);if(")"===n)t="(";else{if("]"!==n)return!1;t="["}for(var r=0,a=0,i=e.length-1;a<i;a++){var o=e.charAt(a);o===t?r++:o===n&&(r=Math.max(r-1,0))}return 0===r};t.prototype.matchHasInvalidCharAfterTld=function(e,t){if(!e)return-1;var n=0;if(t){n=e.indexOf(":");e=e.slice(n)}var r=new RegExp("^((.?//)?[-."+M+"]*[-"+M+"]\\.[-"+M+"]+)").exec(e);if(null===r)return-1;n+=r[1].length;e=e.slice(r[1].length);return/^[^-.A-Za-z0-9:\/?#]/.test(e)?n:-1};return t}(C),V=function(e){m(t,e);function t(t){var n=e.call(this,t)||this;n.serviceName="twitter";n.matcherRegex=new RegExp("#[_"+M+"]{1,139}(?![_"+M+"])","g");n.nonWordCharRegex=new RegExp("[^"+M+"]");n.serviceName=t.serviceName;return n}t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.nonWordCharRegex,a=this.serviceName,i=this.tagBuilder,o=[];null!==(t=n.exec(e));){var s=t.index,c=e.charAt(s-1);if(0===s||r.test(c)){var u=t[0],l=t[0].slice(1);o.push(new v({tagBuilder:i,matchedText:u,offset:s,serviceName:a,hashtag:l}))}}return o};return t}(C),W=function(e){m(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.matcherRegex=/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g;return t}t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.tagBuilder,a=[];null!==(t=n.exec(e));){var i=t[0],o=i.replace(/[^0-9,;#]/g,""),s=!(!t[1]&&!t[2]),c=0==t.index?"":e.substr(t.index-1,1),u=e.substr(t.index+i.length,1),l=!c.match(/\d/)&&!u.match(/\d/);this.testMatch(t[3])&&this.testMatch(i)&&l&&a.push(new x({tagBuilder:r,matchedText:i,offset:t.index,number:o,plusSign:s}))}return a};t.prototype.testMatch=function(e){return/\D/.test(e)};return t}(C),Q=function(e){m(t,e);function t(t){var n=e.call(this,t)||this;n.serviceName="twitter";n.matcherRegexes={twitter:new RegExp("@[_"+M+"]{1,50}(?![_"+M+"])","g"),instagram:new RegExp("@[_."+M+"]{1,30}(?![_"+M+"])","g"),soundcloud:new RegExp("@[-_."+M+"]{1,50}(?![-_"+M+"])","g")};n.nonWordCharRegex=new RegExp("[^"+M+"]");n.serviceName=t.serviceName;return n}t.prototype.parseMatches=function(e){var t,n=this.serviceName,r=this.matcherRegexes[this.serviceName],a=this.nonWordCharRegex,i=this.tagBuilder,o=[];if(!r)return o;for(;null!==(t=r.exec(e));){var s=t.index,c=e.charAt(s-1);if(0===s||a.test(c)){var u=t[0].replace(/\.+$/g,""),l=u.slice(1);o.push(new O({tagBuilder:i,matchedText:u,offset:s,serviceName:n,mention:l}))}}return o};return t}(C);function G(e,t){for(var n=t.onOpenTag,r=t.onCloseTag,a=t.onText,i=t.onComment,o=t.onDoctype,s=new Y,u=0,l=e.length,d=0,p=0,h=s;u<l;){var f=e.charAt(u);switch(d){case 0:b(f);break;case 1:m(f);break;case 2:v(f);break;case 3:j(f);break;case 4:O(f);break;case 5:x(f);break;case 6:y(f);break;case 7:C(f);break;case 8:E(f);break;case 9:R(f);break;case 10:S(f);break;case 11:F(f);break;case 12:M(f);break;case 13:P(f);break;case 14:B(f);break;case 15:D(f);break;case 16:N(f);break;case 17:_(f);break;case 18:q(f);break;case 19:L(f);break;case 20:z(f);break;default:c(d)}u++}p<u&&W();function b(e){"<"===e&&H()}function m(e){if("!"===e)d=13;else if("/"===e){d=2;h=new Y(g({},h,{isClosing:!0}))}else if("<"===e)H();else if(w.test(e)){d=3;h=new Y(g({},h,{isOpening:!0}))}else{d=0;h=s}}function j(e){if(k.test(e)){h=new Y(g({},h,{name:Q()}));d=4}else if("<"===e)H();else if("/"===e){h=new Y(g({},h,{name:Q()}));d=12}else if(">"===e){h=new Y(g({},h,{name:Q()}));V()}else w.test(e)||A.test(e)||":"===e||U()}function v(e){">"===e?U():w.test(e)?d=3:U()}function O(e){k.test(e)||("/"===e?d=12:">"===e?V():"<"===e?H():"="===e||T.test(e)||I.test(e)?U():d=5)}function x(e){k.test(e)?d=6:"/"===e?d=12:"="===e?d=7:">"===e?V():"<"===e?H():T.test(e)&&U()}function y(e){k.test(e)||("/"===e?d=12:"="===e?d=7:">"===e?V():"<"===e?H():T.test(e)?U():d=5)}function C(e){k.test(e)||('"'===e?d=8:"'"===e?d=9:/[>=`]/.test(e)?U():"<"===e?H():d=10)}function E(e){'"'===e&&(d=11)}function R(e){"'"===e&&(d=11)}function S(e){k.test(e)?d=4:">"===e?V():"<"===e&&H()}function F(e){if(k.test(e))d=4;else if("/"===e)d=12;else if(">"===e)V();else if("<"===e)H();else{d=4;G()}}function M(e){if(">"===e){h=new Y(g({},h,{isClosing:!0}));V()}else d=4}function P(t){if("--"===e.substr(u,2)){u+=2;h=new Y(g({},h,{type:"comment"}));d=14}else if("DOCTYPE"===e.substr(u,7).toUpperCase()){u+=7;h=new Y(g({},h,{type:"doctype"}));d=20}else U()}function B(e){"-"===e?d=15:">"===e?U():d=16}function D(e){"-"===e?d=18:">"===e?U():d=16}function N(e){"-"===e&&(d=17)}function _(e){d="-"===e?18:16}function q(e){">"===e?V():"!"===e?d=19:"-"===e||(d=16)}function L(e){"-"===e?d=17:">"===e?V():d=16}function z(e){">"===e?V():"<"===e&&H()}function U(){d=0;h=s}function H(){d=1;h=new Y({idx:u})}function V(){var t=e.slice(p,h.idx);t&&a(t,p);if("comment"===h.type)i(h.idx);else if("doctype"===h.type)o(h.idx);else{h.isOpening&&n(h.name,h.idx);h.isClosing&&r(h.name,h.idx)}U();p=u+1}function W(){var t=e.slice(p,u);a(t,p);p=u+1}function Q(){var t=h.idx+(h.isClosing?2:1);return e.slice(t,u).toLowerCase()}function G(){u--}}var Y=function(){function e(e){void 0===e&&(e={});this.idx=void 0!==e.idx?e.idx:-1;this.type=e.type||"tag";this.name=e.name||"";this.isOpening=!!e.isOpening;this.isClosing=!!e.isClosing}return e}(),J=function(){function e(t){void 0===t&&(t={});this.version=e.version;this.urls={};this.email=!0;this.phone=!0;this.hashtag=!1;this.mention=!1;this.newWindow=!0;this.stripPrefix={scheme:!0,www:!0};this.stripTrailingSlash=!0;this.decodePercentEncoding=!0;this.truncate={length:0,location:"end"};this.className="";this.replaceFn=null;this.context=void 0;this.matchers=null;this.tagBuilder=null;this.urls=this.normalizeUrlsCfg(t.urls);this.email="boolean"==typeof t.email?t.email:this.email;this.phone="boolean"==typeof t.phone?t.phone:this.phone;this.hashtag=t.hashtag||this.hashtag;this.mention=t.mention||this.mention;this.newWindow="boolean"==typeof t.newWindow?t.newWindow:this.newWindow;this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix);this.stripTrailingSlash="boolean"==typeof t.stripTrailingSlash?t.stripTrailingSlash:this.stripTrailingSlash;this.decodePercentEncoding="boolean"==typeof t.decodePercentEncoding?t.decodePercentEncoding:this.decodePercentEncoding;var n=this.mention;if(!1!==n&&"twitter"!==n&&"instagram"!==n&&"soundcloud"!==n)throw new Error("invalid `mention` cfg - see docs");var r=this.hashtag;if(!1!==r&&"twitter"!==r&&"facebook"!==r&&"instagram"!==r)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate);this.className=t.className||this.className;this.replaceFn=t.replaceFn||this.replaceFn;this.context=t.context||this}e.link=function(t,n){return new e(n).link(t)};e.parse=function(t,n){return new e(n).parse(t)};e.prototype.normalizeUrlsCfg=function(e){null==e&&(e=!0);return"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}};e.prototype.normalizeStripPrefixCfg=function(e){null==e&&(e=!0);return"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}};e.prototype.normalizeTruncateCfg=function(e){return"number"==typeof e?{length:e,location:"end"}:r(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})};e.prototype.parse=function(e){var t=this,n=["a","style","script"],r=0,a=[];G(e,{onOpenTag:function(e){n.indexOf(e)>=0&&r++},onText:function(e,n){if(0===r){var i=n;s(e,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi).forEach(function(e,n){if(n%2==0){var r=t.parseText(e,i);a.push.apply(a,r)}i+=e.length})}},onCloseTag:function(e){n.indexOf(e)>=0&&(r=Math.max(r-1,0))},onComment:function(e){},onDoctype:function(e){}});a=this.compactMatches(a);return a=this.removeUnwantedMatches(a)};e.prototype.compactMatches=function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++){var n=e[t],r=n.getOffset(),a=n.getMatchedText().length,i=r+a;if(t+1<e.length){if(e[t+1].getOffset()===r){var o=e[t+1].getMatchedText().length>a?t:t+1;e.splice(o,1);continue}e[t+1].getOffset()<i&&e.splice(t+1,1)}}return e};e.prototype.removeUnwantedMatches=function(e){this.hashtag||o(e,function(e){return"hashtag"===e.getType()});this.email||o(e,function(e){return"email"===e.getType()});this.phone||o(e,function(e){return"phone"===e.getType()});this.mention||o(e,function(e){return"mention"===e.getType()});this.urls.schemeMatches||o(e,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()});this.urls.wwwMatches||o(e,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()});this.urls.tldMatches||o(e,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()});return e};e.prototype.parseText=function(e,t){void 0===t&&(t=0);t=t||0;for(var n=this.getMatchers(),r=[],a=0,i=n.length;a<i;a++){for(var o=n[a].parseMatches(e),s=0,c=o.length;s<c;s++)o[s].setOffset(t+o[s].getOffset());r.push.apply(r,o)}return r};e.prototype.link=function(e){if(!e)return"";for(var t=this.parse(e),n=[],r=0,a=0,i=t.length;a<i;a++){var o=t[a];n.push(e.substring(r,o.getOffset()));n.push(this.createMatchReturnVal(o));r=o.getOffset()+o.getMatchedText().length}n.push(e.substring(r));return n.join("")};e.prototype.createMatchReturnVal=function(e){var t;this.replaceFn&&(t=this.replaceFn.call(this.context,e));return"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof u?t.toAnchorString():e.buildTag().toAnchorString()};e.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var e=this.getTagBuilder(),t=[new V({tagBuilder:e,serviceName:this.hashtag}),new q({tagBuilder:e}),new W({tagBuilder:e}),new Q({tagBuilder:e,serviceName:this.mention}),new H({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t};e.prototype.getTagBuilder=function(){var e=this.tagBuilder;e||(e=this.tagBuilder=new h({newWindow:this.newWindow,truncate:this.truncate,className:this.className}));return e};e.version="3.0.5";e.AnchorTagBuilder=h;e.HtmlTag=u;e.matcher={Email:q,Hashtag:V,Matcher:C,Mention:Q,Phone:W,Url:H};e.match={Email:j,Hashtag:v,Match:f,Mention:O,Phone:x,Url:y};return e}();t.AnchorTagBuilder=h;t.Autolinker=J;t.EmailMatch=j;t.EmailMatcher=q;t.HashtagMatch=v;t.HashtagMatcher=V;t.HtmlTag=u;t.Match=f;t.Matcher=C;t.MentionMatch=O;t.MentionMatcher=Q;t.PhoneMatch=x;t.PhoneMatcher=W;t.UrlMatch=y;t.UrlMatcher=H;t.default=J},P5SP:function(e,t,n){"use strict";n.r(t);var r=n("MBJP"),a=n("c2PF"),i=n("lTxV"),o=Object(r.a)([a.getThreadByThreadId],i.a),s=n("V0XL");n.d(t,"shouldRecordUrlContextUpdate",function(){return c});var c=Object(r.a)([o,s.getMessagesPageUri],function(e,t){return e!==t})},PTMU:function(e,t,n){"use strict";n.d(t,"b",function(){return i});n.d(t,"a",function(){return o});var r=n("kkqp"),a=n.n(r),i=document.implementation.createHTMLDocument("sanitize"),o={HTML:{elements:["a","b","blockquote","br","caption","cite","code","col","colgroup","dd","dl","dt","em","figure","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","q","small","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","u","ul","font","div","span"],dom:i,attributes:{__ALL__:["style","align","valign","color","width","height"],a:["href","title","target"],blockquote:["cite"],col:["span"],colgroup:["span"],img:["alt","data-original-height","data-original-width","src","title"],ol:["start","type"],q:["cite"],table:["summary","bgcolor","cellpadding","cellspacing"],td:["abbr","axis","bgcolor","colspan","rowspan"],th:["abbr","axis","colspan","rowspan","scope"],ul:["type"],font:["size","face"],span:["data-at-mention","data-owner-id","contenteditable","data-email-reply","data-timestamp","data-value"]},add_attributes:{a:{rel:"nofollow noopener noreferrer"}},protocols:{a:{href:["ftp","http","https","mailto","tel","mms","sms",a.a.RELATIVE]},blockquote:{cite:["http","https",a.a.RELATIVE]},img:{src:["data","http","https",a.a.RELATIVE]},q:{cite:["http","https",a.a.RELATIVE]}},remove_contents:["script","style","title"]},TEXTONLY:{dom:i,elements:[],remove_contents:["style","script"]}}},PY3R:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("sZZm"),a=n("tek+"),i=n("6WMu"),o=function(e){var t=e.thread;Object(r.postExternalApiEvent)({eventType:a.c,payload:{conversation:Object(i.serializeThreadForExternalEvent)(t)}})}},PYok:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r=n("BnUr"),a=n("31tl"),i=n("LdnN"),o=n("5rZi"),s=n("6PLn"),c=n("4SpI"),u=n("2gT5"),l=n("IqZ3"),d=n("k09d"),p=n("FJf1"),h=n("UxS0"),f=n("tbpt"),b=n("V0XL"),m=n("P5SP"),g=n("wy0V"),j=n("AEyM"),v=n("SbeA"),O=n("CdQ/"),x=n("gD8A"),y=n("E6wg"),C=n("Xcjc"),w=function(){return function(e,t){var n=Object(d.a)(t()),a=Object(b.getMessagesPageUri)(t()),i=Object(r.getThreadId)(n);return Object(m.shouldRecordUrlContextUpdate)(t(),{threadId:i})&&i!==C.a?Object(x.updateVisitorContext)({currentUrl:a,sessionId:Object(y.getSessionId)(t()),threadId:i}).then(function(){e(Object(g.a)({threadId:i,currentUrl:a}))}).catch(function(){return Promise.resolve()}):Promise.resolve()}},A=function(e){var t=e.text,n=e.richText,b=e.quickReply,m=e.fileAttachment;return function(e,g){var x=Object(d.a)(g()),y=Object(u.isPersistedThread)(x),C=Object(r.getChannelName)(x),w=Object(r.getThreadId)(x),A=Object(O.getMessagesUtk)(),k=Object(h.buildVisitorCommonMessage)({clientType:a.a,fileAttachment:m,quickReply:b,richText:n,senderId:A,text:t});e(Object(l.a)(w));e(Object(p.trackSendMessage)({threadId:w}));if(!y){e(Object(f.stageMessageOnStubbedThread)(k));return e(Object(o.createNewThread)())}Object(v.getMostRecentMessageIsEmailPrompt)(g())&&i.a.test(t)&&e(Object(j.sendVisitorEmailAddress)({email:t,consentToCommunicate:!1,threadId:w}));return e(Object(c.publishMessage)({channel:C,message:k,threadId:w})).then(function(){return e(Object(s.applyGdprConsent)())})}};function k(e){var t=e.text,n=e.richText,r=e.quickReply,a=e.fileAttachment;return function(e){return e(w()).then(function(){e(A({text:t,richText:n,quickReply:r,fileAttachment:a}))})}}},PzWr:function(e,t,n){"use strict";n.r(t);n.d(t,"getFileSize",function(){return i});var r=n("JGJA"),a=n("A3yT"),i=function(e){var t=Object(a.getFile)(e);return Object(r.a)("size",t)||0}},Q2fA:function(e,t,n){"use strict";var r=n("MBJP"),a=n("qjq5"),i=n("AaWM"),o=Object(a.a)(i.a),s=n("JGJA"),c=n("G6fO"),u=n("RyNb"),l=n("ncoD"),d=n("SfUm");n.d(t,"a",function(){return p});var p=Object(r.a)([d.a,l.getAllAgentResponders,u.a],function(e,t,n){var r=Object(c.getUserId)(n);return Object(s.a)(r,e)?n:t&&t.find(function(t){var n=Object(c.getUserId)(t);return o(n,e)})})},QG41:function(e,t,n){var r=n("uQvf");function a(){this.__data__=r?r(null):{};this.size=0}e.exports=a},QVIP:function(e,t){var n=Function.prototype.toString;function r(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=r},Qf6G:function(e,t,n){"use strict";n.r(t);n.d(t,"clickedConsentToProcess",function(){return b});n.d(t,"consentToProcessSucceeded",function(){return m});n.d(t,"consentToProcessFailed",function(){return g});n.d(t,"consentToProcess",function(){return j});var r=n("Ut5p"),a=n("wwi/"),i=n("E6wg"),o=n("wn0x"),s=n("uk/S"),c=n("dIvY"),u=n("2BFa"),l=n("k3iI"),d=n("081M"),p=n("Ux+X"),h=n("647q"),f=n("CdQ/"),b=Object(r.b)(a.d),m=Object(r.b)(a.f),g=Object(r.b)(a.e,function(e){return{error:e.error}});function j(){return function(e,t){var n=Object(i.getSessionId)(t()),r=Object(o.getMessageId)(t()),a=Object(d.getHubspotUtk)(),j=Object(h.getLatestWidgetData)(t());e(b());Object(s.sendConsentToProcess)({sessionId:n,hubspotUtk:a,welcomeMessageId:r,widgetData:j}).then(function(n){var r=n.sessionId,a=Object(u.gdprCookieConsentOnExitIntentEnabled)(t(),j);try{localStorage.setItem("userHasGivenConsentToProcess",!0)}catch(e){console.warn("local storage not set!")}a||Object(c.handleStoreMessagesCookie)(Object(f.getMessagesUtk)());e(Object(l.updateSessionId)(r));e(m());e(Object(p.trackInteraction)("widget-interaction",{action:"clicked consent to process button"}))},function(t){return e(g({error:t}))}).done()}}},QhUm:function(e,t,n){var r=n("xP7N");function a(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=a},R1eS:function(e,t,n){"use strict";var r=n("QgEn"),a=n("9f1P"),i=n.n(a),o=n("sl/w"),s=i.a.div.withConfig({displayName:"ErrorState__ErrorWrapper",componentId:"sc-9n3cba-0"})(["display:flex;justify-content:center;align-items:center;height:100%;flex-direction:column;"]),c=function(){return Object(r.jsxs)(s,{children:[Object(r.jsx)("h5",{children:Object(r.jsx)(o.a,{message:"conversations-visitor-ui.asyncError.body"})}),Object(r.jsx)("div",{className:"m-top-3",children:Object(r.jsx)(o.a,{message:"conversations-visitor-ui.asyncError.noRetry"})})]})};c.displayName="ErrorState";var u=c,l=i.a.div.withConfig({displayName:"ThreadHistoryError__ThreadHistoryErrorWrapper",componentId:"eons6g-0"})(["text-align:center;flex-grow:1;"]),d=function(){return Object(r.jsx)(l,{children:Object(r.jsx)(u,{})})};d.displayName="ThreadHistoryError";t.a=d},"R4/u":function(e,t,n){"use strict";n.d(t,"b",function(){return a});n.d(t,"a",function(){return i});var r=n("0GGv");function a(){return function(e,t){Object(r.a)(t())||window.newrelic&&window.newrelic.addPageAction&&window.newrelic.setCustomAttribute&&window.newrelic.addPageAction("threadCreatedInWidget",{actionAttribute:"createdThreadInhWidget"})}}function i(){return function(e,t){Object(r.a)(t())||window.newrelic&&window.newrelic.addPageAction&&window.newrelic.setCustomAttribute&&window.newrelic.addPageAction("fileAttachedToWidget",{actionAttribute:"attachedFileToWidget"})}}},"RC6+":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("AgZ1"),a=n("PTMU"),i=function(e,t){return t===r.a||e&&e.contains&&r.b.some(function(t){return e.contains(t)})},o=function(e){var t=e.node;if(!t||!t.tagName||"br"!==t.tagName.toLowerCase())return null;if(!t.nextElementSibling||!t.nextElementSibling.tagName)return null;var n=t.nextElementSibling,r=n.classList,o=n.id;if(!i(r,o))return null;var s=a.b.createElement("span");s.innerHTML="";return{node:s}}},RLxx:function(e,t){function n(){this.__data__=[];this.size=0}e.exports=n},RsqX:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("PTMU"),a=function(e,t){return"p"===t&&e&&e.classList&&e.classList.contains("MsoNormal")&&e.children&&e.children.length},i=function(e){var t=r.b.createElement("o:p");if(e.innerHTML.includes("&nbsp;")){t.innerHTML=e.innerHTML.replace(/&nbsp;/g,"").trim();return t}return e},o=function(e){if(!e||"o:p"!==e.tagName.toLowerCase())return!1;var t=i(e);return!t.children.length&&""===t.innerHTML},s=function(e){return e&&"span"===e.tagName.toLowerCase()&&o(e.firstElementChild)},c=function e(t){var n=t.node,i=t.node_name;if(!a(n,i))return null;var c=n.firstElementChild;if(s(c)&&c.childNodes.length>1){c.removeChild(c.firstElementChild);return e({node:n,node_name:"p"})}if(o(c)||s(c)){if(n.childNodes.length>1){n.removeChild(c);return e({node:n,node_name:"p"})}return{node:r.b.createElement("br")}}var u=r.b.createElement("div");Object.keys(n.attributes).forEach(function(e){var t=n.attributes[e];u.setAttribute(t.nodeName,t.nodeValue)});u.innerHTML=n.innerHTML.replace(/&nbsp;/g," ").trim();return{node:u}}},SbeA:function(e,t,n){"use strict";n.r(t);n.d(t,"getMostRecentMessageIsEmailPrompt",function(){return s});var r=n("MBJP"),a=n("4nf7"),i=n("0IK8"),o=n("7hVK"),s=Object(r.a)([a.a],function(e){return Object(i.getType)(e.last())===o.a})},ScsA:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n.d(t,"b",function(){return i});n.d(t,"c",function(){return u});var r=n("PTMU"),a="gmail_signature",i=["hs_signature"],o=function(e){return e&&e.contains&&i.some(function(t){return e.contains(t)})},s=function(e){return Boolean(e&&e.innerHTML&&e.innerHTML.length)},c=function(e){return e.classList&&e.classList.contains&&e.classList.contains(a)&&(s(e.nextElementSibling)||s(e.previousElementSibling))},u=function(e){var t=e.node,n=t.classList;if(c(t)||o(n)){var a=r.b.createElement("span");a.innerHTML="";return{node:a}}return null}},SfUm:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("QYOI"),a=n("MBJP"),i=n("JGJA"),o=n("BnUr"),s=n("BMD5"),c=n("6T8d"),u=Object(a.a)([s.a,c.typingStates],function(e,t){var n=Object(o.getThreadId)(e);return Object(i.a)(""+n,t)||Object(r.Map)()})},Syy6:function(e,t,n){var r=n("9Utk"),a=n("kmmH"),i="Expected a function";function o(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);if(a(n)){o="leading"in n?!!n.leading:o;s="trailing"in n?!!n.trailing:s}return r(e,t,{leading:o,maxWait:t,trailing:s})}e.exports=o},TXBG:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("KXN9"),a=n("Pda3"),i=n("x1JE"),o=n("QYOI"),s=n("MBJP"),c=n("bYG+"),u=n("9n7a"),l=Object(s.a)([u.a],function(e){return e&&Object(i.getEntries)(e).size?Object(i.getEntries)(e).reduce(function(e,t,n){return t&&n&&Object(a.isSucceeded)(t)?Object(c.a)(String(n),Object(r.a)(t),e):e},Object(o.Map)()):Object(o.Map)()})},Umjh:function(e,t,n){"use strict";var r,a,i=n("fFSu"),o=n("QgEn"),s=n("VfuR"),c=n.n(s),u=n("9f1P"),l=n.n(u),d=n("DgSg"),p=n("OwGx"),h=n("VJJX"),f=n("78wT"),b="primary",m="secondary",g={PRIMARY:b,SECONDARY:m},j=(r={},Object(p.a)(r,b,h.PRIMARY),Object(p.a)(r,m,h.SECONDARY),r),v=function(e){return j[e]},O=(a={},Object(p.a)(a,b,f.SECONDARY),Object(p.a)(a,m,f.PRIMARY),a),x=function(e){return O[e]},y=g,C=n("NrIs"),w=l()(d.a).withConfig({displayName:"VizExLoadingButton__Spinner",componentId:"sc-1m53d0d-0"})(["height:0;position:absolute;top:50%;right:0;transition:opacity 0.2s;opacity:",";"],function(e){return e.show?1:0}),A=l.a.div.withConfig({displayName:"VizExLoadingButton__ReadyWrapper",componentId:"sc-1m53d0d-1"})(["transition:opacity 0.2s;opacity:",";"],function(e){return e.show?1:0}),k=function(e){var t=e.children,n=e.Button,r=e.result,a=e.use,s=e.theme,c=e.currentState,u=e.onClick,l=Object(i.a)(e,["children","Button","result","use","theme","currentState","onClick"]),d="ready"===c,p="submitting"===c,h="done"===c;return Object(o.jsxs)(n,Object.assign({theme:s,onClick:p||h?function(){}:u,use:v(a),style:{position:"relative"}},l,{children:[Object(o.jsx)(A,{"data-testid":"VizExLoadingButton-Ready",show:d,children:t}),Object(o.jsx)(w,{size:"xs",grow:!0,use:x(a),theme:s,showResult:h,show:p||h,"data-testid":"VizExLoadingButton-Spinner",children:r})]}))};k.propTypes={Button:c.a.node.isRequired,children:c.a.node.isRequired,currentState:c.a.oneOf(["ready","submitting","done"]),onClick:c.a.func,result:c.a.node,theme:C.a,use:c.a.oneOf(Object.values(y))};k.defaultProps={"data-test-id":"loading-button",use:y.PRIMARY,onClick:function(){}};k.displayName="VizExLoadingButton";t.a=k},UxS0:function(e,t,n){"use strict";n.r(t);n.d(t,"buildVisitorCommonMessage",function(){return p});var r=n("OwGx"),a=n("wxG8"),i=n("+Q4j"),o=n("6d8N"),s=n("B/8b"),c=n("bWKF"),u=n("IhEF"),l=n("v0wH"),d=n("GavG"),p=function(e){var t=e.clientType,n=e.fileAttachment,p=e.quickReply,h=e.richText,f=e.senderId,b=e.text,m=Object(c.b)(a.f),g=Object(s.a)(m),j=[];n&&j.push(n);p&&j.push(new o.a(p));return Object(d.buildCommonMessage)({status:{source:i.a,messageStatus:l.b},clientType:t,attachments:j,text:b,richText:h,id:Object(u.generateUuid)(),sender:Object(r.a)({"@type":m},g,f)})}},Uz5A:function(e,t,n){var r=n("LPlp");function a(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=a},V2EP:function(e,t,n){"use strict";var r=n("xM7V"),a=n("Ux+X"),i=n("Zn4N"),o=function(e){switch(e){case i.b:return"size limit exceeded";default:return null}},s=n("Wnz4"),c=n("BnUr"),u=n("5N3d"),l=n("84zR");n.d(t,"a",function(){return d});var d=function(e){var t=e.file,n=e.thread;return function(e){var i=Object(c.getThreadId)(n);return Object(u.validateAttachmentFile)(t).then(function(){var n=new r.a({file:t,progress:0});return e(Object(l.uploadAttachment)({attachment:n,threadId:i}))}).catch(function(t){e(Object(s.attachmentError)(t,i));e(Object(a.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":o(t)}))})}}},VJJX:function(e,t,n){"use strict";n.r(t);n.d(t,"PRIMARY",function(){return r});n.d(t,"SECONDARY",function(){return a});n.d(t,"TRANSPARENT_ON_PRIMARY",function(){return i});var r="primary",a="secondary",i="transparent-on-primary"},VXRw:function(e,t,n){"use strict";n.r(t);n.d(t,"attachmentUploadStart",function(){return i});var r=n("Ut5p"),a=n("FDs6"),i=Object(r.b)(a.d,function(e){return{attachment:e.attachment,threadId:e.threadId}})},VdXU:function(e,t,n){"use strict";var r=n("fFSu"),a=n("QgEn"),i=n("VfuR"),o=n.n(i),s=n("9f1P"),c=n.n(s),u=n("ILY+"),l=n("NrIs"),d=n("8nIw"),p=n("VJJX"),h=n("0wDu"),f=h.h,b=h.j,m=(h.b,h.a,n("8u6N")),g=function(e){var t=e.theme;switch(e.use){case p.PRIMARY:var n=f(t);return Object(s.css)(["background-color:",";"],Object(m.a)(n,20));case p.SECONDARY:default:var r=f(t);return Object(s.css)(["background-color:",";"],Object(m.a)(r,95))}},j=function(e){var t=e.theme;switch(e.use){case p.PRIMARY:var n=f(t);return Object(s.css)(["background-color:",";"],Object(m.a)(n,-10));case p.SECONDARY:default:var r=f(t);return Object(s.css)(["background-color:",";"],Object(m.a)(r,90))}},v=function(e){var t,n=e.theme,r=e.use,a=e.active,i=e.hover,o=e.disabled,c=e.isSubmitting;if(o&&!c)return Object(s.css)(["background-color:",";border:none;"],Object(h.a)(n));a&&(t=j({theme:n,use:r}));i&&(t=g({theme:n,use:r}));switch(r){case p.PRIMARY:return Object(s.css)(["background-color:",";border:none;",""],f(n),t);case p.SECONDARY:default:return Object(s.css)(["background-color:transparent;border-color:",";",""],f(n),t)}},O=function(e){var t=e.theme,n=e.use,r=e.disabled,a=e.isSubmitting;if(r&&!a)return Object(s.css)(["color:",";"],Object(h.b)(t));switch(n){case p.PRIMARY:return Object(s.css)(["color:",";"],b(t));case p.SECONDARY:default:return Object(s.css)(["color:",";"],f(t))}},x=Object(s.css)(["&:hover{","}&:active{","}"],g,j),y=c.a.button.withConfig({displayName:"VizExButton__AbstractVizExButton",componentId:"pbg8jn-0"})(["flex-shrink:0;border-radius:3px;padding:",";font-size:",";line-height:16px;outline:none;transition:background-color 150ms ease-out;border-style:solid;border-width:1px;cursor:",";user-select:",";text-align:center;word-break:normal;overflow-wrap:break-word;"," "," ",";&:focus{outline:0;}"],function(e){var t=e.size;return d.b[t]},function(e){var t=e.size;return d.a[t]},function(e){return e.disabled?"not-allowed":"pointer"},function(e){return e.disabled?"none":null},O,v,function(e){return e.disabled?null:x}),C=c.a.div.withConfig({displayName:"VizExButton__NoSelect",componentId:"pbg8jn-1"})(["user-select:none;"]),w=function(e){var t=e.children,n=e.onClick,i=e.use,o=e.theme,s=e.hover,c=e.active,u=e.disabled,l=Object(r.a)(e,["children","onClick","use","theme","hover","active","disabled"]);return Object(a.jsx)(y,Object.assign({},l,{theme:o,use:i,onClick:n,hover:s,active:c,disabled:u,children:Object(a.jsx)(C,{children:t})}))};w.displayName="VizExButton";w.propTypes={active:o.a.bool,children:o.a.node,disabled:o.a.bool,hover:o.a.bool,onClick:o.a.func,size:o.a.oneOf(Object.keys(d.c)),theme:l.a,use:o.a.oneOf(Object.values(p))};w.defaultProps={use:p.SECONDARY,disabled:!1,size:u.e};t.a=w},Vsm7:function(e,t,n){var r=n("QhUm");function a(e){return r(this,e).get(e)}e.exports=a},VuFk:function(e,t,n){"use strict";var r,a,i=n("nDpY"),o=n.n(i),s=n("19qb"),c=n("vTCD"),u=n("k8Et"),l=n("mNyx"),d=n("txVw"),p=n("pGTB"),h=n("QgEn"),f=n("QYOI"),b=n("VfuR"),m=n.n(b),g=n("Ktcs"),j=n("9f1P"),v=n.n(j),O=n("0IK8"),x=n("OwGx"),y=n("eP/i"),C=n("6s0Z"),w=n("6xAP"),A=(r={},Object(x.a)(r,C.b,Object(w.a)()),Object(x.a)(r,C.a,Object(w.a)()),Object(x.a)(r,C.c,Object(w.a)({backgroundColor:y.c,borderColor:y.d})),r),k=Object(g.createContext)(A),T=n("qXlW"),I=n("3xeV"),E=n("5N4t"),R=n("0GyJ"),S=n("3CaS"),F=n("fzi9"),M=n("YM6t"),P=n("qjq5"),B=n("MJM1"),D=n("MWj0"),N="HS_EMAIL_ADDRESS",_=n("wxG8"),q="A",L="B",z="I",U="S",H="V",V="E",W=(a={},Object(x.a)(a,q,_.a),Object(x.a)(a,L,_.b),Object(x.a)(a,z,_.d),Object(x.a)(a,U,_.e),Object(x.a)(a,H,_.f),Object(x.a)(a,V,_.c),a),Q=function(e){return W[e]||null},G=(Object(B.a)(D.d),Object(B.a)(D.k),Object(B.a)(D.o),Object(B.a)(D.y)),Y=Object(B.a)(D.C),J=Object(B.a)(D.z),K=Object(B.a)(D.F),Z=Object(B.a)(D.g),X=Object(B.a)(D.h),$=Object(B.a)(D.i),ee=Object(B.a)(D.a),te=Object(B.a)(D.D),ne=Object(B.a)(D.E),re=(Object(B.a)(D.s),function(e,t){return e.reduce(function(e,n){return X(n)===t?e.push($(n)):e},Object(f.List)())}),ae=function(e,t){return e.reduce(function(e,n){return e.push.apply(e,Object(M.a)(re(Z(n),t)))},Object(f.List)())},ie=function(e,t){return G(e).filter(function(e){return J(e)===t})},oe=function(e,t){var n=Y(e);return n&&n.filter(function(e){return K(e)===t})||Object(f.List)()},se=Object(P.a)(function(e,t,n){var r=ie(n,e);return ae(r,t)}),ce=Object(P.a)(function(e,t,n){var r=oe(n,e);if(r.size){var a=r.first();return te(a)===t?ne(a):""}return""}),ue=function(e){var t=(ee(e)||"").split("-");return 2===t.length?t:[null,null]},le=function(e){var t=ue(e),n=Object(F.a)(t,1)[0];return Q(n)},de=function(e){var t=ue(e),n=Object(F.a)(t,2)[1],r=parseInt(n,10);return isNaN(r)?n:r},pe=function(e){var t=(Y(e)||Object(f.List)()).find(function(e){var t=le(e);return t!==_.c&&t!==_.e});return t&&de(t)||null},he=function(e){var t=(Y(e)||Object(f.List)()).find(function(e){return le(e)!==_.c});return t&&le(t)||null},fe=(se("TO",N),se("CC",N),se("BCC",N),ce("FROM",N),ce("ORIGINAL_FROM",N),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?pe:O.getSenderId,a=n?he:O.getSenderType;return r(e)===r(t)&&a(e)===a(t)}),be=function(e,t,n,r){return e===n&&t===r||e===r&&t===n},me=function(e,t){var n=Object(O.getType)(e),r=Object(O.getType)(t);return n===r||be(n,r,R.a,S.a)},ge=function(e){return function(t,n){var r=Object(O.getTimestamp)(t),a=Object(O.getTimestamp)(n);return Math.abs(r-a)>=e}}(6e4),je=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Object(E.a)(e)||e;t=Object(E.a)(t)||t;return fe(e,t,n)&&me(e,t)&&!ge(e,t)},ve=function(e){return Object(E.a)(e)||e},Oe=n("rCfO"),xe=n("SlUU"),ye=Object(Oe.a)(function(e,t){e=ve(e);return Object(xe.fileAttachmentIdsInMessage)(e).reduce(function(e,n){return t.has(""+n)?e.push(t.get(""+n)):e},Object(f.List)())}),Ce=n("eoCu"),we=n("3Egs"),Ae=function(e,t,n,r){var a,i=!t,o=!je(e,t),s=!r&&!je(e,n),c=!n,u=(a={},Object(x.a)(a,we.a,i),Object(x.a)(a,we.b,o),Object(x.a)(a,we.d,s),Object(x.a)(a,we.c,c),a);return Object.keys(u).reduce(function(e,t){return u[t]?e.add(t):e},Object(f.Set)())},ke=n("i2Vg"),Te=n("2rNL"),Ie=function(e,t){return!Object.keys(e).some(function(n){return"fileAttachments"===n||"positionDescriptors"===n||"senders"===n?!Object(f.is)(e[n],t[n]):e[n]!==t[n]})},Ee=Object(g.memo)(function(e){var t=e.canRestoreMessagesForThread,n=e.fileAttachments,r=e.historyConfig,a=e.message,i=e.portalId,o=e.positionDescriptors,s=e.presentSenderLocators,c=e.senders,u=e.visitorLastReadTimestamp,l=e.lastMessageId,d=e.ungatedForNewOmniChannelThreadAPI,p=Object(x.a)({},Te.a,Object(Ce.a)(a)),f=r[Object(O.getType)(a)];return f?Object(h.jsx)("div",Object.assign({},p,{children:Object(h.jsx)(f,{canRestoreMessagesForThread:t,fileAttachments:n,message:a,portalId:i,positionDescriptors:o,senders:c,presentSenderLocators:s,visitorLastReadTimestamp:u,lastMessageId:l,ungatedForNewOmniChannelThreadAPI:d})})):null},Ie);Ee.displayName="MessageHistoryItem";Ee.propTypes={canRestoreMessagesForThread:m.a.bool,fileAttachments:m.a.instanceOf(f.List),historyConfig:m.a.object.isRequired,lastMessageId:m.a.string,message:m.a.instanceOf(f.Record).isRequired,portalId:m.a.number.isRequired,positionDescriptors:ke.a.isRequired,presentSenderLocators:m.a.instanceOf(f.Set),senders:T.a,visitorLastReadTimestamp:m.a.number};Ee.defaultProps={innerRef:function(){},positionDescriptors:[]};var Re=Ee,Se=v.a.div.withConfig({displayName:"MessageHistory__ReflowElement",componentId:"pdwa73-0"})(["z-index:0;padding-top:4px;padding-left:16px;padding-right:16px;flex-shrink:0;@media screen and (max-width:900px){padding-left:8px;padding-right:8px;}"]),Fe=function(e){Object(p.a)(t,e);function t(){Object(c.a)(this,t);return Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}Object(u.a)(t,[{key:"getDontIncludeLastInGroup",value:function(e,t){var n=this.props,r=n.messages,a=n.ungatedForNewOmniChannelThreadAPI,i=r.get(t+2);return!(!i||!je(e,i,a))}},{key:"renderHistory",value:function(){var e=this,t=this.props,n=t.canRestoreMessagesForThread,r=t.fileAttachments,a=t.getAdditionalPositionDescriptors,i=t.historyConfig,o=t.lastMessageId,s=t.messages,c=t.portalId,u=t.presentSenderLocators,l=t.senders,d=t.ungatedForNewOmniChannelThreadAPI,p=t.visitorLastReadTimestamp,b=a(s);return s.map(function(t,a){var m,g=a>0?s.get(a-1):void 0,j=s.get(a+1);Object(O.getType)(j)===I.a&&(m=e.getDontIncludeLastInGroup(t,a));var v=ye(t,r),x=Ae(t,g,j,m),y=Object(O.getId)(t);x=x.merge(b.get(y,Object(f.Set)()));return Object(h.jsx)(Re,{canRestoreMessagesForThread:n,historyConfig:i,fileAttachments:v,portalId:c,positionDescriptors:x,message:t,senders:l,presentSenderLocators:u,visitorLastReadTimestamp:p,lastMessageId:o,ungatedForNewOmniChannelThreadAPI:d},Object(Ce.a)(t))})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.themeConfig;return Object(h.jsx)(Se,{className:t,children:Object(h.jsx)(k.Provider,{value:n,children:this.renderHistory()})})}}]);return t}(g.PureComponent);Fe.displayName="MessageHistory";Fe.propTypes={canRestoreMessagesForThread:m.a.bool,className:m.a.string,fileAttachments:m.a.instanceOf(f.Map),getAdditionalPositionDescriptors:m.a.func,historyConfig:m.a.object.isRequired,lastMessageId:m.a.string,messages:m.a.instanceOf(f.List),portalId:m.a.number.isRequired,presentSenderLocators:m.a.instanceOf(f.Set),senders:T.a,themeConfig:m.a.object,ungatedForNewOmniChannelThreadAPI:m.a.bool,visitorLastReadTimestamp:m.a.number};Fe.defaultProps={canRestoreMessagesForThread:!1,getAdditionalPositionDescriptors:function(){return Object(f.Map)()},fileAttachments:Object(f.Map)(),preventAutoscroll:!1,presentSenderLocators:Object(f.Set)(),scrollContainerToBottom:function(){},displayEmailDeleteBanner:!1,ungatedForNewOmniChannelThreadAPI:!1};var Me=Fe,Pe=n("mKxs"),Be=n("CnAB"),De=Object(g.memo)(function(e){var t=e.themeConfig,n=e.children;return Object(h.jsx)(Be.a.Provider,{value:t,children:n})});De.displayName="ThemeConfigProvider";De.propTypes={children:m.a.node.isRequired,themeConfig:m.a.objectOf(Object(Pe.a)("Theme"))};var Ne=De,_e=n("T25L").a,qe=n("5SRO"),Le=n("Pda3"),ze=n("E6wg"),Ue=n("HiOC"),He=n("OoDT"),Ve=n("3oj9"),We=n("ZSXR"),Qe=n("eEyY"),Ge=n("gALC"),Ye=function(e){var t=Object(We.a)(e);return{isLoadingHistory:Object(Le.isStarted)(t),loadingHistoryFailed:Object(Le.isFailed)(t),sessionId:Object(ze.getSessionId)(e),threadHistory:Object(Ve.a)(e),threadId:Object(Qe.getCurrentThreadId)(e),isOnFocus:Object(Ge.a)(e)}},Je={fetchThreadHistory:Ue.fetchThreadHistory},Ke=Object(s.connect)(Ye,Je)(He.a),Ze=n("Fjoq"),Xe=Object(f.Record)({tileBackgroundColor:"rgba(255, 255, 255, 0.5)"},"FileAttachmentTheme"),$e=n("xzMr"),et=n("iDVC"),tt=Xe({tileBackgroundColor:y.j}),nt=function(e){var t,n=e.coloring;return t={},Object(x.a)(t,C.b,Object(et.a)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:tt})),Object(x.a)(t,C.a,Object(et.a)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:tt,widgetAccent:Object(Ze.c)(n)?y.k:Object(Ze.a)(n),quickReplyTheme:Object($e.a)({borderColor:Object(Ze.c)(n)?y.h:Object(Ze.a)(n),color:Object(Ze.c)(n)?y.k:Object(Ze.b)(n)})})),Object(x.a)(t,C.c,Object(et.a)({alignItems:"flex-end",backgroundColor:Object(Ze.c)(n)?y.l:Object(Ze.a)(n),borderColor:"rgba(0, 0, 0, 0.2)",borderRadius:"8px 0px 8px 8px",borderWidth:"0px",textColor:Object(Ze.c)(n)?y.k:Object(Ze.b)(n),fileAttachmentTheme:tt,widgetAccent:Object(Ze.c)(n)?y.k:Object(Ze.a)(n)})),t},rt=n("sl/w"),at=n("gFbD"),it=n("LRQi"),ot=v.a.div.withConfig({displayName:"NewThreadPrompt__NewThreadpromptContainer",componentId:"gvh43c-0"})(["padding:32px 20px 12px 20px;text-align:center;width:100%;"]);function st(e){var t=e.createNewThread;return Object(h.jsx)(at.a,{children:function(e){return Object(h.jsxs)(ot,{children:[Object(h.jsx)("p",{className:"m-bottom-0",children:Object(h.jsx)(rt.a,{message:"conversations-visitor-ui.newThreadPrompt.newHeading",options:{locale:e}})}),Object(h.jsx)(it.a,{"data-test-id":"visitor-widget-start-new-thread-button",onClick:t,children:Object(h.jsx)(rt.a,{message:"conversations-visitor-ui.newThreadPrompt.newButton",options:{locale:e}})})]})}})}st.propTypes={createNewThread:m.a.func.isRequired};st.displayName="NewThreadPrompt";var ct=st,ut=n("uxYb"),lt=n("AQmo"),dt=function(e){return{accentColor:Object(Ze.a)(Object(lt.a)(e))}},pt={createNewThread:ut.a},ht=Object(s.connect)(dt,pt)(ct),ft=function(e){Object(p.a)(t,e);function t(){Object(c.a)(this,t);return Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.coloring,n=e.fileAttachments,r=e.messagesList,a=e.portalId,i=e.senders,o=e.shouldRenderNewThreadPrompt;return Object(h.jsx)(Ke,{messageCount:_e(r),shouldScrollToBottom:o,children:Object(h.jsxs)(Ne,{themeConfig:nt({coloring:t}),children:[Object(h.jsx)(Me,{fileAttachments:n,historyConfig:qe.a,messages:r,portalId:a,senders:i}),o&&Object(h.jsx)(ht,{})]})})}}]);return t}(g.Component);ft.propTypes={coloring:Object(Pe.a)("ColoringRecord").isRequired,fileAttachments:m.a.instanceOf(f.Map).isRequired,messagesList:m.a.instanceOf(f.List),portalId:m.a.number.isRequired,senders:m.a.instanceOf(f.Map).isRequired,shouldRenderNewThreadPrompt:m.a.bool.isRequired};ft.displayName="ThreadHistory";var bt=ft,mt=n("dJw2"),gt=n("f8gn"),jt=n("TXBG"),vt=n("eCQl"),Ot=n("YibP"),xt=function(e){var t;try{t=Object(mt.a)(e)}catch(e){Object(vt.reportError)({error:Object(Ot.a)("ConnectedChatHistoryGetMessagesList selector threw: "+e.message,e)});throw e}return{coloring:Object(lt.a)(e),fileAttachments:Object(jt.a)(e),messagesList:t,portalId:o.a.get(),senders:Object(gt.a)(e)}},yt={};t.a=Object(s.connect)(xt,yt)(bt)},Vv6d:function(e,t,n){"use strict";var r=n("fFSu"),a=n("QgEn"),i=n("VfuR"),o=n.n(i),s=n("9f1P"),c=n.n(s),u=n("0wDu").h,l=n("NrIs"),d=c.a.div.withConfig({displayName:"VizExNanoProgress__Bar",componentId:"sc-1yigvr-0"})(["transition:width 0.2s ease-in-out;left:0;position:absolute;top:0;opacity:",";width:",";height:3px;z-index:",";background-color:",";"],function(e){return 0===e.value?0:1},function(e){return e.value+"%"},function(e){return e.zIndex},function(e){var t=e.theme;return u(t)}),p=function(e){var t=e.zIndex,n=e.value,i=e.theme,o=Object(r.a)(e,["zIndex","value","theme"]);return Object(a.jsx)(d,Object.assign({},o,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":n,role:"progressbar",zIndex:t,value:n,theme:i}))};p.propTypes={theme:l.a,value:o.a.number,zIndex:o.a.number};p.defaultProps={zIndex:10,value:0};p.displayName="VizExNanoProgress";t.a=p},WdXK:function(e,t,n){"use strict";n.r(t);var r=n("wxG8"),a=n("QYOI"),i=Object(a.Record)({senderId:null,senderType:null},"SenderLocator");n.d(t,"buildSenderLocator",function(){return s});var o=[r.a,r.b,r.e,r.f,r.d],s=function(e,t){o.includes(e)||console.warn("buildSenderLocator recevied invalid sender type "+e+" expected one of: "+o);return e===r.f?i({senderType:r.f}):i({senderType:e,senderId:t?""+t:null})}},WmGg:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("jUDo"),a=n("PTMU"),i=n("rCfO"),o=Object(i.a)(function(e){return Object(r.a)(e,a.a.TEXTONLY)})},Wnz4:function(e,t,n){"use strict";n.r(t);n.d(t,"attachmentError",function(){return i});var r=n("Ut5p"),a=n("FDs6"),i=Object(r.b)(a.a,function(e,t){return{error:e,threadId:t}})},Wzl7:function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("pGTB"),c=n("QgEn"),u=n("VfuR"),l=n.n(u),d=n("Ktcs"),p=n("7A+m"),h=n("VuFk"),f=n("19qb"),b=n("k09d"),m=n("G0nr"),g=n("Ux+X"),j=n("mKxs"),v=n("Zn4N"),O=n("FC+o"),x=n("evgc"),y=n("E7sj"),C=n.n(y),w=n("sl/w"),A=n("/EZN"),k=n("LRQi"),T=n("fFSu"),I=n("L0DB"),E=n("9f1P"),R=n.n(E).a.input.withConfig({displayName:"VizExFileButton__FilePickerInput",componentId:"sc-85ix3o-0"})(["display:none;"]),S=function(e){var t=e.children,n=e.multiple,r=e.accept,a=e.onChange,i=e.onClick,o=Object(T.a)(e,["children","multiple","accept","onChange","onClick"]),s=Object(d.useRef)(),u=function(e){s.current.click();Object(I.a)(i,e)};return Object(c.jsxs)(d.Fragment,{children:[t({onClick:u}),Object(c.jsx)(R,Object.assign({},o,{ref:s,type:"file",accept:r.join(","),multiple:n,onChange:a}))]})};S.displayName="VizExFileButton";S.defaultProps={accept:[]};S.propTypes={accept:l.a.arrayOf(l.a.string),children:l.a.func.isRequired,multiple:l.a.bool,onChange:l.a.func,onClick:l.a.func};var F=S,M=function(e){return Object(c.jsx)(F,{accept:A.a,use:"unstyled",onClick:e.onClick,onChange:e.onChange,children:function(t){return Object(c.jsx)(k.a,Object.assign({use:"on-bright"},t,{children:e.children}))}})};M.displayName="FilePickerLink";M.propTypes={children:l.a.node.isRequired,onChange:l.a.func.isRequired,onClick:l.a.func};var P=M,B=n("kSDi"),D=n("BnUr"),N=function(e){var t=e.attachmentsError,n=e.dismissAttachmentsError,r=e.selectAttachmentFile,a=e.thread,i=e.trackInteraction,o=function(){n({threadId:Object(D.getThreadId)(a)})},s=function(e){var t=e.target.files;if(t&&t.length){var n=t.item(0);r({file:n,thread:a})}},u=function(){i("retry-attachment-upload",{action:"retry attachment upload"})},l=function(){switch(t){case v.b:return Object(c.jsx)(w.a,{message:"cvVisitorUIAttachments.errors.fileSizeExceeded",options:{maxSize:C.a.formatSize(B.b)}});case v.c:return Object(c.jsx)(w.a,{message:"cvVisitorUIAttachments.errors.uploadError"});case v.a:return Object(c.jsx)(w.a,{message:"cvVisitorUIAttachments.errors.invalidFileType"});default:return null}}();return Object(c.jsx)(x.a,{title:l,onClose:o,link:Object(c.jsx)(P,{onChange:s,onClick:u,children:Object(c.jsx)(w.a,{message:"cvVisitorUIAttachments.tryAgain"})})})};N.displayName="AttachmentErrorAlerts";N.propTypes={attachmentsError:l.a.oneOf([v.b,v.c,v.a]),dismissAttachmentsError:l.a.func.isRequired,selectAttachmentFile:l.a.func.isRequired,thread:Object(j.a)("Thread").isRequired,trackInteraction:l.a.func.isRequired};var _=N,q=n("YM6t"),L=n("fzi9"),z=function(e){var t=e.createNewThread,n=e.fetchOlderThreadHistory,r=e.networkError,a=e.startPubSub,i=e.resubscribe,o=Object(d.useState)([]),s=Object(L.a)(o,2),u=s[0],l=s[1],p=function(){l([].concat(Object(q.a)(u),[r]))};if(u.includes(r))return null;var h=function(){switch(r){case O.b:case O.c:case O.d:return Object(c.jsx)(w.a,{message:"conversations-visitor-ui.network.offline.title"});case O.e:return Object(c.jsx)(w.a,{message:"conversations-visitor-ui.network.pubSubFailure.title"});case O.a:return Object(c.jsx)(w.a,{message:"conversations-visitor-ui.network.newThreadFailure.title"});default:return null}}(),f=function(){switch(r){case O.e:return Object(c.jsx)(k.a,{use:"on-bright",onClick:n,children:Object(c.jsx)(w.a,{message:"conversations-visitor-ui.network.pubSubFailure.retry"})});case O.a:return Object(c.jsx)(k.a,{use:"on-bright",onClick:t,children:Object(c.jsx)(w.a,{message:"conversations-visitor-ui.network.pubSubFailure.retry"})});case O.d:return Object(c.jsx)(k.a,{use:"on-bright",onClick:i,children:Object(c.jsx)(w.a,{message:"conversations-visitor-ui.network.pubSubFailure.retry"})});case O.c:return Object(c.jsx)(k.a,{use:"on-bright",onClick:a,children:Object(c.jsx)(w.a,{message:"conversations-visitor-ui.network.pubSubFailure.retry"})});default:return null}}();return Object(c.jsx)(x.a,{title:h,onClose:p,link:f})};z.displayName="NetworkErrorAlerts";z.propTypes={createNewThread:l.a.func.isRequired,fetchOlderThreadHistory:l.a.func.isRequired,networkError:l.a.oneOf([O.b,O.e,O.a,O.c,O.d]).isRequired,resubscribe:l.a.func.isRequired,startPubSub:l.a.func.isRequired};var U=z,H=function(e){Object(s.a)(t,e);function t(){Object(r.a)(this,t);return Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.attachmentsError,n=e.createNewThread,r=e.dismissAttachmentsError,a=e.fetchOlderThreadHistory,i=e.networkError,o=e.resubscribe,s=e.selectAttachmentFile,u=e.startPubSub,l=e.thread,d=e.trackInteraction;return t?Object(c.jsx)(_,{attachmentsError:t,dismissAttachmentsError:r,selectAttachmentFile:s,thread:l,trackInteraction:d}):i?Object(c.jsx)(U,{createNewThread:n,fetchOlderThreadHistory:a,networkError:i,resubscribe:o,startPubSub:u}):null}}]);return t}(d.Component);H.displayName="ChatAreaAlertContainer";H.propTypes={attachmentsError:l.a.oneOf([v.b,v.c,v.a]),createNewThread:l.a.func.isRequired,dismissAttachmentsError:l.a.func.isRequired,fetchOlderThreadHistory:l.a.func.isRequired,networkError:l.a.oneOf([O.b,O.e,O.a,O.c,O.d]),resubscribe:l.a.func.isRequired,selectAttachmentFile:l.a.func.isRequired,startPubSub:l.a.func.isRequired,thread:Object(j.a)("Thread").isRequired,trackInteraction:l.a.func.isRequired};var V=H,W=n("GkNN"),Q=n("lRdY"),G=n("V2EP"),Y=n("r0yA"),J=n("NpZo"),K=n("E6wg"),Z=n("Xcjc"),X=n("J4oD"),$=n("HiOC"),ee=n("021p"),te=function(){return function(e,t){var n=t(),r=Object(K.getSessionId)(n),a=Object(J.getSelectedThreadId)(n);if(null!==a&&a!==Z.a){var i=Object(b.a)(n),o=Object(X.historyDataForThread)(n,{thread:i}),s=Object(ee.c)(o),c=Object(ee.d)(o);e(Object($.fetchThreadHistory)({offsetOrdinal:s,offsetTimestamp:c,threadId:a,sessionId:r}))}}},ne=n("5rZi"),re=n("8HpB"),ae=function(e,t){var n=t.thread;return{attachmentsError:Object(W.a)(e,{thread:n}),networkError:Object(Y.a)(e)}},ie={createNewThread:ne.createNewThread,dismissAttachmentsError:Q.a,fetchOlderThreadHistory:te,selectAttachmentFile:G.a,trackInteraction:g.trackInteraction,startPubSub:re.startPubSub,resubscribe:m.resubscribe},oe=Object(f.connect)(ae,ie)(V),se=function(e){return{thread:Object(b.a)(e)}},ce=Object(f.connect)(se)(oe),ue=n("Qf6G"),le=n("/Dz0"),de=n("MBJP"),pe=n("647q"),he=n("ZqFO"),fe=Object(de.a)([pe.getLatestWidgetData],function(e){return Object(he.d)(e)}),be=n("lOT2"),me=n("8M+t"),ge=n("AQmo"),je=n("JGJA"),ve=Object(je.a)("gdpr"),Oe=Object(de.a)([ve],Object(je.a)("consentToProcessError")),xe=function(e){return{consentToProcessMessage:fe(e),showGdprConsentToProcessButton:Object(be.a)(e),coloring:Object(ge.a)(e),consentToProcessError:Oe(e)}},ye={consentToProcess:ue.consentToProcess,dismissConsentToProcessError:le.b,trackInteraction:g.trackInteraction},Ce=Object(f.connect)(xe,ye)(me.a),we=n("Isoj"),Ae=n("NfVS"),ke=n("eP/i"),Te=n("monH"),Ie=n("T77c"),Ee=function(e){var t=e.ariaLabel,n=e.children,r=e.onClick,a=e.href;a||(a=void 0);return Object(c.jsx)(k.a,{theme:Object(Te.a)(Object(Ie.e)(ke.m)),onClick:r,href:a,external:!0,"aria-label":t,children:n})};Ee.propTypes={ariaLabel:l.a.string,children:l.a.node.isRequired,href:l.a.string,onClick:l.a.func};Ee.defaultProps={href:"",onClick:function(){}};Ee.displayName="BrandingLink";var Re=Ee,Se=n("7LhL"),Fe=function(e){return Object(c.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24"},e,{children:[Object(c.jsx)("defs",{children:Object(c.jsx)("path",{d:"M17 16c-1.38 0-2.5-1.12-2.5-2.5S15.62 11 17 11s2.5 1.12 2.5 2.5S18.38 16 17 16m.906-8.43V4.832c.716-.338 1.218-1.061 1.218-1.9v-.064c0-1.158-.95-2.105-2.11-2.105h-.064c-1.161 0-2.111.947-2.111 2.105v.064c0 .839.503 1.562 1.219 1.9V7.57c-1.067.164-2.042.603-2.846 1.249L5.676 2.97c.05-.191.085-.387.085-.594C5.762 1.067 4.698.001 3.384 0 2.069-.001 1 1.06 1 2.372.998 3.683 2.063 4.748 3.378 4.75c.428 0 .825-.121 1.172-.318l7.413 5.753c-.63.95-1 2.087-1 3.311 0 1.282.406 2.467 1.093 3.443L9.8 19.188c-.178-.053-.363-.091-.56-.091-1.08 0-1.956.874-1.956 1.952 0 1.078.876 1.951 1.956 1.951 1.081 0 1.957-.873 1.957-1.95 0-.196-.038-.381-.091-.559l2.23-2.225c1.012.772 2.273 1.235 3.645 1.235 3.324 0 6.018-2.69 6.018-6.005 0-3.002-2.21-5.482-5.094-5.926",id:"sprocket__a"})}),Object(c.jsx)("use",{xlinkHref:"#sprocket__a",fillRule:"evenodd"})]}))};Fe.displayName="SVGSprocket";var Me=Fe,Pe=n("Y8MA"),Be=n("fzij"),De=function(e){Object(s.a)(t,e);function t(){Object(r.a)(this,t);return Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.liveChatHref,n=e.onLinkClick;return Object(c.jsxs)("div",{className:"m-bottom-2 align-center justify-center",children:[Object(c.jsx)(Se.a,{theme:Object(Te.a)(Object(Pe.b)(ke.m)),icon:Object(c.jsx)(Me,{}),className:"m-right-1"}),Object(c.jsx)(Be.a,{use:"help",children:Object(c.jsx)(Ae.a,{message:"conversations-visitor-experience-components.chatArea.branding_jsx",elements:{Link:Re},options:{ariaLabel:C.a.text("conversations-visitor-experience-components.chatArea.brandingAriaLabel"),href:t,onClick:n}})})]})}}]);return t}(d.PureComponent);De.propTypes={liveChatHref:l.a.string,onLinkClick:l.a.func};De.displayName="WidgetBranding";var Ne=De,_e=n("JWyW"),qe=n("jxkM"),Le=function(e){return{liveChatHref:Object(_e.a)(e),onLinkClick:qe.clickedViralLink}},ze=Object(f.connect)(Le)(Ne),Ue=n("QmIQ"),He=1e3,Ve=function(e){Object(s.a)(t,e);function t(e){var n;Object(r.a)(this,t);(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={renderNewThreadPrompt:!e.isThreadStarted};return n}Object(a.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.isThreadStarted,a=n.toggleOnAndOffInputFocus,i=e.isThreadStarted;r||r===i||setTimeout(function(){t.setRenderNewThreadPromptTrue();a(!1)},He);r&&this.state.renderNewThreadPrompt&&this.setRenderNewThreadPromptFalse()}},{key:"setRenderNewThreadPromptTrue",value:function(){this.setState({renderNewThreadPrompt:!0})}},{key:"setRenderNewThreadPromptFalse",value:function(){this.setState({renderNewThreadPrompt:!1})}},{key:"renderMessageEditor",value:function(){var e=this.props,t=e.requiresExplicitConsentToProcess,n=e.renderCookieConsentPrompt,r=this.state.renderNewThreadPrompt;return t||n||r?null:Object(c.jsxs)(d.Fragment,{children:[Object(c.jsx)(ce,{}),Object(c.jsx)(p.a,{})]})}},{key:"renderError",value:function(){var e=Object(c.jsx)(w.a,{message:"conversations-visitor-ui.network.pubSubFailure.title"});return Object(c.jsx)(x.a,{title:e,onClose:function(){}})}},{key:"render",value:function(){var e=this.props,t=e.showingGdprProcess,n=e.showingHsBranding,r=e.renderCookieConsentPrompt,a=this.state.renderNewThreadPrompt;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ue.a,{renderError:this.renderError,errorLoggingTitle:"ConnectedThreadHistory",children:Object(c.jsx)(h.a,{shouldRenderNewThreadPrompt:a})}),r&&Object(c.jsx)(we.a,{}),t&&!r&&Object(c.jsx)(Ce,{}),this.renderMessageEditor(),n&&Object(c.jsx)(ze,{})]})}}]);return t}(d.PureComponent);Ve.displayName="UnifiedThreadView";Ve.propTypes={isThreadStarted:l.a.bool.isRequired,renderCookieConsentPrompt:l.a.bool.isRequired,requiresExplicitConsentToProcess:l.a.bool.isRequired,showingGdprProcess:l.a.bool.isRequired,showingHsBranding:l.a.bool.isRequired,toggleOnAndOffInputFocus:l.a.func.isRequired};t.a=Ve},XXaZ:function(e,t,n){var r=n("uQvf"),a=Object.prototype.hasOwnProperty;function i(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}e.exports=i},XiSY:function(e,t,n){var r=n("3FHW"),a=n("bwj0"),i=n("kmmH"),o=n("QVIP"),s=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,d=u.toString,p=l.hasOwnProperty,h=RegExp("^"+d.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(e){return!(!i(e)||a(e))&&(r(e)?h:c).test(o(e))}e.exports=f},Z6IV:function(e,t,n){"use strict";n.r(t);n.d(t,"isSupportedMessageType",function(){return l});var r=n("U+Gd"),a=n("bCG+"),i=n("5N4t"),o=n("/rM/"),s=n("5SRO"),c=n("0IK8"),u=n("wxG8"),l=function(e){if(e instanceof r.a||e instanceof a.a){e=Object(i.a)(e);if(Object(c.getSenderType)(e)!==u.f)return!1}if(Object(o.a)(e))return!1;var t=Object(c.getType)(e);return Object.keys(s.a).some(function(e){return e===t})}},ZAuv:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("OwGx"),a=n("oawp"),i=n("BnUr"),o=n("nS6h"),s=n("0sif"),c=n("+Q4j"),u=n("IhEF"),l=n("B/8b"),d=n("v0wH"),p=n("CdQ/"),h=function(e){var t=e.thread;return function(e){var n=Object(i.getChannelName)(t),h=Object(i.getThreadId)(t),f=a.VISITOR_SENDER,b=Object(l.a)(f),m=Object(p.getMessagesUtk)(),g=new s.a({id:Object(u.generateUuid)(),typingState:null,sender:Object(r.a)({"@type":f},b,m),status:{source:c.a,messageStatus:d.b}});e(Object(o.publishMessageToConversation)({channel:n,message:g,threadId:h}))}}},Zn4N:function(e,t,n){"use strict";n.d(t,"b",function(){return r});n.d(t,"c",function(){return a});n.d(t,"a",function(){return i});var r="SIZE_LIMIT_EXCEEDED",a="UPLOAD_ERROR",i="INVALID_FILE_TYPE"},"b+5w":function(e,t,n){"use strict";"use es6";function r(){var e,t;return{promise:new Promise(function(n,r){t=n;e=r}),reject:e,resolve:t}}t.a=r},bOW6:function(e,t,n){"use strict";n.r(t);n.d(t,"wrapFailedMessage",function(){return c});var r=n("v0wH"),a=n("0IK8"),i=n("C3IS"),o=n("bCG+"),s=n("qjq5"),c=Object(s.a)(function(e,t){var n=e.threadId,s=e.channel,c=e.allowRetry,u=void 0===c||c;return Object(i.b)(t)&&Object(a.getStatusForCmf)(t)===r.a?Object(o.a)({message:t,threadId:n,channel:s,allowRetry:u}):t})},bwj0:function(e,t,n){var r,a=n("DOHQ"),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";function o(e){return!!i&&i in e}e.exports=o},byjC:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("MBJP"),a=n("k8Ub"),i=n("C3IS"),o=n("V+nC"),s=n("J4oD"),c=n("kWFB"),u=n("iPDb"),l=Object(r.a)(s.historyDataForThread,function(e){if(!e||!Object(c.hasMessages)(e))return!1;var t=Object(u.a)(e).filter(function(e){return Object(i.b)(e)&&!Object(i.c)(e)||Object(o.a)(e)}).last();return Boolean(Object(a.a)(t))})},ccWV:function(e,t,n){var r=n("LPlp"),a=Array.prototype.splice;function i(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;n==t.length-1?t.pop():a.call(t,n,1);--this.size;return!0}e.exports=i},d1Q1:function(e,t,n){var r=n("5els"),a=n("p1fP"),i=n("Vsm7"),o=n("wID2"),s=n("BB3q");function c(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r;c.prototype.delete=a;c.prototype.get=i;c.prototype.has=o;c.prototype.set=s;e.exports=c},dJw2:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("yynV"),a=n("MBJP"),i=n("5SRO"),o=n("4nf7"),s=!1,c=Object(a.a)([o.a],function(e){return Object(r.insertDatesIntoMessageList)(e,i.a,s)})},dZ2B:function(e,t,n){"use strict";n.r(t);n.d(t,"getUserTimezone",function(){return i});var r=function(e){return(e>0)-(e<0)||+e},a=function(e){return e>=10?e:"0"+e},i=function(){var e=(new Date).getTimezoneOffset(),t=r(e),n=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),o=a(n)+":"+a(i);return t>0?"-"+o:"+"+o}},dz5W:function(e,t,n){"use strict";var r=n("fFSu"),a=n("QgEn"),i=n("9f1P"),o=n.n(i),s=n("0wDu"),c=s.b,u=s.a,l=s.i,d=function(){return"#f5f8fa"},p=function(){return"#eaf0f6"},h=n("VfuR"),f=n.n(h),b=n("NrIs"),m=function(e){var t=e.theme;return Object(i.css)(["color:",";background-color:",";"],c(t),u(t))},g=o.a.div.withConfig({displayName:"VizExFileAttachment__AttachmentWrapper",componentId:"uezfef-0"})(["display:flex;font-size:12px;padding:12px;padding-right:32px;border-radius:3px;position:relative;max-width:100%;flex-direction:row;background-color:",";border:1px solid ",";color:",";",";"],function(e){var t=e.theme;return d(t)},function(e){var t=e.theme;return p(t)},function(e){var t=e.theme;return l(t)},function(e){return e.processing&&m(e)}),j=o.a.div.withConfig({displayName:"VizExFileAttachment__ContentWrapper",componentId:"uezfef-1"})(["display:flex;position:relative;max-width:100%;> *:nth-child(2){padding-left:12px;}"]),v=o.a.div.withConfig({displayName:"VizExFileAttachment__PreviewWrapper",componentId:"uezfef-2"})(["overflow-y:hidden;overflow-x:hidden;align-items:center;display:flex;flex-basis:auto;justify-content:center;flex-shrink:0;font-size:32px;max-height:32px;width:32px;"]),O=o.a.div.withConfig({displayName:"VizExFileAttachment__FileInfoWrapper",componentId:"uezfef-3"})(["flex-grow:1;flex-shrink:0;flex-basis:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;@media all and (-ms-high-contrast:none){flex-basis:auto;max-width:100%;padding-right:12px;}"]),x=o.a.b.withConfig({displayName:"VizExFileAttachment__FileName",componentId:"uezfef-4"})(["font-weight:600;font-size:12px;line-height:12px;"]),y=o.a.div.withConfig({displayName:"VizExFileAttachment__FileInfo",componentId:"uezfef-5"})(["font-size:12px;line-height:12px;"]),C=function(e){var t=e.processing,n=e.preview,i=e.fileName,o=e.fileInfo,s=e.children,c=e.theme,u=Object(r.a)(e,["processing","preview","fileName","fileInfo","children","theme"]);return Object(a.jsxs)(g,Object.assign({},u,{theme:c,processing:t,children:[s,Object(a.jsxs)(j,{children:[n&&Object(a.jsx)(v,{children:n}),Object(a.jsxs)(O,{children:[Object(a.jsx)(x,{children:i}),Object(a.jsx)(y,{children:o})]})]})]}))};C.propTypes={children:f.a.node,fileInfo:f.a.node,fileName:f.a.node,preview:f.a.node,processing:f.a.bool,theme:b.a};C.displayName="VizExFileAttachment";t.a=C},"eg+O":function(e,t,n){"use strict";n.r(t);n.d(t,"fileExceedsSizeLimit",function(){return a});var r=n("kSDi"),a=function(e){return e.size>r.b}},eoCu:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("MJM1"),a=function(e){return Object(r.a)(["id"],e)||Object(r.a)(["message","id"],e)||-1}},evgc:function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("pGTB"),c=n("QgEn"),u=n("VfuR"),l=n.n(u),d=n("Ktcs"),p=n("9f1P"),h=n.n(p),f=n("A5YI"),b=n("7LhL"),m=n("FT84"),g=n("monH"),j=n("soAR"),v=n("eP/i"),O=h.a.div.withConfig({displayName:"ChatAreaAlert__Wrapper",componentId:"sc-3g4i09-0"})(["width:100%;display:flex;justify-content:center;background-color:transparent;"]),x=h.a.div.withConfig({displayName:"ChatAreaAlert__Alert",componentId:"sc-3g4i09-1"})(["display:flex;justify-content:flex-end;align-items:center;padding:7px 14px;min-width:85%;background-color:",";border:1px solid ",";font-weight:500;font-size:12px;"],v.n,v.o),y=h.a.div.withConfig({displayName:"ChatAreaAlert__Title",componentId:"sc-3g4i09-2"})(["flex:0 1 100%;"]),C=h.a.div.withConfig({displayName:"ChatAreaAlert__LinkWrapper",componentId:"sc-3g4i09-3"})(["flex:0 0 auto;"]),w=h()(f.a).withConfig({displayName:"ChatAreaAlert__StyledCloseButton",componentId:"sc-3g4i09-4"})(["position:static;flex:0 0 12px;margin-left:20px;"]),A=function(e){Object(s.a)(t,e);function t(){Object(r.a)(this,t);return Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}Object(a.a)(t,[{key:"render",value:function(){return Object(c.jsx)(O,{children:Object(c.jsxs)(x,{children:[Object(c.jsx)(y,{children:this.props.title}),Object(c.jsx)(C,{children:this.props.link}),Object(c.jsx)(w,{use:"transparent-on-background",theme:Object(j.i)(v.p,Object(g.a)()),onClick:this.props.onClose,children:Object(c.jsx)(b.a,{icon:Object(c.jsx)(m.a,{})})})]})})}}]);return t}(d.Component);A.propTypes={link:l.a.node,onClose:l.a.func.isRequired,title:l.a.node.isRequired};A.defaultProps={onClose:function(){}};A.displayName="ChatAreaAlert";t.a=A},f8gn:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("OwGx"),a=n("MZef"),i=n("N7dr"),o=n("KXN9"),s=n("x1JE"),c=n("QYOI"),u=n("MBJP"),l=n("g4ag"),d=n("fl6v"),p=n("8FuJ"),h=n("BYz9"),f=Object(u.a)([d.getResponders],function(e){return Object(s.getEntries)(e).reduce(function(e,t,n){var s,c=Object(o.a)(t);return Object(l.a)([Object(h.a)(n)],Object(a.a)((s={},Object(r.a)(s,i.a,c?Object(p.a)(c):null),Object(r.a)(s,i.c,Object(o.c)(t)),s)),e)},Object(c.Map)())})},fzij:function(e,t,n){"use strict";var r=n("9f1P"),a=n.n(r),i=n("0wDu"),o="help",s="default",c="error",u=n("tnBd"),l=function(e){var t=e.use,n=e.theme;switch(t){case c:return Object(r.css)(["color:",";"],Object(i.c)(n));case o:return Object(r.css)(["color:",";"],Object(i.d)(n));case s:default:return null}},d=a.a.small.withConfig({displayName:"VizExSmall",componentId:"v8g5jt-0"})(["display:block;",";",";"],u.b,l);t.a=d},gD8A:function(e,t,n){"use strict";n.r(t);n.d(t,"updateVisitorContext",function(){return a});var r=n("VYoM");function a(e){var t=e.currentUrl,n=e.sessionId,a=e.threadId;return r.a.put("livechat-public/v1/thread/visitor/"+a+"/currentUrl",{query:{sessionId:n,threadId:a},data:{currentUrl:t}})}},gygH:function(e,t,n){"use strict";n.r(t);n.d(t,"handleAttachmentUploadProgress",function(){return i});var r=n("kSDi"),a=n("qgyf"),i=function(e){var t=e.localId,n=e.threadId,i=e.loaded,o=e.total;return function(e){var s=i/o*r.c;e(Object(a.attachmentUploadProgress)({localId:t,threadId:n,progress:s}))}}},hUip:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("rCfO"),a=n("PTMU"),i=n("eP/i"),o=n("E7sj"),s=n.n(o),c=/\S*cdn2\.hubspot(qa)?\.net\S*\/thumb\.[a-zA-Z]+$/,u=/\/thumb\.[a-zA-Z]+$/,l=/data:/,d=Object(r.a)(function(e){return c.test(e)}),p=Object(r.a)(function(e){return l.test(e)}),h=function(e){return"\n  border: 1px solid "+i.a+";\n  justify-content: center;\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  height: "+(e?e+"px":"auto")+";\n  width: 100%;\n"},f=Object(r.a)(function(e){return'<h3 style="'+h(e)+'">'+s.a.text("sanitizedEmail.imageError")+"</h3>\n  "}),b=function(e){var t=e.node,n=e.node_name;if(t&&"img"===n&&t.attributes){var r=t.getAttribute("src");if(p(r)&&r.length>2e3){var i=t.getAttribute("height"),o=a.b.createElement("div");o.innerHTML=f(i);return{node:o}}d(r)&&t.setAttribute("src",r.replace(u,""));t.attributes["data-original-width"]&&t.setAttribute("width",t.attributes["data-original-width"].value);t.attributes["data-original-height"]&&t.setAttribute("height",t.attributes["data-original-height"].value);return{node:t}}return null}},i2Vg:function(e,t,n){"use strict";var r=n("VfuR"),a=n.n(r),i=n("9C7g");t.a=Object(i.setOf)(a.a.string)},iBzU:function(e,t,n){"use strict";var r=n("OwpT"),a=n.n(r),i=function(e){var t,n=!1;return function(){if(!n){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t=e.apply(this,a);n=!0}return t}};t.a={get:i(function(){return new a.a({stripPrefix:!1})}),getTwitter:i(function(){return new a.a({hashtag:"twitter",mention:"twitter",stripPrefix:!1})})}},iDVC:function(e,t,n){"use strict";var r=n("rkqN"),a=n("eP/i"),i=n("QYOI"),o=n("xzMr"),s=Object(i.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:a.l,borderColor:a.a,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:a.k,fileAttachmentTheme:Object(r.a)(),quickReplyTheme:Object(o.a)(),widgetAccent:a.k},"Theme");t.a=s},iao3:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("sZZm"),a=n("tek+"),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(r.postExternalApiEvent)({eventType:a.d,payload:{visitorMessageData:e,isEmptyInput:t}})}},iu1j:function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("pGTB"),c=n("QgEn"),u=n("VfuR"),l=n.n(u),d=n("Ktcs"),p=n("E7sj"),h=n.n(p),f=n("sl/w"),b=n("OI0Z"),m=["PNG","GIF","JPEG","JPG"],g=function(e){var t=e.name.split("."),n=t[t.length-1]||"";return-1!==m.indexOf(n.toUpperCase())},j=n("A3yT"),v=function(e){var t=Object(j.getFile)(e),n=Object(j.getUploadProgress)(e);return t&&n?n/100*t.size:0},O=n("CPwH"),x=n("PzWr"),y=n("xYYH"),C=n("n8e+"),w=function(e){Object(s.a)(t,e);function t(e){var n;Object(r.a)(this,t);(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={imageDataUrl:""};return n}Object(a.a)(t,[{key:"componentDidMount",value:function(){this.processImageFile(this.props.imageFile)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.imageFile!==this.props.imageFile&&this.processImageFile(e.imageFile)}},{key:"shouldComponentUpdate",value:function(e,t){return t.imageDataUrl!==this.state.imageDataUrl}},{key:"processImageFile",value:function(e){var t=this,n=new FileReader;n.addEventListener("load",function(){t.setState({imageDataUrl:n.result})});n.readAsDataURL(e)}},{key:"render",value:function(){return Object(c.jsx)(C.a,{src:this.state.imageDataUrl})}}]);return t}(d.Component);w.displayName="ImageAttachmentPreview";w.propTypes={imageFile:l.a.instanceOf(File).isRequired};var A=w,k=n("mKxs"),T=n("Vv6d"),I=n("dz5W"),E=n("Euw7"),R=function(e){Object(s.a)(t,e);function t(){Object(r.a)(this,t);return Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}Object(a.a)(t,[{key:"customFilePreview",value:function(){var e=this.props.attachment,t=Object(j.getFile)(e);if(g(t))return Object(c.jsx)(A,{imageFile:t})}},{key:"fileInfo",value:function(){return Object(y.isUploadCompleted)(this.props.attachment)?Object(c.jsx)(b.a,{value:Object(x.getFileSize)(this.props.attachment)}):Object(c.jsx)(f.a,{message:"conversations-visitor-ui.stagedAttachment.uploadProgress",options:{uploadedBytes:h.a.formatSize(v(this.props.attachment),{precision:2,strip_insignificant_zeroes:!0}),totalBytes:h.a.formatSize(Object(x.getFileSize)(this.props.attachment))}})}},{key:"renderProgress",value:function(){return Object(y.isUploadCompleted)(this.props.attachment)?null:Object(c.jsx)(T.a,{value:Object(j.getUploadProgress)(this.props.attachment)})}},{key:"render",value:function(){return Object(c.jsxs)(I.a,{processing:!Object(y.isUploadCompleted)(this.props.attachment),fileName:Object(O.getFileName)(this.props.attachment),fileInfo:this.fileInfo(),preview:this.customFilePreview(),style:{minWidth:220},children:[Object(c.jsx)(E.a,{size:"xs",onClick:this.props.onRemove}),this.renderProgress()]})}}]);return t}(d.Component);R.displayName="FileUpload";R.propTypes={attachment:Object(k.a)("FileUploadRecord").isRequired,onRemove:l.a.func.isRequired};t.a=R},jM00:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("QYOI"),a=n("MBJP"),i=n("JGJA"),o=n("eEyY"),s=n("OhTC"),c=Object(a.a)([s.a,o.getCurrentThreadId],function(e,t){var n=Object(i.a)(t,e);return n?n.toList():Object(r.List)()})},jUDo:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var r=n("YM6t"),a=n("PTMU"),i=n("rCfO"),o=n("BPoD"),s=n("lK64"),c=n("5ZnG"),u=(Object(i.a)(function(e){return/(<img *src="(.*)"(\s)*(\/)?>)/.test(e)}),Object(i.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=a.b.body;try{a.b.domain=window.location.hostname.indexOf("qa")>=0?"hubspotqa.com":"hubspot.com"}catch(e){}var u=a.b.createElement("div");if(e&&""!==e){i.innerHTML=e;var l=Object.assign({},t);l.transformers=[o.a,c.a].concat(Object(r.a)(n));try{var d=Object(s.a)(l).clean_node(i).cloneNode(!0);u.appendChild(d)}catch(e){console.error(e)}}return t===a.a.TEXTONLY?u.textContent:u.innerHTML}));e&&e.exports&&(e.exports.default=Object.assign({},e.exports))}).call(this,n("ABwO")(e))},jVj2:function(e,t,n){"use strict";n.r(t);n.d(t,"removeAttachment",function(){return i});var r=n("Ut5p"),a=n("FDs6"),i=Object(r.b)(a.g,function(e){return{localId:e.localId,threadId:e.threadId}})},k3iI:function(e,t,n){"use strict";n.r(t);n.d(t,"updateSessionId",function(){return i});var r=n("Ut5p"),a=n("Gaau"),i=Object(r.b)(a.b,function(e){return{sessionId:e}})},kAzj:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=function(e){var t=e.regexes,n=void 0===t?[]:t,r=e.string,a=void 0===r?"":r;return n.some(function(e){return a.match(e)})},a=function(e){var t=e.node,n=e.node_name,a=e.allowedDomainsForIframe;if("iframe"===n&&t&&t.attributes&&t.getAttribute("src")&&!r({regexes:a,string:t.getAttribute("src")})){t.removeAttribute("src");return{node:t}}return null}},kSDi:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n.d(t,"b",function(){return a});n.d(t,"c",function(){return i});var r="filemanager/api",a=10485760,i=95},kkqp:function(e,t,n){var r;function a(){var e,t;t=arguments[0]||{};this.config={};this.config.elements=t.elements?t.elements:[];this.config.attributes=t.attributes?t.attributes:{};this.config.attributes[a.ALL]=this.config.attributes[a.ALL]?this.config.attributes[a.ALL]:[];this.config.allow_comments=!!t.allow_comments&&t.allow_comments;this.allowed_elements={};this.config.protocols=t.protocols?t.protocols:{};this.config.add_attributes=t.add_attributes?t.add_attributes:{};this.dom=t.dom?t.dom:document;for(e=0;e<this.config.elements.length;e++)this.allowed_elements[this.config.elements[e]]=!0;this.config.remove_element_contents={};this.config.remove_all_contents=!1;if(t.remove_contents)if(t.remove_contents instanceof Array)for(e=0;e<t.remove_contents.length;e++)this.config.remove_element_contents[t.remove_contents[e]]=!0;else this.config.remove_all_contents=!0;this.transformers=t.transformers?t.transformers:[]}a.REGEX_PROTOCOL=/^([A-Za-z0-9\+\-\.\&\;\*\s]*?)(?:\:|&*0*58|&*x0*3a)/i;a.RELATIVE="__RELATIVE__";a.ALL="__ALL__";a.prototype.clean_node=function(e){var t=this.dom.createDocumentFragment();this.current_element=t;this.whitelist_nodes=[];function n(e,t){var n;for(n=0;n<t.length;n++)if(t[n]==e)return n;return-1}function r(){var e,t,n=[],r={};for(e=0;e<arguments.length;e++)if(arguments[e]&&arguments[e].length)for(t=0;t<arguments[e].length;t++)if(!r[arguments[e][t]]){r[arguments[e][t]]=!0;n.push(arguments[e][t])}return n}function o(e){var t;switch(e.nodeType){case 1:s.call(this,e);break;case 3:case 5:t=e.cloneNode(!1);this.current_element.appendChild(t);break;case 8:if(this.config.allow_comments){t=e.cloneNode(!1);this.current_element.appendChild(t)}break;default:console&&console.log&&console.log("unknown node type",e.nodeType)}}function s(e){var t,i,s,u,l,d,p,h,f,b,m=c.call(this,e);s=(e=m.node).nodeName.toLowerCase();i=this.current_element;if(this.allowed_elements[s]||m.whitelist){this.current_element=this.dom.createElement(e.nodeName);i.appendChild(this.current_element);var g=this.config.attributes;u=r(g[s],g[a.ALL],m.attr_whitelist);for(t=0;t<u.length;t++){d=u[t];if(l=e.attributes[d]){b=!0;if(this.config.protocols[s]&&this.config.protocols[s][d]){h=this.config.protocols[s][d];b=(f=l.value.toLowerCase().match(a.REGEX_PROTOCOL))?-1!=n(f[1],h):-1!=n(a.RELATIVE,h)}if(b){(p=document.createAttribute(d)).value=l.value;this.current_element.setAttributeNode(p)}}}if(this.config.add_attributes[s])for(d in this.config.add_attributes[s]){(p=document.createAttribute(d)).value=this.config.add_attributes[s][d];this.current_element.setAttributeNode(p)}}else if(-1!=n(e,this.whitelist_nodes)){this.current_element=e.cloneNode(!0);for(;this.current_element.childNodes.length>0;)this.current_element.removeChild(this.current_element.firstChild);i.appendChild(this.current_element)}if(!this.config.remove_all_contents&&!this.config.remove_element_contents[s])for(t=0;t<e.childNodes.length;t++)o.call(this,e.childNodes[t]);this.current_element.normalize&&this.current_element.normalize();this.current_element=i}function c(e){var t,a,i,o={attr_whitelist:[],node:e,whitelist:!1};for(t=0;t<this.transformers.length;t++)if(null!=(i=this.transformers[t]({allowed_elements:this.allowed_elements,config:this.config,node:e,node_name:e.nodeName.toLowerCase(),whitelist_nodes:this.whitelist_nodes,dom:this.dom}))){if("object"!=typeof i)throw new Error("transformer output must be an object or null");if(i.whitelist_nodes&&i.whitelist_nodes instanceof Array)for(a=0;a<i.whitelist_nodes.length;a++)-1==n(i.whitelist_nodes[a],this.whitelist_nodes)&&this.whitelist_nodes.push(i.whitelist_nodes[a]);o.whitelist=!!i.whitelist;i.attr_whitelist&&(o.attr_whitelist=r(o.attr_whitelist,i.attr_whitelist));o.node=i.node?i.node:o.node}return o}for(i=0;i<e.childNodes.length;i++)o.call(this,e.childNodes[i]);t.normalize&&t.normalize();return t};void 0!==(r=function(){return a}.apply(t,[]))&&(e.exports=r)},ksA9:function(e,t,n){"use strict";n("E7sj");var r=n("MJM1"),a=(n("wxG8"),["avatar"]),i=["data"],o=["email"],s=["firstName"],c=["id"],u=["lastName"],l=["senderType"],d=["status"];n.d(t,"a",function(){return p});n.d(t,"c",function(){return h});n.d(t,"d",function(){return f});n.d(t,"e",function(){return b});n.d(t,"f",function(){return m});n.d(t,"g",function(){return g});n.d(t,"b",function(){return j});n.d(t,"h",function(){return v});var p=Object(r.a)(a),h=Object(r.a)(o),f=Object(r.a)(s),b=Object(r.a)(c),m=Object(r.a)(u),g=Object(r.a)(l),j=Object(r.a)(i),v=Object(r.a)(d)},lJFu:function(e,t,n){"use strict";n.r(t);var r=n("UxsU"),a=n("+Q4j"),i=n("Xvzl"),o=n("DdHT"),s=n("nf9S"),c=n("Hnia"),u=n("021p"),l=function(e){Object(c.threadHistoryInvariant)(e);return Object(o.a)(u.b,Object(i.a)(s.isConversationalMessage),function(e){return e&&e.last()})(e)},d=n("nzmY"),p=n("0IK8");n.d(t,"buildCreatedThread",function(){return h});var h=function(e){var t=e.channelDetails,n=e.messagesPageUri,i=e.threadHistory,o=e.threadId;return Object(d.a)({channelDetails:t,currentUrl:n,latestMessageTimestamp:Object(p.getTimestamp)(l(i)),source:a.a,status:r.a.STARTED,threadId:o})}},lK64:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("kkqp"),a=n.n(r),i=function(e){return new a.a(e)}},lMvc:function(e,t,n){var r=n("uQvf"),a="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;function o(e){var t=this.__data__;if(r){var n=t[e];return n===a?void 0:n}return i.call(t,e)?t[e]:void 0}e.exports=o},lOT2:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("MBJP"),a=n("LgEy"),i=n("8cLO"),o=n("647q"),s=n("3gKe"),c=Object(r.a)([o.getLatestWidgetData,s.a],function(e,t){return Object(a.gdprConsentToProcessEnabled)(e)&&!t&&Object(i.gdprExplicitConsentRequired)(e)})},lRdY:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("Ut5p"),a=n("FDs6"),i=Object(r.b)(a.f,function(e){return{threadId:e.threadId}})},lTxV:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("JGJA"),a=Object(r.a)("currentUrl")},le4V:function(e,t,n){"use strict";var r=n("MBJP"),a=n("DdHT"),i=n("ZqFO"),o=n("VvTX"),s=Object(a.a)(i.f,o.getGdprConsentToCommunicateEnabled),c=n("647q");n.d(t,"a",function(){return u});var u=Object(r.a)([c.getLatestWidgetData],function(e){return s(e)})},lnDz:function(e,t,n){"use strict";n.r(t);n.d(t,"attachmentUploadComplete",function(){return i});var r=n("Ut5p"),a=n("FDs6"),i=Object(r.b)(a.b,function(e){return{localId:e.localId,threadId:e.threadId,fileId:e.fileId,uploadedFile:e.uploadedFile}})},mMAp:function(e,t,n){var r=n("LPlp");function a(e){return r(this.__data__,e)>-1}e.exports=a},"n8e+":function(e,t,n){"use strict";var r=n("fFSu"),a=n("QgEn"),i=n("VfuR"),o=n.n(i),s="javascript:void(0)",c=/^([^:]+):/,u=/[\s\x00-\x1f]/g,l=function(e){if(e&&"string"==typeof e){var t=e.match(c);if(!t||e===s)return!1;if("javascript:"===t[0].replace(u,"").toLowerCase())return!0}return!1},d=n("9f1P"),p=n.n(d).a.img.withConfig({displayName:"VizExImage__StyledImg",componentId:"sc-1bl1j2x-0"})(["display:block;height:auto;max-width:100%;"]),h=function(e){var t=e.src,n=Object(r.a)(e,["src"]),i=l(t);i&&console.warn("VizExImage was given an unsafe src, defaulting to empty.");return Object(a.jsx)(p,Object.assign({},n,{src:i?null:t}))};h.propTypes={src:o.a.string.isRequired};h.displayName="VizExImage";t.a=h},nEWr:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=1024},nzPM:function(e,t,n){"use strict";var r=n("QgEn"),a=function(e){return Object(r.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24"},e,{children:[Object(r.jsx)("defs",{children:Object(r.jsx)("path",{d:"M21.158.222L2.568 11.815c-.8.498-.749 1.215.113 1.591l4.406 1.923 10.395-9.903c1.377-1.296 1.569-1.119.426.395L8.254 18.215v4.927c0 .953.5 1.141 1.113.418l4.473-5.282 5.055 2.207c.861.376 1.643-.092 1.736-1.04l1.81-18.404c.094-.949-.484-1.317-1.283-.819",id:"send__a"})}),Object(r.jsx)("use",{xlinkHref:"#send__a",fillRule:"evenodd"})]}))};a.displayName="SVGSend";t.a=a},oxA8:function(e,t,n){"use strict";var r=n("QgEn"),a=n("yvRk"),i=n.n(a),o=n("PVk8");t.a=i()({displayName:"FormattedHTMLMessage",mixins:[o.a],propTypes:o.c,render:function(){this.props.message;var e=Object(o.b)(Object(o.d)(this.props));return Object(r.jsx)("i18n-string",Object.assign({},e,{dangerouslySetInnerHTML:{__html:this._getValue()}}))}})},p1fP:function(e,t,n){var r=n("QhUm");function a(e){var t=r(this,e).delete(e);this.size-=t?1:0;return t}e.exports=a},p5BV:function(e,t,n){"use strict";n.r(t);n.d(t,"generateIdForFile",function(){return r});var r=function(e){var t=e.file,n=e.timestamp;return t.name+"-"+n}},pDio:function(e,t,n){var r=n("XiSY"),a=n("/TWJ");function i(e,t){var n=a(e,t);return r(n)?n:void 0}e.exports=i},qCVG:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return O});var r=n("YM6t"),a=n("PTMU"),i=n("rCfO"),o=n("iBzU"),s=n("jUDo"),c=n("hUip"),u=n("RsqX"),l=n("AgZ1"),d=n("LxXo"),p=n("RC6+"),h=n("2o22"),f=n("ScsA"),b=n("kAzj"),m=n("WmGg"),g=(Object(i.a)(function(e){return!![].concat(Object(r.a)(l.b),[l.a],Object(r.a)(f.b),[f.a]).find(function(t){return e.includes(t)})}),m.a,Object(i.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=[u.a,d.a,l.c],r=Object(s.a)(e,a.a.TEXTONLY,n);return r&&r.length>t?r.substring(0,t):r}),Object(i.a)(function(e){var t=e.text,n=e.shouldRemoveGmailLineBreakBeforeReply,i=void 0!==n&&n,o=e.shouldRemoveEmailSignature,m=void 0===o||o,g=e.htmlConfig,j=void 0===g?a.a.HTML:g,v=e.shouldOpenLinksInNewTab,O=void 0!==v&&v,x=e.allowedDomainsForIframe,y=void 0===x?[]:x,C=[].concat(Object(r.a)(i?[p.a]:[]),Object(r.a)(m?[f.c]:[]),Object(r.a)(O?[h.a]:[])),w=[u.a,d.a,l.c,c.a,function(e){return Object(b.a)(Object.assign({},e,{allowedDomainsForIframe:y}))}].concat(Object(r.a)(C));return Object(s.a)(t,j,w)})),j=Object(i.a)(function(e){var t=e.text,n=e.shouldRemoveGmailLineBreakBeforeReply,i=void 0!==n&&n,o=e.shouldRemoveEmailSignature,l=void 0!==o&&o,m=e.htmlConfig,g=void 0===m?a.a.HTML:m,j=e.shouldOpenLinksInNewTab,v=void 0!==j&&j,O=e.allowedDomainsForIframe,x=void 0===O?[]:O,y=[].concat(Object(r.a)(i?[p.a]:[]),Object(r.a)(l?[f.c]:[]),Object(r.a)(v?[h.a]:[])),C=[u.a,d.a,c.a,function(e){return Object(b.a)(Object.assign({},e,{allowedDomainsForIframe:x}))}].concat(Object(r.a)(y));return Object(s.a)(t,g,C)}),v=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shouldAutolinkTwitter,r=t.shouldIncludeReplies,i=t.shouldRemoveGmailLineBreakBeforeReply,s=t.shouldRemoveEmailSignature,c=t.isPlainText,u=t.shouldPreserveNewlines,l=t.allowedDomainsForIframe,d=t.shouldOpenLinksInNewTab;if(!e)return"";var p=a.a.HTML;if(l){p.elements.push("iframe");p.attributes.iframe=["style","src","scrolling","frameborder","allowtransparency","allowfullscreen"]}var h=c?v(e):e,f=r?j({text:h,shouldRemoveGmailLineBreakBeforeReply:i,shouldRemoveEmailSignature:s,shouldOpenLinksInNewTab:d,htmlConfig:p,allowedDomainsForIframe:l}):g({text:h,shouldRemoveEmailSignature:s,shouldRemoveGmailLineBreakBeforeReply:i,shouldOpenLinksInNewTab:d,htmlConfig:p,allowedDomainsForIframe:l});f=c||u?f:f.replace("\n","");return(n?o.a.getTwitter():o.a.get()).link(f)};e&&e.exports&&(e.exports.default=Object.assign({},e.exports))}).call(this,n("ABwO")(e))},qXlW:function(e,t,n){"use strict";var r=n("mKxs"),a=n("VfuR"),i=n.n(a),o=n("9C7g"),s=n.n(o);t.a=s.a.mapOf(s.a.recordOf({data:Object(r.a)("Sender"),status:i.a.string.isRequired}),Object(r.a)("SenderLocator"))},qgyf:function(e,t,n){"use strict";n.r(t);n.d(t,"attachmentUploadProgress",function(){return i});var r=n("Ut5p"),a=n("FDs6"),i=Object(r.b)(a.c,function(e){return{localId:e.localId,threadId:e.threadId,progress:e.progress}})},qwm9:function(e,t,n){"use strict";n.r(t);n.d(t,"createVisitorThread",function(){return o});var r=n("nDpY"),a=n.n(r),i=n("VYoM");function o(e){var t=e.sessionId,n=e.messageId,r=e.hubspotUtk,o=e.messagesPageUri,s=e.visitorThreadInitialHistory,c=e.zoneId;return i.a.post("livechat-public/v1/thread/visitor",{query:{sessionId:t,welcomeMessageId:n,hubspotUtk:r,portalId:a.a.get(),expectedResponseType:"WRAPPER_V2",zoneId:c},data:{visitorThreadInitialHistory:s},headers:{"X-HubSpot-Messages-Uri":o}})}},r0yA:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("MBJP"),a=n("JGJA"),i=n("FC+o"),o=n("Pda3"),s=n("KXN9"),c=n("Ryja"),u=n("M/2P"),l=n("ZSXR"),d=function(e){return e.clientData.isPubNubClientConnected},p=Object(a.a)("subscriptions"),h=Object(r.a)([l.a,c.getAsyncStagedThread,p,u.getAsyncPubSubClient,d],function(e,t,n,r,a){if(Object(o.isFailed)(e))return i.e;if(Object(o.isFailed)(t)){var c=Object(s.b)(t),u=c&&418===c.status;if(!c||!u)return i.a}return Object(o.isFailed)(n)?i.d:Object(o.isFailed)(r)?i.c:a?null:i.b})},rkqN:function(e,t,n){"use strict";var r=n("QYOI"),a=Object(r.Record)({tileBackgroundColor:"rgba(255, 255, 255, 1)"},"FileAttachmentTheme");t.a=a},sIRh:function(e,t,n){"use strict";n.r(t);n.d(t,"default",function(){return u});n.d(t,"publishEmailCaptureResponseMessage",function(){return u});var r=n("+Q4j"),a=n("mu7T"),i=n("nS6h"),o=n("oawp"),s=n("IhEF"),c=n("v0wH"),u=function(e){var t=e.channel,n=e.email,u=e.threadId;return function(e){var l=o.SYSTEM_SENDER,d=new a.a({id:Object(s.generateUuid)(),text:n,sender:{"@type":l},status:{source:r.a,messageStatus:c.b}});e(Object(i.publishMessageToConversation)({channel:t,message:d,threadId:u}))}}},sWFM:function(e,t,n){"use strict";n.r(t);n.d(t,"getMessageId",function(){return i});var r=n("MBJP"),a=n("647q"),i=Object(r.a)([a.getLatestWidgetData],function(e){return e.message.id})},tlSg:function(e,t,n){"use strict";n.r(t);n.d(t,"sendConsentToCommunicate",function(){return s});var r=n("nDpY"),a=n.n(r),i=n("VYoM"),o="livechat-public/v1/privacy/consentToCommunicate";function s(e){var t=e.sessionId,n=e.hubspotUtk,r=e.threadId;return i.a.put(o,{query:{sessionId:t,hubspotUtk:n,threadId:r,portalId:a.a.get()}})}},uIOU:function(e,t,n){var r=n("QG41"),a=n("6upE"),i=n("lMvc"),o=n("XXaZ"),s=n("KLi6");function c(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r;c.prototype.delete=a;c.prototype.get=i;c.prototype.has=o;c.prototype.set=s;e.exports=c},uQvf:function(e,t,n){var r=n("pDio")(Object,"create");e.exports=r},"uk/S":function(e,t,n){"use strict";n.r(t);n.d(t,"sendConsentToProcess",function(){return s});var r=n("nDpY"),a=n.n(r),i=n("VYoM"),o="livechat-public/v1/privacy/consentToProcess";function s(e){var t=e.sessionId,n=e.hubspotUtk,r=e.welcomeMessageId;return i.a.put(o,{query:{sessionId:t,hubspotUtk:n,welcomeMessageId:r,portalId:a.a.get()}})}},vwA6:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("Ut5p"),a=n("NID/"),i=Object(r.b)(a.G,function(e){return{widgetInputIsOnFocus:e}});function o(e){return function(t){t(i(e))}}},w1Zi:function(e,t,n){"use strict";var r=n("vTCD"),a=n("k8Et"),i=n("mNyx"),o=n("txVw"),s=n("UMxk"),c=n("pGTB"),u=n("QgEn"),l=n("1HZx"),d=n("9Utk"),p=n.n(d),h=n("Syy6"),f=n.n(h),b=n("VfuR"),m=n.n(b),g=n("Ktcs"),j=n("7j4v"),v=n("2gT5"),O=n("mKxs"),x=n("kSDi"),y=n("QYOI"),C=n("8f3s"),w=n("/EZN"),A=1e3,k=n("iao3"),T=function(e){Object(c.a)(t,e);function t(e){var n;Object(r.a)(this,t);(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).publishTypingMessage=f()(n.props.publishTypingMessage,j.a,{leading:!0,trailing:!1});n.onChatInputChanged=n.onChatInputChanged.bind(Object(s.a)(n));n.onPublishMessage=n.onPublishMessage.bind(Object(s.a)(n));n.onSelectAttachmentFiles=n.onSelectAttachmentFiles.bind(Object(s.a)(n));n.onRemoveAttachment=n.onRemoveAttachment.bind(Object(s.a)(n));n.inputStagingEvent=p()(k.a,A);return n}Object(a.a)(t,[{key:"onChatInputChanged",value:function(e){var t=this.props,n=t.currentConversation,r=t.disablePublish,a=t.shouldSendInputStagingEvent,i=t.showInitialMessageBubble;(0,t.setMessageEditorStagingText)(e);r||""===e||this.publishTypingMessage({thread:n});a&&this.inputStagingEvent(e,!1);i&&this.props.closeInitialMessageBubble()}},{key:"onPublishMessage",value:function(e){var t=e.text,n=e.richText,r=e.quickReply,a=this.props,i=a.messagesPageUri,o=a.publishMessage,s=a.stagedAttachments,c=a.removeMessageEditorStagingText;this.publishTypingMessage.cancel();o({text:t,richText:n,quickReply:r,url:i,fileAttachment:Object(C.a)(s)});c()}},{key:"onSelectAttachmentFiles",value:function(e){var t=e.files;if(t&&t.length){var n=this.props,r=n.onSelectAttachmentFile,a=n.currentConversation;r({file:t.item(0),thread:a})}}},{key:"onRemoveAttachment",value:function(e){var t=e.attachment,n=this.props,r=n.currentConversation,a=n.onRemoveAttachment;a({attachment:t,thread:r})}},{key:"render",value:function(){var e=this.props,t=e.coloring,n=e.currentConversation,r=e.disablePublish,a=e.disableTextInput,i=e.isOnFocus,o=e.mobile,s=e.networkOffline,c=e.shouldHideAttachmentButton,d=e.shouldSendInputStagingEvent,p=e.showingHsBranding,h=e.stagedAttachments,f=e.toggleOnAndOffInputFocus,b=e.stagedMessage,m=e.showQuickReplyPlaceholder,g=e.canUploadAttachments;return Object(u.jsx)(l.a,{coloring:t,chatInputChanged:this.onChatInputChanged,disabled:a,disablePublish:r,isOnFocus:i,maxAttachmentFileSize:x.b,mobile:o,networkOffline:s,onSelectAttachmentFiles:this.onSelectAttachmentFiles,onRemoveAttachment:this.onRemoveAttachment,publishMessage:this.onPublishMessage,shouldHideAttachmentButton:c,showingHsBranding:p,stagedAttachments:h,stagedMessageEditorText:b,supportsAttachments:Object(v.isPersistedThread)(n),toggleOnAndOffInputFocus:f,fileTypes:w.a,showQuickReplyPlaceholder:m,shouldSendInputStagingEvent:d,inputStaging:this.inputStagingEvent,canUploadAttachments:g})}}]);return t}(g.PureComponent);T.displayName="MessageEditorWrapper";T.propTypes={canUploadAttachments:m.a.bool.isRequired,closeInitialMessageBubble:m.a.func.isRequired,coloring:Object(O.a)("ColoringRecord").isRequired,currentConversation:Object(O.a)("Thread"),disablePublish:m.a.bool.isRequired,disableTextInput:m.a.bool.isRequired,isOnFocus:m.a.bool.isRequired,messagesPageUri:m.a.string,mobile:m.a.bool,networkOffline:m.a.bool.isRequired,onRemoveAttachment:m.a.func.isRequired,onSelectAttachmentFile:m.a.func.isRequired,publishMessage:m.a.func.isRequired,publishTypingMessage:m.a.func.isRequired,removeMessageEditorStagingText:m.a.func.isRequired,setMessageEditorStagingText:m.a.func.isRequired,shouldHideAttachmentButton:m.a.bool.isRequired,shouldSendInputStagingEvent:m.a.bool.isRequired,showInitialMessageBubble:m.a.bool.isRequired,showQuickReplyPlaceholder:m.a.bool.isRequired,showingHsBranding:m.a.bool.isRequired,stagedAttachments:m.a.instanceOf(y.List),stagedMessage:m.a.string,toggleOnAndOffInputFocus:m.a.func};t.a=T},wID2:function(e,t,n){var r=n("QhUm");function a(e){return r(this,e).has(e)}e.exports=a},wn0x:function(e,t,n){"use strict";n.r(t);n.d(t,"getMessageId",function(){return o});var r=n("MBJP"),a=n("JGJA"),i=n("OmJX"),o=Object(r.a)(i.a,Object(a.a)("id"))},wy0V:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("Ut5p"),a=n("kT9C"),i=Object(r.b)(a.b,function(e){return{currentUrl:e.currentUrl,threadId:e.threadId}})},xAl4:function(e,t,n){"use strict";n.r(t);n.d(t,"uploadAttachmentClient",function(){return a});var r=n("SOdg"),a=function(e){var t=e.formData,n=e.uploadUrl,a=e.onProgress,i=void 0===a?function(){}:a;return r.a.post(n,{headers:{"content-type":!1},data:t,timeout:0,withXhr:function(e){e.upload.addEventListener("progress",i,!1)}})}},xM7V:function(e,t,n){"use strict";var r=n("vTCD"),a=n("mNyx"),i=n("txVw"),o=n("pGTB"),s=n("QYOI"),c=n("p5BV"),u=function(e){Object(o.a)(t,e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,t);return Object(a.a)(this,Object(i.a)(t).call(this,Object.assign({},e,{localId:Object(c.generateIdForFile)({file:e.file,timestamp:Date.now()})})))}return t}(Object(s.Record)({file:null,localId:"",fileId:-1,uploadProgress:0},"FileUploadRecord"));t.a=u},xP7N:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},xYYH:function(e,t,n){"use strict";n.r(t);n.d(t,"isUploadCompleted",function(){return a});var r=n("A3yT"),a=function(e){return-1!==Object(r.getFileId)(e)}},xePV:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("JGJA"),a=Object(r.a)("fileUploadsErrors")},xzMr:function(e,t,n){"use strict";var r=n("QYOI"),a=n("eP/i"),i=Object(r.Record)({width:"auto",minHeight:36,borderColor:a.h,whiteSpace:"normal",lineHeight:"1rem",color:a.h},"QuickReplyTheme");t.a=i},yynV:function(e,t,n){"use strict";n.r(t);var r,a=n("QYOI"),i=n("BW+T"),o=n.n(i),s=n("0IK8"),c=function(e,t){return Boolean(t[Object(s.getType)(e)])},u=n("OwGx"),l=n("GzqH"),d=Object(a.Record)((r={},Object(u.a)(r,l.b,l.a),Object(u.a)(r,"timestamp",null),Object(u.a)(r,"id",null),r),"DateMessage"),p=function(e,t){var n=new Date(Object(s.getTimestamp)(e)),r=new Date(Object(s.getTimestamp)(t));return n.getFullYear()!==r.getFullYear()||n.getMonth()!==r.getMonth()||n.getDate()!==r.getDate()},h=function(e,t,n){return!(!t&&!n)&&Boolean(Object(s.getTimestamp)(e)&&(!t||p(t,e)))},f=n("eoCu");n.d(t,"insertDatesIntoMessageList",function(){return m});var b=o()(d,function(e){return e.id}),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.reduce(function(r,a,i){var o=i>0?e.get(i-1):void 0;h(a,o,n)&&c(a,t)&&(r=r.push(b({id:Object(f.a)(a)+"-date",timestamp:Object(s.getTimestamp)(a)})));return r.push(a)},Object(a.List)())}},z96q:function(e,t,n){"use strict";n.r(t);n.d(t,"sendVisitorEmailAddress",function(){return a});var r=n("VYoM");function a(e){var t=e.threadId,n=e.email,a=e.sessionId,i=e.hubspotUtk;return r.a.post("livechat-public/v1/visitor/public",{query:{threadId:t,email:n,sessionId:a,hubspotUtk:i}})}},zB5l:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("MBJP"),a=n("KSjU"),i=n("xk3e"),o=Object(r.a)([i.getAssignedResponderInWidget],function(e){return Boolean(e&&Object(a.a)(e))})}}]);
//# sourceMappingURL=threadview-utv.js.map